{"version":3,"sources":["page-debug.js"],"names":["define","Nui","regex","mobile","tel","email","idcard","cn","taxnum","toFixed","digit","decimal","number","isNaN","undefined","value","toString","mend","num","zero","pre","replace","i","indexOf","integer","parseInt","substr","_decimal","Math","round","len","length","getParam","name","urls","url","decodeURI","location","href","startIndex","temp","param","split","each","val","setParam","self","this","type","key","reg","RegExp","and","supportCss3","style","prefix","humpString","htmlStyle","document","documentElement","_toHumb","string","$0","$1","toUpperCase","push","supportHtml5","attr","element","createElement","target","jQuery","appendTo","children","click","end","remove","formatDate","timestamp","format","date","Date","map","M","getMonth","d","getDate","h","getHours","m","getMinutes","s","getSeconds","all","single","getFullYear","getData","item","field","that","data","result","voids","total","arr","serializeArray","find","div","v","trim","isArray","k","join","once","$","getFocusIndex","index","setSelectionRange","selectionStart","selection","createRange","textRange","createTextRange","setEndPoint","text","e","isTextSelect","navigator","userAgent","toLowerCase","textArea","activeElement","substring","selectionEnd","window","getSelection","isInstallPDF","flag","browser","webkit","mozilla","version","plugins","test","ActiveXObject","prototype","eval","isInstallFlash","msie","formatNumber","dot","toLocaleString","numberToCN","integerNum","decimalNum","parts","cnNums","Array","cnIntRadice","cnIntUnits","cnDecUnits","chineseStr","isMinus","abs","parseFloat","zeroCount","IntLen","n","p","q","decLen","Number","util","template","tplid","opts","caches","render","call","ele","getElementById","nodeName","innerHTML","options","openTag","closeTag","methods","isstr","snippet","iscode","code","joinCode","joinSnippet","replaceInclude","tpl","regs","rege","str","tid","tmp","isNode","HTMLElement","obj","nodeType","isDom","$list","compile","variables","Rander","Function","error","dom","out","line","msg","codes","JSON","stringify","message","console","logic","res","match","exists","lastIndexOf","_call","slice","start","trimLeft","isVal","a","b","rep","syntax","regexp","method","callback","config","args","arguments","constr","constructor","isComponent","__component_name","elem","doc","events","_events","evt","ret","cbs","_cb","_that","cb","evts","shift","_on","on","module","require","extend","callMethod","id","_options","__id","apply","bsie7","blur","statics","__instances","__setMethod","apis","components","methodName","container","mod","nui","_mod","exports","_init","noop","_jquery","_getSize","selector","dir","size","group","l","r","lr","t","tb","border","padding","margin","css","_$fn","fn","object","option","_$ready","init","hasInstance","exist","instances","_static","skin","className","onInit","onReset","onDestroy","_template","_exec","_getTarget","_class","_bindComponentName","_tplData","getName","arrs","__parent","_pclass","_name","unshift","_event","dalegate","trigger","_callback","__eventList","_off","_eventList","off","_delete","removeAttr","_reset","_tpl2html","isOriginal","isdef","isPlainObject","reset","destroy","component","_maskzIndex","_zIndex","timer","win","clearTimeout","setTimeout","position","isCenter","resize","content","width","height","zIndex","maxWidth","maxHeight","edge","title","isMove","isMask","isInnerMove","isClickMask","isMoveMask","isHide","isFull","isTop","isTips","isFixed","scrollbar","isStopProp","align","bubble","enable","iframe","cache","src","close","confirm","cancel","under","button","onMove","onResize","onScroll","onHideBefore","onDestroyBefore","onTimer","layout","mask","movemask","_container","_containerDOM","get","tagName","_window","_isWindow","_isFixed","bsie6","_create","buttons","_createButton","isTitle","_getContent","z-index","display","_setTop","_box","head","_body","main","foot","_iframe","_iframeOnload","_bindMove","_stopProp","_bindTop","_button","_buttonEvent","_bindScroll","_show","_createIframe","prop","getTime","frameborder","scroll","load","_iframeDocument","contents","_resize","defaults","add","btn","def","hasClass","isCall","stopPropagation","_setzIndex","x","y","_x","_y","_moveMask","cursor","outerWidth","outerHeight","top","left","pageX","pageY","offsetTop","scrollTop","offsetLeft","scrollLeft","_isTop","_setLower","unders","concat","_position","_v","pos","_pos","right","bottom","wWidth","wHeight","stop","sleft","_setSize","overflow","edgeSize","ws","layer","_height","contentHeight","_showMask","__layermask__","hide","_time","_timer","_timerid","noMask","_isdestroy","renders","click .j-add","click .j-del","click .j-update","checks","html","del","update"],"mappings":"CAAC,SAAUA,QAQXC,IAAID,QAAQ,iBAKRE,OAEIC,OAAO,+BAEPC,IAAI,qBAEJC,MAAM,yEAENC,OAAO,wBAEPC,GAAG,qBAEHC,OAAO,wBAUXC,QAAQ,SAASC,EAAOC,EAASC,GAC7B,GAAGC,MAAMH,IAAoB,KAAVA,EACf,MAAOA,OAIGI,KAAXF,IACCA,EAAS,GAGbD,EAAUA,GAAW,CAGrB,IAAII,GAAQL,EAAMM,WAGdC,EAAO,SAASC,GAEhB,IADA,GAAIC,GAAO,GACLD,EAAM,GACRC,GAAQ,IACRD,GAEJ,OAAOC,IAIPC,EAAM,EACPL,GAAQ,IACPA,EAAQA,EAAMM,QAAQ,IAAK,IAC3BD,EAAM,IAIV,IAAIE,GAAIP,EAAMQ,QAAQ,IAEtB,KAAU,IAAPD,GAAYX,GAAW,EAAE,CACxB,GAAIa,GAAUC,SAASV,EAAMW,OAAO,EAAGJ,IAEnCK,EAAW,IAAMZ,EAAMW,OAAOJ,GAC9BJ,EAAM,IAAMD,EAAKN,EACrBgB,IAAYC,KAAKC,MAAMF,EAAST,GAAKA,GAAKT,QAAQE,GAE/CgB,GAAY,IACXH,GAAWA,EAAU,GAAGR,YAE5BD,EAAQK,EAAMI,EAAUG,EAASD,OAAO,OAGpCf,GAAU,IACdI,EAAQK,EAAML,EAAQ,IAAME,EAAKN,GAGrC,IAAc,OAAXC,GAAmBA,GAAU,GAAKA,EAASD,EAAQ,CAClDI,EAAQA,EAAMM,QAAQ,MAAO,GAC7B,IAAIC,GAAIP,EAAMQ,QAAQ,KAAMO,EAAM,CAIlC,MAHU,IAAPR,IACCQ,EAAMf,EAAMW,OAAOJ,EAAE,GAAGS,QAEtBD,EAAMlB,GACRG,GAAgB,IAChBe,GAEJf,GAAQA,EAAMM,QAAQ,MAAO,IAGjC,MAAON,IASXiB,SAAS,SAASC,EAAMC,GACpB,GAAIC,GAAMC,UAAUF,GAAMG,SAASC,MAAOvB,IAE1C,IADAwB,WAAaJ,EAAIZ,QAAQ,KACtBgB,aAAe,EAAE,CAChB,GAA+CC,GAA3CC,EAAQN,EAAIT,OAAOa,YAAYG,MAAM,IACzCzC,KAAI0C,KAAKF,EAAO,SAASG,GACrBJ,EAAOI,EAAIF,MAAM,KACjB3B,EAAMyB,EAAK,IAAMA,EAAK,KAM9B,MAHmB,gBAATP,IAAqBA,IAC3BlB,MAAiCD,MAAxB0B,EAAOzB,EAAMkB,IAAuBO,EAAO,IAEjDzB,GAUX8B,SAAS,SAASZ,EAAMlB,EAAOmB,GAC3B,GAAiBC,GAAbW,EAAOC,IACX,IAAG9C,IAAI+C,KAAKf,EAAM,UACdE,EAAMpB,GAAOsB,SAASC,KACtBrC,IAAI0C,KAAKV,EAAM,SAASW,EAAKK,IACtBL,GAAe,IAARA,KACNT,EAAMW,EAAKD,SAASI,EAAKL,EAAKT,UAStC,IAJAA,EAAMD,GAAMG,SAASC,MACI,IAAtBH,EAAIZ,QAAQ,OACXY,GAAO,MAEmB,IAA3BA,EAAIZ,QAAQU,EAAK,KAAY,CAC5B,GAAIiB,GAAM,GAAIC,QAAO,IAAIlB,EAAK,UAC9BE,GAAMA,EAAId,QAAQ6B,EAAK,KAAKnC,OAE5B,CACA,GAAIqC,GAAM,IACe,IAAtBjB,EAAIZ,QAAQ,OACX6B,EAAM,KAEVjB,GAAOiB,EAAInB,EAAK,IAAIlB,EAG5B,MAAOoB,IAQXkB,YAAY,SAASC,GACjB,GACIhC,GADAiC,GAAU,SAAU,MAAO,KAAM,KAC9BC,KACHC,EAAYC,SAASC,gBAAgBL,MACrCM,EAAU,SAAUC,GAChB,MAAOA,GAAOxC,QAAQ,SAAU,SAAUyC,EAAIC,GAC1C,MAAOA,GAAGC,gBAGtB,KAAK1C,IAAKiC,GACNC,EAAWS,KAAKL,EAAQL,EAAOjC,GAAK,IAAMgC,GAC9CE,GAAWS,KAAKL,EAAQN,GACxB,KAAKhC,IAAKkC,GACN,GAAIA,EAAWlC,IAAMmC,GAAW,OAAO,CAC3C,QAAO,GASXS,aAAa,SAASC,EAAMC,GACxB,MAAOD,KAAQT,UAASW,cAAcD,IAS1C/B,SAAS,SAASF,EAAKmC,GAChBnC,GACCoC,OAAO,YAAapC,EAAK,KAAMmC,EAAS,YAAaA,GAAQ,SAAU,IAAM,IAAM,sBAC9EE,SAAS,QAAQC,WAAWC,QAAQC,MAAMC,UAUvDC,WAAW,SAASC,EAAWC,GAC3B,GAAGD,EAAYrD,SAASqD,GAAW,CAC/B,IAAIC,EACA,MAAOD,EAEX,IAAIE,GAAO,GAAIC,MAAKH,GAChBI,GACAC,IAAIH,EAAKI,WAAW,EACpBC,IAAIL,EAAKM,UACTC,IAAIP,EAAKQ,WACTC,IAAIT,EAAKU,aACTC,IAAIX,EAAKY,aAgBb,OAdAb,GAASA,EAAO1D,QAAQ,eAAgB,SAASwE,EAAKC,GAClD,GAAI/E,GAAQmE,EAAIY,EAChB,YAAahF,KAAVC,GACI8E,EAAI9D,OAAS,IACbhB,EAAQ,IAAMA,EACdA,EAAQA,EAAMW,OAAOX,EAAMgB,OAAO,IAE/BhB,GAES,MAAX+E,GACId,EAAKe,cAAgB,IAAIrE,OAAO,EAAEmE,EAAI9D,QAE3C8D,IAIf,MAAO,KAiCXG,QAAQ,SAAS5B,EAAS6B,EAAMC,GAC5B,GAAIC,GAAOpD,KACVqD,GACHC,YACAC,QAAQ,EACFC,QAAQ,EAEZ,IAAGnC,EAAQrC,OAAO,CACd,GAAIyE,GAAMpC,EAAQqC,gBACdD,GAAIzE,SACJyE,EAAMpC,EAAQsC,KAAK,UAAUD,iBAEjC,IAAIE,GAAM,GAmBV,IAlBGV,GAAwB,gBAATA,KAAsBC,IACpCS,EAAMV,GAEVhG,IAAI0C,KAAK6D,EAAK,SAASI,EAAGtF,GACtB,GAAIsB,GAAM3C,IAAI4G,KAAKD,EAAE7F,MACrBqF,GAAKG,QACD3D,GACAwD,EAAKE,OAET,IAAIrE,GAAO2E,EAAE3E,IACThC,KAAI6G,QAAQV,EAAKC,OAAOpE,MACxBmE,EAAKC,OAAOpE,OAEhBmE,EAAKC,OAAOpE,GAAMgC,KAAKrB,KAE3B3C,IAAI0C,KAAKyD,EAAKC,OAAQ,SAASO,EAAGG,GAC9BX,EAAKC,OAAOU,GAAKH,EAAEI,KAAKL,KAEzBV,GAAQC,EAAM,CACb,GAAIe,IAAO,CACXb,GAAKC,OAAOH,MACZ9B,EAAQsC,KAAKT,GAAMtD,KAAK,WACpB,GAAI0D,GAASF,EAAKH,QAAQkB,EAAEnE,MAAM2D,KAAK,WAAWL,QACtC,IAATJ,GAAkBgB,IACjBhH,IAAI0C,KAAK0D,EAAQ,SAASO,EAAGG,SAClBX,GAAKC,OAAOU,KAEvBE,GAAO,GAEXb,EAAKC,OAAOH,GAAOjC,KAAKoC,MAIpC,MAAOD,IAOXe,cAAc,SAAS/C,GACnB,GAAIxB,GAAM3C,IAAI4G,KAAKzC,EAAQrD,OACvBqG,EAAQxE,EAAIb,MAChB,IAAGqC,EAAQiD,kBACPD,EAAQhD,EAAQkD,mBAIhB,KACI,GAAI9E,GAAOkB,SAAS6D,UAAUC,cAC1BC,EAAYrD,EAAQsD,iBACxBD,GAAUE,YAAY,WAAYnF,GAClC4E,EAAQK,EAAUG,KAAK7F,OAE3B,MAAM8F,IAEV,MAAOT,IAMXU,aAAa,WACT,GAAIF,GAAO,EAEX,IAAGlE,SAAS6D,UACRK,EAAQlE,SAAS6D,UAAUC,cAAcI,SAGxC,KAA2D,IAAxDG,UAAUC,UAAUC,cAAc1G,QAAQ,SAAgB,CAC9D,GAAI2G,GAAWxE,SAASyE,aACxBP,GAAOM,EAASnH,MAAMqH,UAAUF,EAASZ,eAAgBY,EAASG,kBAG9DC,QAAOC,aACXX,EAAOU,OAAOC,eAAevH,WAGzB0C,SAAS6E,eACbX,EAAOlE,SAAS6E,eAAevH,WAEnC,SAAS4G,GAMbY,aAAa,WACT,GAAIlH,GAAGQ,IAEH2G,MAAO,CAMX,KAJGxI,IAAIyI,QAAQC,QAAW1I,IAAIyI,QAAQE,SAAW3I,IAAIyI,QAAQG,QAAU,MACnEJ,MAAO,GAGRV,UAAUe,UAAYhH,IAAMiG,UAAUe,QAAQ/G,QAC7C,IAAIT,EAAI,EAAGA,EAAIQ,IAAKR,IAChB,GAAG,mDAAmDyH,KAAKhB,UAAUe,QAAQxH,GAAGW,MAAM,CAClFwG,MAAO,CACP,OAIZ,IACI,GAAGH,OAAOU,eAAiBV,OAAOU,cAAcC,UAAU,CACtD,IAAI3H,EAAI,EAAGA,EAAI,GAAIA,IACf,IACI,GAAG4H,KAAK,mCAAoC5H,EAAI,QAAO,CACnDmH,MAAO,CACP,QAGR,MAAMZ,GACFY,MAAO,EAIf,GAAIjC,MAAO,cAAe,gBAAiB,uBAAwB,gBAAiB,oBAEpF,KADA1E,IAAM0E,IAAIzE,OACNT,EAAI,EAAGA,EAAIQ,IAAKR,IAChB,IACI,GAAG,GAAI0H,eAAcxC,IAAIlF,IAAI,CACzBmH,MAAO,CACP,QAIR,MAAMZ,GACFY,MAAO,IAKvB,MAAMZ,IAEN,MAAOY,OAMXU,eAAe,WACX,OAAkC,KAAxBb,OAAOU,cACb,IACI,GAAK,GAAIA,eAAc,iCACnB,OAAO,EAGf,MAAMnB,QAGN,IAAKE,UAAUe,QAAQ,mBACnB,OAAO,CAGf,OAAG7I,KAAIyI,QAAQU,KACJ,6CAGA,8CAQfC,aAAa,SAASzI,GAClB,GAAIY,GAAUC,SAASb,EACvB,KAAIC,MAAMW,IAAYA,IAAYZ,EAASA,EAAOI,YAAY,CAC1D,GAAIsI,GAAM1I,EAAOW,QAAQ,KACrBZ,EAAU,EAId,OAHG2I,GAAM,IACL3I,EAAUC,EAAOc,OAAO4H,IAErB9H,EAAQ+H,iBAAiBlI,QAAQ,SAAU,IAAMV,EAE5D,MAAOC,IAOX4I,WAAW,SAAS5I,GAEhB,GAcI6I,GAEAC,EAIAC,EApBAC,EAAS,GAAIC,OAAM,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAEhEC,EAAc,GAAID,OAAM,GAAI,IAAK,IAAK,KAEtCE,EAAa,GAAIF,OAAM,GAAI,IAAK,IAAK,KAErCG,EAAa,GAAIH,OAAM,IAAK,IAAK,IAAK,KAYtCI,EAAa,EAGjB,IAAc,IAAVrJ,EAAgB,MAAO,EAC3B,IAAIsJ,GAAUtJ,EAAS,CAEvB,KADAA,EAASgB,KAAKuI,IAAIC,WAAWxJ,MAXhB,KAcT,MAAO,EAEX,IAAc,GAAVA,EAEA,MADAqJ,GAAaL,EAAO,GAnBR,IAiChB,IAVAhJ,EAASA,EAAOI,YACY,GAAxBJ,EAAOW,QAAQ,MACfkI,EAAa7I,EACb8I,EAAa,KAEbC,EAAQ/I,EAAO8B,MAAM,KACrB+G,EAAaE,EAAM,GACnBD,EAAaC,EAAM,GAAGjI,OAAO,EAAG,IAGhCD,SAASgI,EAAY,IAAM,EAAG,CAG9B,IAAK,GAFDY,GAAY,EACZC,EAASb,EAAW1H,OACfT,EAAI,EAAGA,EAAIgJ,EAAQhJ,IAAK,CACjC,GAAIiJ,GAAId,EAAW/H,OAAOJ,EAAG,GACzBkJ,EAAIF,EAAShJ,EAAI,EACjBmJ,EAAID,EAAI,EACR/E,EAAI+E,EAAI,CACH,MAALD,EACAF,KAEIA,EAAY,IAChBJ,GAAcL,EAAO,IAGrBS,EAAY,EACZJ,GAAcL,EAAOnI,SAAS8I,IAAMT,EAAYrE,IAE3C,GAALA,GAAU4E,EAAY,IACtBJ,GAAcF,EAAWU,IAG7BR,GAvDY,IA0DhB,GAAkB,IAAdP,EAEA,IAAK,GADDgB,GAAShB,EAAW3H,OACfT,EAAI,EAAGA,EAAIoJ,EAAQpJ,IAAK,CACjC,GAAIiJ,GAAIb,EAAWhI,OAAOJ,EAAG,EACpB,MAALiJ,IACAN,GAAcL,EAAOe,OAAOJ,IAAMP,EAAW1I,IAYrD,MARkB,IAAd2I,EACAA,GAAcL,EAAO,GApET,KAqES,IAAdF,IACPO,GAxEY,KA0EbC,IACCD,EAAa,IAAMA,GAEhBA,KAWfhK,IAAID,QAAQ,qBAAsB,iBAAkB,SAAS4K,GAEzD,GAAIC,GAAW,SAASC,EAAO1E,EAAM2E,GACjC,GAAGhI,KAAK+H,MAAQA,EAAM,CAClB,GAAGE,EAAOF,GACN,MAAOG,GAAOC,KAAKnI,KAAMiI,EAAOF,GAAQ1E,EAAM2E,EAElD,IAAII,GAAMzH,SAAS0H,eAAeN,EAClC,IAAGK,GAAsB,WAAfA,EAAIE,UAAoC,cAAbF,EAAInI,KACrC,MAAOiI,GAAOC,KAAKnI,KAAMiI,EAAOF,GAASK,EAAIG,UAAWlF,EAAM2E,GAGtE,MAAO,IAGPC,KAEAO,GACAC,QAAQ,KACRC,SAAS,MAGTC,GACA7E,KAAK5G,IAAI4G,KACThC,WAAW+F,EAAK/F,WAChBwE,aAAauB,EAAKvB,aAClBxG,SAAS+H,EAAK/H,SACdpC,QAAQmK,EAAKnK,QACb+I,WAAWoB,EAAKpB,YAGhBmC,IAAU,GAAG9E,KAEb+E,EAAU,2CAGdA,IAAWD,EAAQ,KAAKC,EAAU,KAAKA,EAAQ,aAAa,GAE5D,IAAI5E,GAAO,SAAS6E,GAChB,MAAGF,GACIE,EACQ,SAASC,GACZ,MAAO,iBAAiBA,EAAK,KAG9B,SAASA,EAAMF,GAClB,MAAOE,IAAQF,GAGpBC,EACQ,SAASC,GACZ,MAAO,mBAAmBA,EAAK,MAGhC,SAASA,EAAMF,GAElB,MADAE,GAAK7H,KAAK2H,GACHE,IAIXC,EAAW/E,GAAK,GAEhBgF,EAAchF,IAEdiF,EAAiB,SAASC,EAAKV,EAASC,EAAUV,GAClD,GAAI5E,GAAOpD,KACPoJ,EAAOX,EAAQnK,QAAQ,WAAY,QACnC+K,EAAOX,EAASpK,QAAQ,WAAY,OACxC,OAAO6K,GAAI7K,QAAQ,GAAI8B,QAAOgJ,EAAK,yCAA4CC,EAAM,KAAM,SAASC,EAAKC,GACrG,GAAGA,EAAI,CACH,GAAIC,GAAMpG,EAAKmG,EAIf,OAHkB,kBAARC,KACNA,EAAMA,KAEQ,gBAARA,GACCtB,EAAOC,KAAK/E,EAAMoG,EAAK,KAAMxB,GAG7BF,EAASyB,EAAK,KAAMvB,GAGnC,MAAO,MAKXyB,EAAgC,gBAAhBC,aACpB,SAASC,GACL,MAAOA,aAAeD,cAE1B,SAASC,GACL,MAAwB,KAAjBA,EAAIC,UAA0C,gBAAjBD,GAAIrB,UAExCuB,EAAQ,SAASF,GACjB,GAAGA,GAAsB,gBAARA,GAAiB,CAE9B,GAAIvB,GAAMuB,EAAI,EACd,OACWF,GADRrB,EACeA,EAGJuB,KAIlBzB,EAAS,SAASiB,EAAK9F,EAAM2E,GAC7B,GAAI5E,GAAOpD,IACX,IAAkB,gBAARmJ,GAAiB,CACvBnB,EAAOA,KACP,IAAIS,GAAUT,EAAKS,SAAWD,EAAQC,QAASC,EAAWV,EAAKU,UAAYF,EAAQE,QAEnF,IADAS,EAAMD,EAAef,KAAK/E,EAAM+F,EAAKV,EAASC,GAC3CrF,GAAwB,gBAATA,GAAkB,CAC7BnG,IAAI6G,QAAQV,KACXA,GACIyG,MAAMzG,GAGd,IAAI0F,GAAOH,EAAQ,KACnBO,GAAMA,EAAI7K,QAAQ,OAAQ,KAC1BpB,IAAI0C,KAAKuJ,EAAIxJ,MAAM8I,GAAU,SAAS5I,EAAKK,GACvCL,EAAMA,EAAIF,MAAM+I,GACbxI,GAAO,EACN6I,EAAOE,EAAYF,EAAMgB,EAAQ7M,IAAI4G,KAAKjE,EAAI,KAAK,IAGnDA,EAAI,GAAKA,EAAI,GAEjBkJ,EAAOE,EAAYF,EAAMgB,EAAQlK,EAAI,GAAGvB,QAAQ,KAAM,QAAOA,QAAQ,KAAM,UAG/E,IAAI0L,GAAYpB,EAAQ,KAExB,KAAI,GAAI5E,KAAKX,GACT2G,EAAYf,EAAYe,EAAWhG,EAAE,UAAUA,EAAE,IAGjD4E,KACAG,EAAOA,EAAK9E,KAAK,IACjB+F,EAAYA,EAAU/F,KAAK,KAG/B8E,EAAO,OAAQiB,EAAW,8DAA+DnB,EAAS,YAAcE,EAAO,+CAEvH,KACI,GAAIkB,GAAS,GAAIC,UAAS,QAASnB,EACnCkB,GAAO/D,UAAUyC,QAAUA,EAC3BsB,EAAO/D,UAAUiE,MAAQA,EAAMpB,EAAM1F,EAAMD,EAAK2E,OAChDkC,EAAO/D,UAAUkE,IAAMP,EACvBV,EAAM,GAAIc,GAAO5G,GAAMgH,MACvBJ,EAAS,KAEb,MAAMnF,GACFqF,EAAMpB,EAAM1F,EAAMD,EAAK2E,OAAOjD,IAItC,MAAOqE,GAEX,MAAO,IAGPgB,EAAQ,SAASpB,EAAM1F,EAAM0E,GAC7B,MAAO,UAASjD,EAAGwF,GACf,GAAIC,GAAM,KACNC,IACJzB,GAAO,+BAA+BA,EAAK,MAC3CA,EAAOA,EAAKpJ,MAAM,MAClBzC,IAAI0C,KAAKmJ,EAAM,SAASlF,EAAGG,GACvBwG,EAAMtJ,KAAM8C,EAAE,EAAI,SAAUH,EAAEvF,QAAQ,gBAAiB,OAE3DiM,GAAO,SACPA,GAAOC,EAAMvG,KAAK,MAAM,WACLlG,WAAT0M,QACNF,GAAO,SACPA,GAAOE,KAAKC,UAAUrH,GAAM,QAE7B0E,IACCwC,GAAO,eACPA,GAAOxC,EAAM,QAEduC,IACCC,GAAO,SACPA,GAAOD,EAAK,QAEhBC,GAAO,YACPA,GAAOzF,EAAE6F,QACTC,QAAQT,MAAMI,KAIlBR,EAAU,SAASZ,EAAK0B,GACxB,IAAI1B,EACA,MAAO,EAEX,IAAIJ,GAAK+B,CACT,IAAGD,EACC,OAAgC9M,MAA5B+M,EAAMC,EAAM5B,EAAK,OACjBJ,EAAO,MAAMiC,EAAOF,GAAK,SAExB,QAAoC/M,MAAhC+M,EAAMC,EAAM5B,EAAK,WACtBJ,EAAO,gBAAgBiC,EAAOF,GAAK,SAElC,IAAW,SAAR3B,EACJJ,EAAO,iBAEN,IAAW,QAARI,EACJJ,EAAO,QAEN,QAA0ChL,MAAtC+M,EAAMC,EAAM5B,EAAK,QAAS,QAC/BJ,EAAO,YAAa+B,EAAI,GAAI,eAAeA,EAAI,IAAI,UAAU,KAAKA,EAAI,IAAI,UAAU,SAEnF,IAAW,UAAR3B,EACJJ,EAAO,UAEN,QAA4ChL,MAAxC+M,EAAMC,EAAM5B,EAAK,MAAO,YAA0B,CACvD,GAAIG,GAAMwB,EAAI,GACVvM,EAAI+K,EAAI2B,YAAY,KACpBC,EAAQ,IAAKF,EAAOF,EAAIK,MAAM,GAAGlN,YAAa,GAElD,KAAU,IAAPM,EAAS,CACR,GAAI6M,GAAQ9B,EAAI3K,OAAO,EAAGJ,GACtBqD,EAAM1E,IAAImO,SAAS/B,EAAI3K,OAAOJ,EAAE,GACpCwK,GAAOC,EAASoC,EAAM,kBAAoBxJ,EAAMsJ,OAGhDnC,GAAOC,EAAS,iBAAkBM,EAAM4B,OAI5CnC,GADI,oCAAoC/C,KAAKmD,GACtC6B,EAAO7B,GAAK,IAGZH,EAASgC,EAAO7B,GAAK,QAIhCJ,GAAOC,EAAS,KAAKG,EAAI,KAE7B,OAAOJ,GAAO,mBAKdiC,EAAS,SAASjC,EAAMuC,GACxB,MAAOvC,GAAKzK,QAAQ,gDAAiD,SAASiN,EAAGC,GAC7E,GAAIC,GAAM,WAAYD,EAAI,mBAAoBA,EAAG,YAAaA,EAAG,4BAA6BA,EAAG,GAIjG,OAHGF,KACCG,GAAO,IAAMD,EAAI,OAEdC,EAAM,OAIjBV,EAAQ,SAASzB,EAAKoC,EAAQC,GAC9B,GAAIrN,EAOJ,IAN2B,IAAxBgL,EAAI9K,QAAQkN,GACXpN,EAAU,GAEK,QAAXoN,GAAoBpC,EAAI9K,QAAQkN,GAAU,IAC9CpN,EAAU,SAECP,KAAZO,EAEC,MADAgL,GAAMpM,IAAImO,SAAS/B,EAAIhL,QAAQoN,EAAQpN,IAChCqN,EAASrC,EAAI3J,MAAMgM,GAAUrC,EAwB5C,OApBAxB,GAAS8D,OAAS,SAAS1M,EAAM2M,GACzBlD,EAAQzJ,KACRyJ,EAAQzJ,GAAQ2M,IAIxB/D,EAASgE,OAAS,WACd,GAAIC,GAAOC,SACR9O,KAAI+C,KAAK8L,EAAK,GAAI,UACjB7O,IAAI0C,KAAKmM,EAAK,GAAI,SAASlI,EAAGG,GAC1BwE,EAAQxE,GAAKH,IAGbkI,EAAK/M,OAAS,GAAwB,gBAAZ+M,GAAK,KACnCvD,EAAQuD,EAAK,IAAMA,EAAK,KAIhCjE,EAASI,OAASA,EAEXJ,IAGX5K,IAAID,QAAQ,kBAAmB,WAC3B,MAAO,UAAS+K,GACZ,GAAIjI,GAAOC,KAAMoD,EAAO4E,GAAQjI,EAC5BkM,EAAS7I,EAAK8I,YACdC,EAAcF,GAAUA,EAAOG,iBAC/BC,EAAOtM,EAAKsB,SAAW+B,EAAK/B,SAAWnE,IAAIoP,IAC3CC,EAASJ,EAAc/I,EAAKoJ,QAAUpJ,EAAKmJ,MAE/C,KAAIF,IAASE,EACT,MAAOnJ,EAGU,mBAAXmJ,KACNA,EAASA,EAAOpE,KAAK/E,IAGpBiJ,YAAgB7K,UACjB6K,EAAO7K,OAAO6K,GAGlB,IAAII,GAAKrE,EAAKsE,EACVb,EAAW,SAAS/G,EAAGuH,EAAMM,GAC7B,GAAkB,kBAARA,GACNA,EAAIxE,KAAK/E,EAAM0B,EAAGuH,OAElB,CACA,GAAIO,GAAKC,CACT3P,KAAI0C,KAAK+M,EAAK,SAASG,EAAIvO,GAOvB,GAN+B,mBAApBqO,EAAMxJ,EAAK0J,IAClBD,EAAQzJ,EAEwB,mBAApBwJ,EAAM7M,EAAK+M,MACvBD,EAAQ9M,GAET8M,EACC,MAAOH,GAAME,EAAIzE,KAAK0E,EAAO/H,EAAGuH,EAAMK,MA4BtD,OAtBAxP,KAAI0C,KAAK2M,EAAQ,SAASI,EAAKI,IACxBJ,GAAuB,gBAARA,IAAmC,kBAARA,KACvB,gBAARA,KACNA,EAAMzP,IAAI4G,KAAK6I,GAAKhN,MAAM,QAE9BoN,EAAO7P,IAAI4G,KAAKiJ,GAAMpN,MAAM,OAE5B8M,EAAMM,EAAKC,QAAQ1O,QAAQ,KAAM,KACjC8J,EAAM2E,EAAK9I,KAAK,KAEbkI,EACC/I,EAAK6J,IAAIR,EAAKJ,EAAMjE,EAAK,SAAStD,EAAGuH,GACjCR,EAAS/G,EAAGuH,EAAMM,KAItBN,EAAKa,GAAGT,EAAKrE,EAAK,SAAStD,GACvB+G,EAAS/G,EAAGtD,OAAOxB,MAAO2M,QAKnCvJ,KAUflG,IAAID,QAAQ,sBAAuB,oBAAqB,mBAAoB,SAASkM,IAAKoD,QACtF,GAAIY,QAASnN,KACToN,QAAUpN,KAAKoN,QACfC,OAASrN,KAAKqN,OACdC,WAAa,SAAS1B,EAAQG,EAAMpC,GAEpC,GAAGoC,EAAK/M,OAAS4M,EAAO5M,OAAO,CAC3B,GAAIuO,GAAKxB,EAAKA,EAAK/M,OAAO,EAC1B,IAAGuO,GAAMrQ,IAAI+C,KAAKsN,GAAK,SAAU,YAAc5D,EAAI6D,SAASD,KAAOA,GAAM5D,EAAI8D,OAASF,EAClF,OAGR3B,EAAO8B,MAAM/D,EAAKoC,GAGnB7O,KAAIyQ,OACHzQ,IAAIoP,IAAIY,GAAG,QAAS,+BAAgC,WAChDlN,KAAK4N,QAQb,IAAIC,UAEAJ,KAAK,EAELK,eAMAC,YAAY,SAASC,KAAMC,YACvB,GAAIlO,MAAOC,IAoEX,OAnEA9C,KAAI0C,KAAKoO,KAAM,SAASnO,IAAKqO,gBACDnQ,KAArBgC,KAAKmO,cACJnO,KAAKmO,YAAc,WACf,GAAInO,MAAOC,KAAM+L,KAAOC,UAAWmC,UAAYpC,KAAK,GAAI7M,KAAOa,KAAKqM,gBACpE,IAAGlN,MAAiB,cAATA,KACP,GAAGiP,WAAaA,oBAAqB3M,QACjC,GAAkB,SAAf0M,WAAsB,CACrB,GAAIE,KAAMH,WAAW/O,KAClBkP,MACCD,UAAUxK,KAAK,SAASzE,KAAK,aAAaU,KAAK,WAE3C,IAAGI,KAAKqO,MAAOrO,KAAKqO,IAAInP,MAAxB,CAGA,GAAImN,MAAO7K,OAAOxB,MACdwI,QAAU6D,KAAKhJ,KAAKnE,KAAK,WACzBoP,IACD9F,UAA8B,gBAAZA,WACd,cAAcxC,KAAKwC,SAClBA,QAAUrC,KAAK,IAAKqC,QAAS,MAEzB8F,KAAOlB,QAAQ5E,SAAS,MAExBA,QADuB,kBAAjB8F,MAAKC,QACDD,KAAKC,QAAQlC,MAGbiC,KAAKC,UAIL,gBAAZ/F,WACNA,YAEJ4F,IAAIf,OAAO7E,SACPjH,OAAO8K,eAMnB8B,WAAUxK,KAAK,kBAAmBzE,KAAM,KAAKU,KAAK,WAC9C,GAAI+J,GAAKiC,CACN5L,MAAKqO,MAAQ1E,EAAM3J,KAAKqO,IAAInP,QAAgD,mBAA9B0M,EAASjC,EAAIuE,cAC1DZ,WAAW1B,EAAQ9E,MAAMZ,UAAUiF,MAAMhD,KAAK4D,KAAM,GAAIpC,SAMpEzM,KAAI0C,KAAKG,KAAK+N,YAAa,SAASnE,GAChC,GAAIiC,GAASjC,EAAIuE,WACI,mBAAXtC,IACN0B,WAAW1B,EAAQG,KAAMpC,SAMrCzM,KAAI0C,KAAKqO,WAAY,SAASpK,EAAGG,GACpB,cAANA,GAA8C,kBAAlBH,GAAEqK,aAC7BrK,EAAEqK,YAAYR,MAAM7J,EAAGkI,YAOxChM,MAGXyN,YAEAgB,MAAMhN,OAAOiN,KACbC,QAAQ,SAASrC,GACb,MAAGA,aAAgB7K,QACR6K,EAEJ7K,OAAO6K,IAElBsC,SAAS,SAASC,EAAUC,EAAKzN,GAC7B,GAAI0N,GAAO,CAGX,IAFA1N,EAAOA,GAAQ,SACfyN,EAAMA,GAAO,KACD,QAATzN,EACC,MAAQpB,MAAK2O,SAASC,EAAUC,GACxB7O,KAAK2O,SAASC,EAAUC,EAAK,WAC7B7O,KAAK2O,SAASC,EAAUC,EAAK,SAEzC,IAAIE,IACAC,GAAG,QACHC,GAAG,SACHC,IAAI,OAAQ,SACZC,GAAG,OACH3D,GAAG,UACH4D,IAAI,MAAO,WAEX3L,IACA4L,QACIL,GAAG,aACHC,GAAG,cACHC,IAAI,YAAa,cACjBC,GAAG,YACH3D,GAAG,eACH4D,IAAI,WAAY,kBAGpBE,QAAQP,IAERQ,OAAOR,GAUX,OARA7R,KAAI0C,KAAK6D,EAAK,SAAS5D,GAChBA,EAAIuB,IACHlE,IAAI0C,KAAKC,EAAIuB,GAAMyN,GAAM,SAAShL,GAC9B,GAAI7F,GAAQqJ,WAAWuH,EAASY,IAAIpO,EAAKyC,GACzCiL,IAAQhR,MAAME,GAAS,EAAIA,MAIhC8Q,GAEXW,KAAK,SAASvQ,EAAMkP,GAChB5M,OAAOkO,GAAGxQ,GAAQ,WACd,GAAI6M,GAAOC,UACPxD,EAAUuD,EAAK,EACnB,OAAO/L,MAAKJ,KAAK,WACb,GAAsB,gBAAZ4I,GACHtL,IAAI+C,KAAKuI,EAAS,UACjBA,EAAQjH,OAASvB,KAGjBwI,GACIjH,OAAOvB,MAGfoO,EAAI5F,OAEH,IAAGA,EAAQ,CACZ,GAAImH,EACJ,IAAG3P,KAAKqO,MAAQsB,EAAO3P,KAAKqO,IAAInP,KAAmC,IAAzBsJ,EAAQhK,QAAQ,KACtD,GAAe,YAAZgK,EACCmH,EAAOC,OAAO7D,EAAK,GAAIA,EAAK,QAE5B,CACA,GAAI3K,GAAOuO,EAAOnH,EACC,mBAATpH,IACNA,EAAKsM,MAAMiC,EAAQ7I,MAAMZ,UAAUiF,MAAMhD,KAAK4D,EAAM,UAQhF8D,QAAQ,SAAS3Q,EAAMkP,GACK,kBAAdpO,MAAK8P,MACX9P,KAAK8P,KAAK5S,IAAIoP,MAGtBR,OAAO,WACH,GAAIC,GAAOC,UAEP5K,GADM2K,EAAK/M,OACJ+M,EAAK,GAChB,OAAG7O,KAAI+C,KAAKmB,EAAM,UACPpB,KAAKwN,SAAWhM,OAAO6L,QAAO,EAAMrN,KAAKwN,SAAUpM,GAEtDlE,IAAI+C,KAAKmB,EAAM,UACA,IAAhB2K,EAAK/M,OACGgB,KAAKwN,SAASpM,GAElBpB,KAAKwN,SAASpM,GAAQ2K,EAAK,OAJjC,IAOTgE,YAAY,SAASxC,GACjB,GAAIyC,IAAQ,EACRC,EAAYjQ,KAAK8N,WACrB,IAAGP,EACCrQ,IAAI0C,KAAKqQ,EAAW,SAASpM,GACzB,GAAGA,EAAE2J,SAASD,KAAOA,EAEjB,MADAyC,IAAQ,GACD,QAKf,KAAIzR,IAAK0R,GACL,OAAO,CAGf,OAAOD,IAIf,QACIE,QAAQrC,QACRL,UACIjM,OAAO,KAEPgM,GAAG,GAEH4C,KAAK,GAELC,UAAU,GACVC,OAAO,KACPC,QAAQ,KACRC,UAAU,MAEdC,aACAhC,MAAM,WACFxO,KAAKyQ,SAETA,MAAMjP,OAAOiN,KACbiC,WAAW,WACP,GAAI3Q,GAAOC,IACX,KAAID,EAAKwB,OAAO,CACZ,GAAIA,GAASxB,EAAKyN,SAASjM,OACvBoP,EAAS5Q,EAAKmM,WAClB,KAAI3K,EACA,MAAO,KAEXA,GAASoP,EAAOjC,QAAQnN,GACxBxB,EAAKwB,OAASxB,EAAK6Q,mBAAmBrP,GAE1C,MAAOxB,GAAKwB,QAEhBqP,mBAAmB,SAASvP,GACxB,GAAItB,GAAOC,KAAM2Q,EAAS5Q,EAAKmM,YAC3B9K,EAAO,iBAAiBuP,EAAOvE,gBAOnC,OANA/K,GAAQD,KAAKA,EAAM,IAAIxB,KAAK,WACpBI,KAAKqO,MACLrO,KAAKqO,QAETrO,KAAKqO,IAAIsC,EAAOvE,kBAAoBrM,IAEjCsB,GAEXwP,SAAS,SAASxN,GACd,GAAI2E,GAAOhI,KAAKwN,SACZmD,EAAS3Q,KAAKkM,YACdhN,EAAO,OAASyR,EAAOvE,iBACvB+D,EAAOjT,IAAI4G,KAAKkE,EAAKmI,MACrBW,EAAU,SAASH,EAAQI,GACvB,GAAGJ,EAAOK,SAAS,CACf,GAAIC,GAAUN,EAAOK,SAAS9E,YAC1BgF,EAAQD,EAAQ7E,gBACpB,IAAa,cAAV8E,EAKC,MAJGf,IACCY,EAAKI,QAAQ,OAAOD,EAAM,IAAIf,GAElCY,EAAKI,QAAQ,OAAOD,GACbJ,EAAQG,EAASF,GAGhC,MAAOA,IACRX,EAAYU,EAAQH,KAgB3B,OAdAP,GAAUlP,KAAKhC,GACZiR,GACCC,EAAUlP,KAAKhC,EAAK,IAAIiR,GAEzBnI,EAAKuF,IACJ6C,EAAUlP,KAAKyP,EAAOvE,iBAAmB,IAAMpE,EAAKuF,IAEpDlK,IACAA,MAED2E,EAAKoI,WACJA,EAAUlP,KAAK8G,EAAKoI,WAExB/M,EAAK+M,UAAYA,EAAUnM,KAAK,KACzBZ,GAEX+N,OAAO,WACH,GAAIrR,GAAOC,KAAMgI,EAAOjI,EAAKyN,QAK7B,OAJGzN,GAAKsB,SAAW2G,EAAKuE,SACpBvE,EAAK3G,QAAUtB,EAAKsB,QACpBkL,OAAOpE,KAAKpI,EAAMiI,IAEfuE,OAAOpE,KAAKpI,IAEvBkN,IAAI,SAAShN,EAAMoR,EAAUzC,EAAU/C,EAAUyF,GAC7C,GAAIvR,GAAOC,IACY,mBAAb4O,KACN0C,EAAUzF,EACVA,EAAW+C,EACXA,EAAWyC,EACXA,EAAW,KACXzC,EAAW7O,EAAKmM,YAAYwC,QAAQE,GAGxC,IAAI2C,GAAY,SAASzM,GACrB,MAAO+G,GAAS1D,KAAKnI,KAAM8E,EAAGtD,OAAOxB,OA6BzC,OA1BGqR,IACwB,gBAAbzC,MACNA,EAAWA,EAASA,YAEhBA,EAAW7O,EAAKyN,SAASjM,SAGjC8P,EAASnE,GAAGjN,EAAM2O,EAAU2C,GACzBD,GACCD,EAAS1N,KAAKiL,GAAU0C,QAAQrR,KAIpC2O,EAAS1B,GAAGjN,EAAMsR,GACfD,GACC1C,EAAS0C,QAAQrR,IAIzBF,EAAKyR,YAAYtQ,MACbmQ,SAASA,EACTzC,SAASA,EACT3O,KAAKA,EACL4L,SAAS0F,IAGNxR,GAEX0R,KAAK,WACD,GAAI1R,GAAOC,KAAM0R,EAAa3R,EAAKyR,WAYnC,OAXAtU,KAAI0C,KAAK8R,EAAY,SAAS7R,EAAKK,GAC5BL,EAAIwR,SACHxR,EAAIwR,SAASM,IAAI9R,EAAII,KAAMJ,EAAI+O,SAAU/O,EAAIgM,UAG7ChM,EAAI+O,SAAS+C,IAAI9R,EAAII,KAAMJ,EAAIgM,UAEnC6F,EAAWxR,GAAO,WACXwR,GAAWxR,KAEtBH,EAAKyR,eACEzR,GAEX6R,QAAQ,WACJ,GAAI7R,GAAOC,KAAM2Q,EAAS5Q,EAAKmM,WAC/B,IAAGnM,EAAKwB,OAAO,CACX,GAAIH,GAAO,iBAAiBuP,EAAOvE,gBACnCrM,GAAKwB,OAAOsQ,WAAWzQ,GAAMxB,KAAK,WAC3BI,KAAKqO,MACJrO,KAAKqO,IAAIsC,EAAOvE,kBAAoB,WAC7BpM,MAAKqO,IAAIsC,EAAOvE,qBAInCuE,EAAO7C,YAAY/N,EAAK0N,MAAQ,WACzBkD,GAAO7C,YAAY/N,EAAK0N,OAEnCqE,OAAO,WAMH,MALA9R,MAAKyR,OACFzR,KAAKqB,UACJrB,KAAKqB,QAAQQ,SACb7B,KAAKqB,QAAU,MAEZrB,MAEX+R,UAAU,SAASxE,EAAIlK,GACnB,GAAI2E,IACAS,QAAQ,KACRC,SAAS,KAEb,OAAwB,KAArBsD,UAAUhN,OACFmK,IAAIjB,OAAOlI,KAAKwQ,UAAWjD,EAAIvF,GAEnCmB,IAAIjB,OAAOC,KAAKnI,KAAKwQ,UAAWxQ,KAAKwQ,UAAUjD,GAAKlK,EAAM2E,IAErEuJ,UAAU,SAAS3F,EAAQG,GACvB,GAAIhM,GAAOC,KAAMgI,EAAOjI,EAAKyN,SACzB3B,EAAW7D,EAAK,KAAK4D,EACzB,IAAuB,kBAAbC,GACN,MAAGE,IACCjF,MAAMZ,UAAUiL,QAAQhJ,KAAK4D,EAAMhM,GAC5B8L,EAAS6B,MAAM1F,EAAM+D,IAEzBF,EAAS1D,KAAKH,EAAMjI,IAGnC6P,OAAO,SAAS5H,EAAMgK,GAClB,GAEIxJ,GAFAuD,EAAOC,UACPiG,GAAQ,CAmBZ,QAjBe,IAAZlG,EAAK,GACJkG,GAAQ,EAEJzQ,OAAO0Q,cAAcnG,EAAK,KAC9BvD,EAAUuD,EAAK,GACfkG,EAAQlG,EAAK,IAETA,EAAK/M,OAAS,GAAwB,gBAAZ+M,GAAK,KACnCvD,KACAA,EAAQuD,EAAK,IAAMA,EAAK,GACxBkG,EAAQlG,EAAK,KAEdvD,GAASyJ,KACRjS,KAAKwN,SAAWhM,OAAO6L,QAAO,KAAUrN,MAAe,IAAViS,EAAiB,kBAAoB,YAAazJ,GAC/FxI,KAAK8R,SACL9R,KAAKyQ,SAEFzQ,MAEXmS,MAAM,WAGF,MAFAnS,MAAK4P,QAAO,GACZ5P,KAAKuR,UAAU,SACRvR,MAEXoS,QAAQ,WACJpS,KAAK4R,UACL5R,KAAK8R,SACL9R,KAAKuR,UAAU,eAY3BrU,IAAID,QAAQ,8BAA8B,qBAAsB,gBAAiB,qBAAsB,SAASoV,EAAWxK,EAAMC,GAC7H,GAEI+F,IACAyE,YAAY,IACZC,QAAQ,IACR/D,MAAM,WACF,GAAImC,GAAS3Q,KACTwS,EAAQ,IACZtV,KAAIuV,IAAIvF,GAAG,SAAU,WACjBwF,aAAaF,GACbA,EAAQG,WAAW,WACfzV,IAAI0C,KAAK+Q,EAAO7C,YAAa,SAASjO,GAClC,GAAImI,GAAOnI,EAAI2N,UACZxF,EAAK4K,WAA8B,IAAlB5K,EAAK6K,WACrBhT,EAAIiT,gBAMxBrD,KAAK,KACLI,QAAQ,KACRC,KAAK,MAGLtH,GAEAuK,QAAQ,GAERjL,SAAS,GAETzE,QAEA2P,MAAM,IAENC,OAAO,OAEPC,OAAO,KAEPC,SAAS,EAETC,UAAU,EAEVZ,MAAM,EAENa,KAAK,EAELlF,UAAU,OAEVmF,MAAM,OAENC,QAAO,EAEPC,QAAO,EAEPC,aAAY,EAEZC,aAAY,EAEZC,YAAW,EAEXC,QAAO,EAEPf,UAAS,EAETgB,QAAO,EAEPC,OAAM,EAENC,QAAO,EAEPC,SAAQ,EAERC,WAAU,EAEVC,YAAW,EAEXC,MAAM,SAENC,QACIC,QAAO,EACPxF,IAAI,OAGRyF,QACID,QAAO,EACPE,OAAM,EACNC,IAAI,IAGRC,OACIJ,QAAO,EACPxP,KAAK,KAGT6P,SACIL,QAAO,EACPnV,KAAK,SACL2F,KAAK,KACLgH,SAAS,WACL,OAAO,IAIf8I,QACIN,QAAO,EACPxP,KAAK,MAQT+N,SAAS,KAITgC,MAAM,KAWNC,OAAO,KAIPC,OAAO,KAEPC,SAAS,KAETC,SAAS,KAETC,aAAa,KAEbC,gBAAgB,KAEhBC,QAAQ,KAGZ,OAAOnV,MAAKqN,OAAOgF,GACfnC,QAAQrC,EACRL,SAAShF,EACTgI,WACI4E,OACI,0qBAkCJP,OACI,gPAOJP,OACI,kEACJe,KACI,2IAIJC,SACI,qHAGJ/U,MACI,iDAQR8C,QACAmL,MAAM,WACFxO,KAAKuS,UAAYvS,KAAKkM,YAAYqG,QAClCvS,KAAKyQ,SAETA,MAAM,WACF,GAAI1Q,GAAOC,KAAMgI,EAAOjI,EAAKyN,SAAUmD,EAAS5Q,EAAKmM,WAErD,IADAnM,EAAKwV,WAAa5E,EAAOjC,QAAQ1G,EAAKmG,WACnCpO,EAAKwV,WAAWvW,OAAO,CAEtB,GADAe,EAAKyV,cAAgBzV,EAAKwV,WAAWE,IAAI,GACP,SAA/B1V,EAAKyV,cAAcE,QAAmB,CACrC3V,EAAK4V,QAAU5V,EAAKwV,WACpBxV,EAAK6V,WAAY,GAE8B,IAA5C,0BAA0BpX,QADnBuB,EAAKwV,WAAW/F,IAAI,cAE1BzP,EAAKwV,WAAW/F,IAAI,WAAY,gBAIpCzP,GAAK4V,QAAUzY,IAAIuV,IACnB1S,EAAK6V,WAAY,CAErB7V,GAAK8V,SAAW7N,EAAKgM,UAAY9W,IAAI4Y,OAAS/V,EAAK6V,UACnD7V,EAAKgW,YAGbA,QAAQ,WACJ,GAAIhW,GAAOC,KAAMgI,EAAOjI,EAAKyN,SACzBwI,EAAUjW,EAAKkW,gBAAiBC,GAAU,GAC3B,IAAhBlO,EAAK+L,SACJmC,EAAgC,gBAAflO,GAAKsL,MAE1B,IAAIjQ,GAAOtD,EAAK8Q,UACZkC,QAAQhT,EAAKoW,cACb1B,MAAMuB,EAAQvB,MACdI,OAAOmB,EAAQnB,OACfvB,MAAM4C,EAAWlO,EAAKsL,OAAO,OAAU,KACvCc,QAA8B,IAAvBpM,EAAKoM,OAAOC,OAAkBrM,EAAKoM,OAAS,KACnDD,MAAMnM,EAAKmM,OAAS,SACpB5T,OACI6V,UAAUtY,MAAMY,SAASsJ,EAAKkL,SAAWnT,EAAKwS,QAAUvK,EAAKkL,OAC7DN,WAAW,WACXyD,UAAU,UAGftW,GAAK8V,WACJxS,EAAK9C,MAAMqS,SAAW,SAE1B7S,EAAKuW,UACLvW,EAAKsB,QAAUtB,EAAK6Q,mBAAmBzM,EAAEpE,EAAKgS,UAAU,SAAU1O,IAAO5B,SAAS1B,EAAKwV,aACvFxV,EAAKwW,KAAOxW,EAAKsB,QAAQK,SAAS,cAC3C3B,EAAKyW,KAAOzW,EAAKwW,KAAK7U,SAAS,eAC/B3B,EAAK0W,MAAQ1W,EAAKwW,KAAK7U,SAAS,eAChC3B,EAAK2W,KAAO3W,EAAK0W,MAAM/U,SAAS,eAChC3B,EAAK4W,KAAO5W,EAAKwW,KAAK7U,SAAS,gBACH,IAAhBsG,EAAK+L,UACsB,IAAvB/L,EAAKsM,OAAOD,SACXtU,EAAK6W,QAAU7W,EAAK2W,KAAKhV,SAAS,UAClC3B,EAAK8W,kBAEU,IAAhB7O,EAAKuL,QAAmB2C,GACvBnW,EAAK+W,aAEc,IAApB9O,EAAKkM,YACJnU,EAAKgX,aAES,IAAf/O,EAAK8L,OACJ/T,EAAKiX,YAGVjX,EAAKkX,QAAQjY,QACZe,EAAKmX,gBAEW,IAAjBlP,EAAKgM,UAAuC,IAAlBjU,EAAK8V,UAC9B9V,EAAKoX,cAETpX,EAAKqR,SACLrR,EAAKqX,SAETjB,YAAY,WACR,GAAIpW,GAAOC,KAAMgI,EAAOjI,EAAKyN,SAAUuF,EAAU,GAAI5J,EAAMnB,EAAKF,QAoBhE,QAnBmB,IAAhBE,EAAK+L,SAA0C,IAAvB/L,EAAKsM,OAAOD,OACnCtB,EAAUhT,EAAKsX,gBAGZlO,EACmB,gBAARA,GACN4J,EAAUjL,EAASI,OAAOiB,EAAKnB,EAAK3E,MAEhCnG,IAAI+C,KAAK+H,EAAKF,SAAU,YAC5BiL,EAAUjL,EAASI,OAAOC,KAAKgB,EAAKA,EAAIuN,KAAM1O,EAAK3E,OAG3B,gBAAjB2E,GAAK+K,QAChBA,EAAU/K,EAAK+K,QAEX/K,EAAK+K,kBAAmBvR,UAC5BuR,EAAU/K,EAAK+K,QAAQuE,KAAK,cAG7BvE,GAEXsE,cAAc,WACV,GAAItX,GAAOC,KAAMgI,EAAOjI,EAAKyN,SAAUtO,EAAO,eAAea,EAAK0N,KAAM+G,EAAMxM,EAAKsM,OAAOE,GAI1F,QAHyB,IAAtBxM,EAAKsM,OAAOC,QACXC,EAAM3M,EAAK/H,SAAS,KAAK,GAAIoC,OAAOqV,UAAW/C,IAE5CzU,EAAKgS,UAAU,UAClB3Q,MACIoW,YAAY,IACZtY,KAAKA,EACLqO,GAAGrO,EACHsV,IAAIA,EACJiD,OAAO,SACPlX,MAAM,kBAIlBsW,cAAc,WACV,GAAI9W,GAAOC,IACXD,GAAK6W,QAAQc,KAAK,WACd3X,EAAK4X,gBAAkB5X,EAAK6W,QAAQgB,WACpC7X,EAAK8X,aAGb5B,cAAc,WACV,GAAIlW,GAAOC,KAAMgI,EAAOjI,EAAKyN,SAAUsK,KAAe9B,KAAc/N,KAChE8P,EAAM,SAASxK,EAAIyK,GACnBjY,EAAKkX,QAAe,UAAP1J,EAAiB,UAAY,QAAQyK,GAwCtD,OAtCAjY,GAAKkX,YACc,IAAhBjP,EAAK+L,SACJ7W,IAAI0C,MAAM,QAAS,UAAW,UAAW,SAAS2N,GAC9C,GAAIyK,GAAMhQ,EAAKuF,EACZyK,KAAsB,IAAfA,EAAI3D,SACVyD,EAASvK,IACLA,GAAGA,EACHrO,KAAK8Y,EAAI9Y,KACTqB,MAAMyX,EAAIzX,MACVsE,KAAKmT,EAAInT,KACTgH,SAASmM,EAAInM,aAItB7D,EAAK6M,QAAU7M,EAAK6M,OAAO7V,QAC1B9B,IAAI0C,KAAKoI,EAAK6M,OAAQ,SAAShV,GAC3B,GAA4BoY,GAAxB1K,EAAK1N,EAAI0N,GAAIyK,EAAMnY,CACnBoI,GAAOsF,KACPtF,EAAOsF,IAAM,GACV0K,EAAMH,EAASvK,MACdyK,EAAM7T,EAAEkJ,QAAO,KAAU4K,EAAKpY,SACvBiY,GAASvK,IAEpBwK,EAAIxK,EAAIyK,MAIpB9a,IAAI0C,KAAKkY,EAAU,SAASjY,EAAK0N,GAC7BwK,EAAIxK,EAAI1N,MAGbE,EAAKkX,QAAQ,IAA6B,UAAvBlX,EAAKkX,QAAQ,GAAG1J,IAClCyI,EAAQvB,MAAQ1U,EAAKkX,QAAQ,GAC7BjB,EAAQnB,OAAS9U,EAAKkX,QAAQ9L,MAAM,IAGpC6K,EAAQnB,OAAS9U,EAAKkX,QAEnBjB,GAEXkB,aAAa,WACT,GAAInX,GAAOC,KAAMgI,EAAOjI,EAAKyN,QAC7BtQ,KAAI0C,KAAKG,EAAKkX,QAAS,SAASpX,GAC5BE,EAAKkN,IAAI,QAASlN,EAAKsB,QAAS,iBAAiBxB,EAAI0N,GAAI,SAASzI,EAAG+P,GACjE,IAAIA,EAAOqD,SAAS,uBAAuB,CACvC,GAAI3K,GAAK1N,EAAI0N,GAAI1B,EAAWhM,EAAIgM,SAC5BsM,EAA6B,kBAAbtM,GAA0BA,EAAS1D,KAAKH,EAAMjI,EAAM+E,EAAG+P,GAAU,MAC1E,YAAPtH,IAA+B,IAAX4K,GAA4B,YAAP5K,IAA+B,IAAX4K,IAC7DpY,EAAKqS,gBAMzB2E,UAAU,WACN/W,KAAKiN,IAAI,QAASjN,KAAKqB,QAAS,SAASyD,GACrCA,EAAEsT,qBAGVpB,SAAS,WACL,GAAIjX,GAAOC,IACXD,GAAKkN,IAAI,QAASlN,EAAKsB,QAAS,WAC5BtB,EAAKsY,gBAGbvB,UAAU,WACN,GAC+DwB,GAAGC,EAAGC,EAAIC,EADrE1Y,EAAOC,KAAMgI,EAAOjI,EAAKyN,SAAUnM,EAAUtB,EAAKsB,QAClDsP,EAAS5Q,EAAKmM,YAAaG,EAAOhL,EAASkS,GAAS,CACxDxT,GAAKkN,IAAI,YAAalN,EAAKyW,KAAM,SAAS1R,EAAGsD,GACzCmL,GAAS,EACTxT,EAAKsY,cACkB,IAApBrQ,EAAK2L,aACJtH,EAAOtM,EAAK2Y,UAAYvU,EAAEpE,EAAKgS,UAAU,YACrC5B,KAAKnI,EAAKmI,KACV5P,OACI6V,UAAUrW,EAAKwS,QAAQ,EACvBoG,SAAS,OACT/F,WAAW7S,EAAK8V,SAAW,QAAU,eAEzCpU,SAAS1B,EAAKwV,YAClBlJ,EAAKmD,KACDwD,MAAMjT,EAAKsD,KAAKuV,WAAajI,EAAOhC,SAAStC,EAAM,KAAM,OACzD4G,OAAOlT,EAAKsD,KAAKwV,YAAclI,EAAOhC,SAAStC,EAAM,KAAM,OAC3DyM,IAAI/Y,EAAKsD,KAAKyV,IACdC,KAAKhZ,EAAKsD,KAAK0V,QAGvB3Q,EAAIoH,IAAI,SAAS,QACjB8I,EAAIxT,EAAEkU,MAAQjZ,EAAKsD,KAAK0V,KACxBR,EAAIzT,EAAEmU,MAAQlZ,EAAKsD,KAAKyV,IACxBhU,EAAEsT,oBAENrY,EAAKkN,IAAI,YAAa/P,IAAIoP,IAAK,SAASxH,GACpC,GAAIkO,GAAQjT,EAAKwV,WAAWqD,aAAc3F,EAASlT,EAAKwV,WAAWsD,aACnE,IAAGtF,EAYC,MAXAiF,GAAK1T,EAAEkU,MAAQV,EACfG,EAAK3T,EAAEmU,MAAQV,EACfC,EAAK,IAAMA,EAAK,GAChBC,EAAK,IAAMA,EAAK,IACQ,IAArBzQ,EAAKyL,cACJ+E,EAAKzY,EAAKsD,KAAKuV,WAAa5F,IAAUwF,EAAKxF,EAAQjT,EAAKsD,KAAKuV,YAC7DH,EAAK1Y,EAAKsD,KAAKwV,YAAc5F,IAAWwF,EAAKxF,EAASlT,EAAKsD,KAAKwV,cAEpE9Y,EAAKsD,KAAKyV,IAAML,EAChB1Y,EAAKsD,KAAK0V,KAAOP,EACjBnM,EAAKmD,KAAKsJ,IAAIL,EAAIM,KAAKP,KACfjF,IAGhBxT,EAAKkN,IAAI,UAAW/P,IAAIoP,IAAK,SAASxH,GAC/ByO,IACCA,GAAS,EACTxT,EAAKyW,KAAKhH,IAAI,SAAS,YACA,IAApBxH,EAAK2L,aACJtS,EAAQmO,IAAIzP,EAAKsD,MACjBtD,EAAK2Y,UAAU7W,SACf9B,EAAK2Y,UAAY,MAErB3Y,EAAKwR,UAAU,QACfxR,EAAKsD,KAAK6V,UAAYnZ,EAAKsD,KAAKyV,IAAM/Y,EAAK4V,QAAQwD,YACnDpZ,EAAKsD,KAAK+V,WAAarZ,EAAKsD,KAAK0V,KAAOhZ,EAAK4V,QAAQ0D,iBAIjElC,YAAY,WACR,GAAIpX,GAAOC,IAAaD,GAAKyN,QAC7BzN,GAAKkN,IAAI,SAAUlN,EAAK4V,QAAS,SAAS7Q,EAAGuH,GACzC,GAAIyM,GAAM/Y,EAAKsD,KAAK6V,UAAYnZ,EAAK4V,QAAQwD,YACzCJ,EAAOhZ,EAAKsD,KAAK+V,WAAarZ,EAAK4V,QAAQ0D,YAC/CtZ,GAAKsD,KAAKyV,IAAMA,EAChB/Y,EAAKsD,KAAK0V,KAAOA,EACjBhZ,EAAKsB,QAAQmO,IAAIzP,EAAKsD,MACtBtD,EAAKwR,UAAU,UAAWzM,EAAGuH,GAAOyM,IAAIA,EAAKC,KAAKA,QAI1DV,WAAW,WACP,GAAItY,GAAOC,KAAM2Q,EAAS5Q,EAAKmM,WAC5BnM,GAAKuZ,QAAUvZ,EAAKsB,UACnBtB,EAAKuZ,QAAS,EACdvZ,EAAKwS,UAAY5B,EAAO4B,QACxBxS,EAAKsB,QAAQmO,IAAI,SAAUzP,EAAKwS,SAChCxS,EAAKuW,YAGbiD,UAAU,SAASnH,GACf,GAAIrS,GAAOC,KAAM2Q,EAAS5Q,EAAKmM,YAAalE,EAAOjI,EAAKyN,SAAUgM,IAC/DxR,GAAK4M,QACJ4E,EAASA,EAAOC,OAAOzR,EAAK4M,OACzB4E,EAAOxa,QACN9B,IAAI0C,KAAK4Z,EAAQ,SAAS7P,EAAK3F,GACxB2F,GAAOA,EAAItI,SACVsI,EAAItI,QAAQmO,IAAI,UAAW4C,EAAWtU,MAAMY,SAASiL,EAAI6D,SAAS0F,SAAWvJ,EAAI4I,QAAU5I,EAAI6D,SAAS0F,OAAUvC,EAAO2B,YAAY,OAMzJgE,QAAQ,WACJ,GAAIvW,GAAOC,KAAM2Q,EAAS5Q,EAAKmM,WAC/BhP,KAAI0C,KAAK+Q,EAAO7C,YAAa,SAASjO,GAC/BA,GAAOA,IAAQE,IAA+B,IAAvBF,EAAI2N,SAASsG,QACnCjU,EAAIyZ,QAAS,MAIzBI,UAAU,WACN,GAMGC,GANC5Z,EAAOC,KAAMqD,EAAOtD,EAAKsD,KAAMuW,EAAM7Z,EAAKyN,SAASoF,SACnDiH,GACAf,IAAIc,EAAId,IACRC,KAAKa,EAAIb,KACTe,MAAMF,EAAIE,MACVC,OAAOH,EAAIG,OA2Cf,YAxCgBhc,KAAb8b,EAAKf,SAAqC/a,KAAhB8b,EAAKE,cACvBF,GAAKE,WAGChc,KAAd8b,EAAKd,UAAqChb,KAAf8b,EAAKC,aACxBD,GAAKC,MAGhB5c,IAAI0C,KAAKia,EAAM,SAAShW,EAAGG,GACvB,OAASjG,KAAN8F,EAEC,aADOgW,GAAK7V,IACL,CAEX2V,GAAK9V,EACW,gBAANA,KACFA,EAIS,QAANG,GAAqB,WAANA,EACL,SAANH,EACC8V,EAAKtW,EAAKwV,YAEN,aAAa7S,KAAKnC,KACtB8V,EAAK,GAAKzP,UAAS,cAAc7G,EAAKwV,YAAY,YAAYhV,MAIzD,SAANA,EACC8V,EAAKtW,EAAKuV,WAEN,aAAa5S,KAAKnC,KACtB8V,EAAK,GAAKzP,UAAS,cAAc7G,EAAKuV,WAAW,YAAY/U,MAhBrE8V,EAAK,GAqBbE,EAAK7V,GAAY,SAAP2V,EAAgB,OAAStS,WAAWsS,GAAI,OAG/CE,GAEXhC,QAAQ,SAAS5X,GACb,GAAIF,GAAOC,KAAiCgI,GAAlBjI,EAAKmM,YAAoBnM,EAAKyN,UAAUnM,EAAUtB,EAAKsB,QAC7E2Y,EAASja,EAAK4V,QAAQiD,aACtBqB,EAAUla,EAAK4V,QAAQkD,cACvBqB,EAAO,EACPC,EAAQ,CAMZ,IALIpa,EAAK8V,WACLsE,EAAQpa,EAAK4V,QAAQ0D,aACrBa,EAAOna,EAAK4V,QAAQwD,aAExBpZ,EAAKqa,WACFpS,EAAK4K,SAAS,CACb,GAAIgH,GAAMvY,EAAQmO,IAAIzP,EAAK2Z,aAAa9G,UACrC1V,KAAI4Y,QACHqE,EAAQ,EACRD,EAAO,GAEXna,EAAKsD,KAAK0V,KAAOa,EAAIb,KAAOoB,EAC5Bpa,EAAKsD,KAAKyV,IAAMc,EAAId,IAAMoB,MAG1B,IAAY,SAATja,IAAqC,IAAlB+H,EAAK6K,SAAkB,CACzC,GAAIkG,IAAQiB,EAASja,EAAKsD,KAAKuV,YAAc,EAAIuB,EAC7CrB,GAAOmB,EAAUla,EAAKsD,KAAKwV,aAAe,EAAIqB,EAC9C7G,EAAOrL,EAAKqL,KAAO,EAAIrL,EAAKqL,KAAO,CACvCtT,GAAKsD,KAAK0V,KAAOA,EAAO,EAAIA,EAAO1F,EACnCtT,EAAKsD,KAAKyV,IAAMA,EAAM,EAAIA,EAAMzF,EAGxCtT,EAAKsD,KAAK6V,UAAYnZ,EAAKsD,KAAKyV,IAAM/Y,EAAK4V,QAAQwD,YACnDpZ,EAAKsD,KAAK+V,WAAarZ,EAAKsD,KAAK0V,KAAOhZ,EAAK4V,QAAQ0D,aACrDhY,EAAQmO,IAAIzP,EAAKsD,OAErB+W,SAAS,WACL,GAAIra,GAAOC,KAAM2Q,EAAS5Q,EAAKmM,YAAalE,EAAOjI,EAAKyN,SAAUnM,EAAUtB,EAAKsB,QAC7EgS,EAAOrL,EAAKqL,KAAO,EAAc,EAAVrL,EAAKqL,KAAS,EACrC2G,EAASja,EAAK4V,QAAQiD,aAAevF,EACrC4G,EAAUla,EAAK4V,QAAQkD,cAAgBxF,EACvCY,EAAYjM,EAAKiM,SAErBlU,GAAK0W,MAAMjH,KAAKyD,OAAO,OAAQoH,SAAS,YACxChZ,EAAQmO,KAAKsJ,IAAI,OAAQC,KAAK,OAAQ/F,MAAM,OAAQC,OAAO,QAE3D,IAAIqH,GAAW3J,EAAOhC,SAAS5O,EAAKwW,KAAM,KAAM,OAC5CxW,EAAKyW,KAAKqC,cACVlI,EAAOhC,SAAS5O,EAAKyW,KAAM,KAAM,UACjC7F,EAAOhC,SAAS5O,EAAK0W,MAAO,KAAM,OAClC1W,EAAK4W,KAAKkC,cACVlI,EAAOhC,SAAS5O,EAAK4W,KAAM,KAAM,UAEjC3D,EAAQ3R,EAAQuX,cACD,IAAhB5Q,EAAK6L,QACD7L,EAAKgL,MAAQ,EACZA,EAAQhL,EAAKgL,OAEM,SAAfhL,EAAKgL,QAAwC,IAAnBhL,EAAKiM,WAAsBjB,EAAQgH,KACjEhH,EAAQgH,GAEThS,EAAKmL,SAAW,GAAKH,GAAShL,EAAKmL,WAClCc,GAAY,EACZjB,EAAQhL,EAAKmL,WAIjBH,EAAQgH,CAGZ,IAAIO,GAAK,UACNvS,EAAKgL,MAAQ,GAAKA,GAAShL,EAAKmL,UAAYH,GAASgH,KACpDO,EAAK,UAGTxa,EAAKsD,KAAK2P,MAAQA,EAAQrC,EAAOhC,SAAStN,EAAS,KAAM,OACzDtB,EAAK2W,KAAKlH,IAAI,cAAe+K,GAC7BlZ,EAAQ2R,MAAMjT,EAAKsD,KAAK2P,MAExB,IAAIC,GAAS5R,EAAQwX,aAClB9Y,GAAK4X,kBACJ5X,EAAK4X,gBAAgB,GAAG6C,MAAQza,EAChCkT,EAASqH,EAAWva,EAAK4X,gBAAgBhU,KAAK,QAAQkV,gBAGvC,IAAhB7Q,EAAK6L,QACD7L,EAAKiL,OAAS,EACbA,EAASjL,EAAKiL,QAEM,SAAhBjL,EAAKiL,UAA0C,IAAnBjL,EAAKiM,WAAsBlU,EAAK4X,kBAAoB1E,EAASgH,KAC7FhH,EAASgH,GAEVjS,EAAKoL,UAAY,GAAKH,GAAUjL,EAAKoL,YACpCa,GAAY,EACZhB,EAASjL,EAAKoL,YAIlBH,EAASgH,EAGbla,EAAKsD,KAAKuV,WAAa5F,EACvBjT,EAAKsD,KAAKwV,YAAc5F,EACxBlT,EAAKsD,KAAK4P,OAASA,EAAStC,EAAOhC,SAAStN,EAAS,KAAM,OAC3DA,EAAQ4R,OAAOlT,EAAKsD,KAAK4P,OACzB,IAAIwH,GAAU1a,EAAKsD,KAAK4P,OAASqH,CAE9Bva,GAAK2W,KAAKmC,cAAgB4B,IAAY1a,EAAK6W,UAAyB,IAAd3C,GACrDlU,EAAK0W,MAAMjH,IAAI,WAAY,QAE5BzP,EAAK6W,SACJ7W,EAAK6W,QAAQ3D,OAAOwH,GAExB1a,EAAK0W,MAAMxD,OAAOlT,EAAKsD,KAAKqX,cAAgBD,IAEhDE,UAAU,WACN,GAAI5a,GAAOC,KAAM2Q,EAAS5Q,EAAKmM,YAAalE,EAAOjI,EAAKyN,QACpDzN,GAAKyV,cAAcoF,gBACnB7a,EAAKyV,cAAcoF,cAAgBzW,EAAEpE,EAAKgS,UAAU,QAChD5B,KAAKnI,EAAKmI,KACV5P,OACI6V,UAAUzF,EAAO2B,YACjBM,WAAW7S,EAAK8V,SAAW,QAAU,WACrCiD,MAAM,MACNC,OAAO,MACP/F,QAAQ,OACRC,SAASlT,EAAK8V,SAAW,OAAS9V,EAAKwV,WAAWsD,cAAc,SAEpEpX,SAAS1B,EAAKwV,cAEC,IAApBvN,EAAKkM,YACJnU,EAAKkN,IAAI,QAASlN,EAAKyV,cAAcoF,cAAe,SAAS9V,GACzDA,EAAEsT,qBAGc,IAArBpQ,EAAK0L,aACJ3T,EAAKkN,IAAI,QAASlN,EAAKyV,cAAcoF,cAAe,WAChD7a,EAAK8a,UAIjBzD,MAAM,WACF,GAAIrX,GAAOC,KAAMgI,EAAOjI,EAAKyN,QAY7B,OAXA6E,GAAUvC,KAAK/P,EAAK2W,MACpB3W,EAAK8X,QAAQ,QACb9X,EAAKwZ,aACc,IAAhBvR,EAAKwL,QACJzT,EAAK4a,YAEN3S,EAAKwK,MAAQ,IACZzS,EAAK+a,MAAQ9S,EAAKwK,MAClBzS,EAAKgb,UAEThb,EAAKwR,UAAU,QACRxR,GAEXgb,OAAO,WACH,GAAIhb,GAAOC,IAAaD,GAAKyN,QAC1BzN,GAAK+a,MAAQ,GACZ/a,EAAKwR,UAAU,SAAUxR,EAAK+a,QAC9B/a,EAAKib,SAAWrI,WAAW,WACvB5S,EAAK+a,OAAS,IACd/a,EAAKgb,UACNhb,EAAK+a,MAAQ,IAAO,IAAO/a,EAAK+a,QAGnC/a,EAAK8a,QAGb/I,OAAO,WACH,GAAI/R,GAAOC,KAAM2Q,EAAS5Q,EAAKmM,YAAa+O,GAAS,CACrD5I,GAAU9D,QAAQuD,OAAO3J,KAAKnI,MAC9BqS,EAAU,UAAWtS,EAAK2W,MAC1BxZ,IAAI0C,KAAK+Q,EAAO7C,YAAa,SAASjO,GAClC,GAAGA,IAA+B,IAAxBA,EAAI2N,SAASgG,QAAmB3T,IAAQE,GAAQF,EAAI2V,gBAAkBzV,EAAKyV,cACjF,MAAQyF,IAAS,IAGtBA,GAAUlb,EAAKyV,cAAcoF,gBAC5B7a,EAAKyV,cAAcoF,cAAc/Y,SACjC9B,EAAKyV,cAAcoF,cAAiB,MAErC7a,EAAKyN,SAASgF,MAAQ,IACrBzS,EAAKyS,MAAQ,EACbE,aAAa3S,EAAKib,YAG1BlI,OAAO,WACH,GAAI/S,GAAOC,IAAaD,GAAKyN,SAAoBzN,EAAKsB,OAGtD,OAFAtB,GAAK8X,UACL9X,EAAKwR,UAAU,UACRxR,GAEX8a,KAAK,WACD,IAA4B,IAAzB7a,KAAKwN,SAASoG,OAAgB,CAC7B,IAAoC,IAAjC5T,KAAKuR,UAAU,cACd,MAEJvR,MAAKoS,YAGbA,QAAQ,WACJ,GAAIrS,GAAOC,KAAM2Q,EAAS5Q,EAAKmM,WAAoBnM,GAAKyN,UACjB,IAApCzN,EAAKwR,UAAU,mBAGlBxR,EAAK6R,UACL7R,EAAK+R,SACL/R,EAAKwZ,WAAU,GACXxZ,EAAKmb,aACLvK,EAAO4B,UACPxS,EAAKmb,YAAa,GAEtBnb,EAAKwR,UAAU,iBAI3BrU,IAAID,QAAQ,gCAAgC,8BAA+B,SAASud,GAChF,MAAO,UAASzH,EAASlH,EAAUyH,EAAON,EAAOC,EAAQkB,GACrD,GAAInM,EAMJ,OALsB,gBAAZ+K,KACN/K,EAAO+K,EACPA,EAAU/K,EAAK+K,cACR/K,GAAK+K,SAETyH,EAAMtd,IAAImQ,QAAO,GACpB0F,QAAQ,iDAAiDA,GAAS,IAAI,SACtEO,MAAMA,EACNN,MAAMA,EACNC,OAAOA,EACPkB,MAAMA,GAAS,QACfU,SACItH,GAAG,SACH1I,KAAK,KACLwP,QAAO,IAEXK,SACI7I,SAASA,GAAU,WACf,OAAO,KAGhB7D,OACC0M,SACIL,QAAO,SAKvBnX,IAAID,QAAQ,wBAAwB,oBAAqB,kBAAmB,gCAAiC,SAAS6K,EAAUyE,EAAQmI,GAC1HnI,GACNF,KAAKlI,EAAE,SACPd,MAAM,KAAM,KAAM,MAClByE,SAAS9H,KAAKmb,QAAQ,kIAUtB5O,QACI6O,eAAe,aACfC,eAAe,2BACfC,kBAAkB,iBAEtBC,OAAO,WACH,GAAI9X,KAAkBzD,MAAKqM,KAAK1I,KAAK,WACrC,SAAI3D,KAAKqM,KAAK1I,KAAK,YAAY3E,SAG/BgB,KAAKqM,KAAK1I,KAAK,YAAY/D,KAAK,WAC5B6D,EAAIvC,KAAKiD,EAAEnE,MAAMH,SAEd4D,IAEXyE,OAAO,WACHlI,KAAKqM,KAAKmP,KAAK1T,EAASI,OAAOlI,KAAK8H,SAAU9H,KAAKqD,QAEvD0U,IAAI,SAASjT,EAAGuH,EAAMhJ,GAClBrD,KAAKqD,KAAKnC,KAAK,QAEnBW,OAAO,WACH,GAAIwB,KACJnG,KAAI0C,KAAKI,KAAKqD,KAAM,SAASQ,OACT,KAANA,GACNR,EAAKnC,KAAK2C,KAGlB7D,KAAKqD,KAAOA,GAEhBoY,IAAI,SAAS3W,EAAGuH,EAAMhJ,GAClB,GAAID,GAAOpD,IACX9C,KAAI0C,KAAKyD,EAAM,SAASQ,SACbT,GAAKC,KAAKQ,MAGzB6X,OAAO,SAAS5W,EAAGuH,EAAMhJ,GACrB,GAAID,GAAOpD,IACX0U,GAAQ,iFAAkF,SAAS5P,EAAG/E,GAClG,GAAIF,GAAM3C,IAAI4G,KAAK/D,EAAK2W,KAAK/S,KAAK,SAAS9D,MAC3C,IAAGA,EAKC,MAJA3C,KAAI0C,KAAKyD,EAAM,SAASQ,GACpBT,EAAKC,KAAKQ,GAAKhE,IAEnBuD,EAAK8E,UACE,GAEZ,GAAI,QAIXA,YAGL","file":"page-min.js.map?v=c63a3ee","sourcesContent":[";(function(define){\n/**\r\n * @author Aniu[2016-11-11 16:54]\r\n * @update Aniu[2016-11-11 16:54]\r\n * @version 1.0.1\r\n * @description 实用工具集\r\n */\r\n\r\nNui[define]('src/core/util', {\r\n    \r\n    /**\r\n     * @func 常用正则表达式\r\n     */\r\n    regex:{\r\n        //手机\r\n        mobile:/^0?(13|14|15|17|18)[0-9]{9}$/,\r\n        //电话\r\n        tel:/^[0-9-()（）]{7,18}$/,\r\n        //邮箱\r\n        email:/^\\w+((-w+)|(\\.\\w+))*\\@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z0-9]+$/,\r\n        //身份证\r\n        idcard:/^\\d{17}[\\d|x]|\\d{15}$/,\r\n        //中文\r\n        cn:/^[\\u4e00-\\u9fa5]+$/,\r\n        //税号\r\n        taxnum:/^[a-zA-Z0-9]{15,20}$/\r\n    },\r\n\r\n    /**\r\n     * @func 四舍五入保留小数，原生toFixed会有精度问题\r\n     * @return <String>\r\n     * @param digit <String, Number> 待转换数字\r\n     * @param decimal <Number> 保留位数\r\n     * @param number <Number> 小数部分末尾最多显示0的数量\r\n     */\r\n    toFixed:function(digit, decimal, number){\r\n        if(isNaN(digit) || digit === ''){\r\n            return digit\r\n        }\r\n\r\n        //默认末尾只保留2个0\r\n        if(number === undefined){\r\n            number = 2\r\n        }\r\n\r\n        decimal = decimal || 0;\r\n\r\n        //将数字转换为字符串，用于分割\r\n        var value = digit.toString();\r\n\r\n        //补零\r\n        var mend = function(num){\r\n            var zero = '';\r\n            while(num > 0){\r\n                zero += '0';\r\n                num--\r\n            }\r\n            return zero\r\n        }\r\n\r\n        //正负数\r\n        var pre = '';\r\n        if(value < 0){\r\n            value = value.replace('-', '');\r\n            pre = '-';\r\n        }\r\n\r\n        //获取小数点所在位置\r\n        var i = value.indexOf('.');\r\n        //存在小数点\r\n        if(i !== -1 && decimal >= 0){\r\n            var integer = parseInt(value.substr(0, i));\r\n            //小数部分转为0.xxxxx\r\n            var _decimal = '0' + value.substr(i);\r\n            var num = '1' + mend(decimal);\r\n            _decimal = (Math.round(_decimal*num)/num).toFixed(decimal);\r\n            //小数四舍五入后，若大于等于1，整数部分需要加1\r\n            if(_decimal >= 1){\r\n                integer = (integer + 1).toString()\r\n            }\r\n            value = pre + integer + _decimal.substr(1)\r\n        }\r\n        //整数就直接补零\r\n        else if(decimal > 0){\r\n            value = pre + value + '.' + mend(decimal)\r\n        }\r\n\r\n        if(number !== null && number >= 0 && number < decimal){\r\n            value = value.replace(/0+$/, '');\r\n            var i = value.indexOf('.'), len = 0;\r\n            if(i !== -1){\r\n                len = value.substr(i+1).length;\r\n            }\r\n            while(len < number){\r\n                value = value + '0';\r\n                len++;\r\n            }\r\n            value = value.replace(/\\.$/, '');\r\n        }\r\n        \r\n        return value\r\n    },\r\n\r\n    /**\r\n     * @func 获取url参数值\r\n     * @return <String, Object>\r\n     * @param name <String, Undefined> 参数名，不传则以对象形式返回全部参数\r\n     * @param urls <String, Undefined> url地址，默认为当前访问地址\r\n     */\r\n    getParam:function(name, urls){\r\n        var url = decodeURI(urls||location.href), value = {};\r\n        startIndex = url.indexOf('?');\r\n        if(startIndex++ > 0){\r\n            var param = url.substr(startIndex).split('&'), temp;\r\n            Nui.each(param, function(val){\r\n                temp = val.split('=');\r\n                value[temp[0]] = temp[1];\r\n            });\r\n        }\r\n        if(typeof name === 'string' && name){\r\n            value = (temp = value[name]) !== undefined ? temp : '';\r\n        }\r\n        return value;\r\n    },\r\n\r\n    /**\r\n     * @func 设置url参数值\r\n     * @return <String> 设置后的url\r\n     * @param name <String, Object> 参数名或者{key:value, ...}参数集合\r\n     * @param value <String> 参数值或者url\r\n     * @param urls <String, Undefined> url，没有则获取浏览器url\r\n     */\r\n    setParam:function(name, value, urls){\r\n        var self = this, url;\r\n        if(Nui.type(name, 'Object')){\r\n            url = value||location.href;\r\n            Nui.each(name, function(val, key){\r\n                if(val || val === 0){\r\n                    url = self.setParam(key, val, url);\r\n                }\r\n            });\r\n        }\r\n        else{\r\n            url = urls||location.href;\r\n            if(url.indexOf('?') === -1){\r\n                url += '?';\r\n            }\r\n            if(url.indexOf(name+'=') !== -1){\r\n                var reg = new RegExp('('+name+'=)[^&]*');\r\n                url = url.replace(reg, '$1'+value);\r\n            }\r\n            else{\r\n                var and = '';\r\n                if(url.indexOf('=') !== -1){\r\n                    and = '&';\r\n                }\r\n                url += and+name+'='+value;\r\n            }\r\n        }\r\n        return url;\r\n    },\r\n\r\n    /**\r\n     * @func 检测浏览器是否支持CSS3属性\r\n     * @return <Boolean>\r\n     * @param style <String> 样式属性\r\n     */\r\n    supportCss3:function(style){\r\n        var prefix = ['webkit', 'Moz', 'ms', 'o'],\r\n            i, humpString = [],\r\n            htmlStyle = document.documentElement.style,\r\n            _toHumb = function (string) {\r\n                return string.replace(/-(\\w)/g, function ($0, $1) {\r\n                    return $1.toUpperCase();\r\n                });\r\n            };\r\n        for (i in prefix)\r\n            humpString.push(_toHumb(prefix[i] + '-' + style));\r\n        humpString.push(_toHumb(style));\r\n        for (i in humpString)\r\n            if (humpString[i] in htmlStyle) return true;\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * @func 检测浏览器是否支持Html5属性\r\n     * @return <Boolean>\r\n     * @param attr <String> 属性\r\n     * @param element <String> DOM元素标签\r\n     */\r\n    supportHtml5:function(attr, element){\r\n        return attr in document.createElement(element);\r\n    },\r\n\r\n    /**\r\n     * @func 模拟location.href跳转\r\n     * @return <Undefined>\r\n     * @param url <String> 跳转的url\r\n     * @param target <String> 跳转类型，默认为_self\r\n     */\r\n    location:function(url, target){\r\n        if(url){\r\n            jQuery('<a href=\"'+ url +'\"'+ (target ? 'target=\"'+ (target||'_self') +'\"' : '' ) +'><span></span></a>')\r\n                .appendTo('body').children().click().end().remove();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @func 格式化日期\r\n     * @return <String>\r\n     * @param timestamp <String, Number> 时间戳，为空返回横杠“-”\r\n     * @param format <String, Undefined> 输出格式，为空则返回时间戳\r\n     */\r\n    formatDate:function(timestamp, format){\r\n        if(timestamp = parseInt(timestamp)){\r\n            if(!format){\r\n                return timestamp;\r\n            }\r\n            var date = new Date(timestamp);\r\n            var map = {\r\n                'M':date.getMonth()+1,\r\n                'd':date.getDate(),\r\n                'h':date.getHours(),\r\n                'm':date.getMinutes(),\r\n                's':date.getSeconds()\r\n            }\r\n            format = format.replace(/([yMdhms])+/g, function(all, single){\r\n                var value = map[single];\r\n                if(value !== undefined){\r\n                    if(all.length > 1){\r\n                       value = '0' + value;\r\n                       value = value.substr(value.length-2);\r\n                   }\r\n                   return value;\r\n                }\r\n                else if(single === 'y'){\r\n                    return (date.getFullYear() + '').substr(4-all.length);\r\n                }\r\n                return all;\r\n            });\r\n            return format;\r\n        }\r\n        return '-';\r\n    },\r\n\r\n    /**\r\n     * @func 获取表单数据集合\r\n     * @return <Object>\r\n     * @param element <jQuery Object> 表单元素集合或者form元素\r\n     * @param item <String> 将name相同表单元素值分隔，当设置为jquery选择器时，配合field参数使用，用于获取item中表单元素的数据集合\r\n     * @param field <String> 字段名，配合item参数使用，返回对象中会包含该字段\r\n     * @example\r\n     * <form id=\"form\">\r\n     *  <input type=\"hidden\" name=\"name0\" value=\"0\">\r\n     * <div>\r\n     *  <input type=\"hidden\" name=\"name1\" value=\"1\">\r\n     *  <input type=\"hidden\" name=\"name2\" value=\"2\">\r\n     * </div>\r\n     * <div>\r\n     *  <input type=\"hidden\" name=\"name1\" value=\"3\">\r\n     *  <input type=\"hidden\" name=\"name2\" value=\"4\">\r\n     * </div>\r\n     * <form>\r\n     * getData($('#form'), 'div', 'list').result => \r\n     * {\r\n     *  name0:'0',\r\n     *  list:[{\r\n     *      name1:'1',\r\n     *      name2:'2'\r\n     *  }, {\r\n     *      name1:'3',\r\n     *      name2:'4'\r\n     *  }]\r\n     * }\r\n     */\r\n    getData:function(element, item, field){\r\n        var that = this;\r\n    \tvar data = {\r\n    \t\t'result':{},\r\n    \t\t'voids':0, //字段中空值数量\r\n            'total':0 //总计多少个字段\r\n        }\r\n        if(element.length){\r\n            var arr = element.serializeArray();\r\n            if(!arr.length){\r\n                arr = element.find('[name]').serializeArray();\r\n            }\r\n            var div = ',';\r\n            if(item && typeof item === 'string' && !field){\r\n                div = item\r\n            }\r\n            Nui.each(arr, function(v, i){\r\n                var val = Nui.trim(v.value)\r\n                data.total++;\r\n                if(!val){\r\n                    data.voids++\r\n                }\r\n                var name = v.name;\r\n                if(!Nui.isArray(data.result[name])){\r\n                    data.result[name] = [];\r\n                }\r\n                data.result[name].push(val)\r\n            })\r\n            Nui.each(data.result, function(v, k){\r\n                data.result[k] = v.join(div)\r\n            })\r\n            if(item && field){\r\n                var once = false;\r\n                data.result[field] = [];\r\n                element.find(item).each(function(){\r\n                    var result = that.getData($(this).find('[name]')).result;\r\n                    if(item !== true && !once){\r\n                        Nui.each(result, function(v, k){\r\n                            delete data.result[k];\r\n                        });\r\n                        once = true\r\n                    }\r\n                    data.result[field].push(result)\r\n                })\r\n            }\r\n        }\r\n        return data;\r\n    },\r\n    /**\r\n     * @func 获取输入框内光标位置\r\n     * @return <Number>\r\n     * @param element <DOM Object> 表单元素dom对象\r\n     */\r\n    getFocusIndex:function(element){\r\n        var val = Nui.trim(element.value);\r\n        var index = val.length;\r\n        if(element.setSelectionRange){\r\n            index = element.selectionStart;\r\n        }\r\n        else{\r\n            //ie\r\n            try{\r\n                var temp = document.selection.createRange();\r\n                var textRange = element.createTextRange();\r\n                textRange.setEndPoint('endtoend', temp);\r\n                index = textRange.text.length;\r\n            }\r\n            catch(e){}\r\n        }\r\n        return index;\r\n    },\r\n    /**\r\n     * @func 检测页面是否有文本被选择\r\n     * @return <Boolean>\r\n     */\r\n    isTextSelect:function(){\r\n        var text = '';\r\n        //ie10以及以下浏览器\r\n        if(document.selection){\r\n            text =  document.selection.createRange().text;\r\n        }\r\n        //火狐和ie11浏览器getSelection无法获取表单元素选中文本\r\n        else if(navigator.userAgent.toLowerCase().indexOf('gecko') !== -1){\r\n            var textArea = document.activeElement;\r\n            text = textArea.value.substring(textArea.selectionStart, textArea.selectionEnd);\r\n        }\r\n        //chrome safari opera\r\n        else if(window.getSelection){\r\n            text = window.getSelection().toString();\r\n        }\r\n        //低版本chrome\r\n        else if(document.getSelection){\r\n            text = document.getSelection().toString();\r\n        }\r\n        return !!text;\r\n    },\r\n    /**\r\n     * @func 检测是否需要安装PDF阅读器\r\n     * @return <Boolean>\r\n     */\r\n    isInstallPDF:function(){\r\n        var i, len;\r\n\r\n        var flag = true;\r\n\r\n        if(Nui.browser.webkit || (Nui.browser.mozilla && Nui.browser.version > 19)){\r\n            flag = false;\r\n        }\r\n\r\n        if(navigator.plugins && (len = navigator.plugins.length)){\r\n            for(i = 0; i < len; i++){\r\n                if(/Adobe Reader|Adobe PDF|Acrobat|Chrome PDF Viewer/.test(navigator.plugins[i].name)){\r\n                    flag = false;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        try{\r\n            if(window.ActiveXObject || window.ActiveXObject.prototype){\r\n                for(i = 1; i < 10; i++){\r\n                    try{\r\n                        if(eval(\"new ActiveXObject('PDF.PdfCtrl.\" + i + \"');\")){\r\n                            flag = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                    catch(e){\r\n                        flag = true;\r\n                    }\r\n                }\r\n\r\n                var arr = ['PDF.PdfCtrl', 'AcroPDF.PDF.1', 'FoxitReader.Document', 'Adobe Acrobat', 'Adobe PDF Plug-in'];\r\n                len = arr.length;\r\n                for(i = 0; i < len; i++){\r\n                    try{\r\n                        if(new ActiveXObject(arr[i])){\r\n                            flag = false;\r\n                            break;\r\n                        }\r\n\r\n                    }\r\n                    catch(e){\r\n                        flag = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch(e){}\r\n\r\n        return flag;\r\n    },\r\n    /**\r\n     * @func 检测是否需要安装flash，没有安装则返回安装路径\r\n     * @return <Boolean, String>\r\n     */\r\n    isInstallFlash:function(){\r\n        if(typeof window.ActiveXObject != 'undefined'){\r\n            try{\r\n                if(!!new ActiveXObject('ShockwaveFlash.ShockwaveFlash')){\r\n                    return false\r\n                }\r\n            }\r\n            catch(e){}\r\n        }\r\n        else{\r\n            if(!!navigator.plugins['Shockwave Flash']){\r\n                return false\r\n            }\r\n        }\r\n        if(Nui.browser.msie){\r\n            return 'http://rj.baidu.com/soft/detail/17153.html'\r\n        }\r\n        else{\r\n            return 'http://rj.baidu.com/soft/detail/15432.html'\r\n        }\r\n    },\r\n    /**\r\n     * @func 将数字转换为逗号千分位分隔\r\n     * @param number <String> 数字\r\n     * @return <String>\r\n     */\r\n    formatNumber:function(number){\r\n        var integer = parseInt(number);\r\n        if(!isNaN(integer) && integer && (number = number.toString())){\r\n            var dot = number.indexOf('.');\r\n            var decimal = '';\r\n            if(dot > 0){\r\n                decimal = number.substr(dot);\r\n            }\r\n            return integer.toLocaleString().replace(/\\.\\d+$/, '') + decimal\r\n        }\r\n        return number\r\n    },\r\n    /**\r\n     * @func 将数字转换为中文大写\r\n     * @param number <String> 数字\r\n     * @return <String>\r\n     */\r\n    numberToCN:function(number){\r\n        //汉字的数字\r\n        var cnNums = new Array('零', '壹', '贰', '叁', '肆', '伍', '陆', '柒', '捌', '玖');\r\n        //基本单位\r\n        var cnIntRadice = new Array('', '拾', '佰', '仟');\r\n        //对应整数部分扩展单位\r\n        var cnIntUnits = new Array('', '万', '亿', '兆');\r\n        //对应小数部分单位\r\n        var cnDecUnits = new Array('角', '分', '毫', '厘');\r\n        //整数金额时后面跟的字符\r\n        var cnInteger = '整';\r\n        //整型完以后的单位\r\n        var cnIntLast = '元';\r\n        //最大处理的数字\r\n        var maxNum = 999999999999999.9999;\r\n        //金额整数部分\r\n        var integerNum;\r\n        //金额小数部分\r\n        var decimalNum;\r\n        //输出的中文金额字符串\r\n        var chineseStr = '';\r\n        //分离金额后用的数组，预定义\r\n        var parts;\r\n        if (number == '') { return ''; }\r\n        var isMinus = number < 0;\r\n        number = Math.abs(parseFloat(number));\r\n        if (number >= maxNum) {\r\n            //超出最大处理数字\r\n            return '';\r\n        }\r\n        if (number == 0) {\r\n            chineseStr = cnNums[0] + cnIntLast + cnInteger;\r\n            return chineseStr;\r\n        }\r\n        //转换为字符串\r\n        number = number.toString();\r\n        if (number.indexOf('.') == -1) {\r\n            integerNum = number;\r\n            decimalNum = '';\r\n        } else {\r\n            parts = number.split('.');\r\n            integerNum = parts[0];\r\n            decimalNum = parts[1].substr(0, 4);\r\n        }\r\n        //获取整型部分转换\r\n        if (parseInt(integerNum, 10) > 0) {\r\n            var zeroCount = 0;\r\n            var IntLen = integerNum.length;\r\n            for (var i = 0; i < IntLen; i++) {\r\n            var n = integerNum.substr(i, 1);\r\n            var p = IntLen - i - 1;\r\n            var q = p / 4;\r\n            var m = p % 4;\r\n            if (n == '0') {\r\n                zeroCount++;\r\n            } else {\r\n                if (zeroCount > 0) {\r\n                chineseStr += cnNums[0];\r\n                }\r\n                //归零\r\n                zeroCount = 0;\r\n                chineseStr += cnNums[parseInt(n)] + cnIntRadice[m];\r\n            }\r\n            if (m == 0 && zeroCount < 4) {\r\n                chineseStr += cnIntUnits[q];\r\n            }\r\n            }\r\n            chineseStr += cnIntLast;\r\n        }\r\n        //小数部分\r\n        if (decimalNum != '') {\r\n            var decLen = decimalNum.length;\r\n            for (var i = 0; i < decLen; i++) {\r\n            var n = decimalNum.substr(i, 1);\r\n            if (n != '0') {\r\n                chineseStr += cnNums[Number(n)] + cnDecUnits[i];\r\n            }\r\n            }\r\n        }\r\n        if (chineseStr == '') {\r\n            chineseStr += cnNums[0] + cnIntLast + cnInteger;\r\n        } else if (decimalNum == '') {\r\n            chineseStr += cnInteger;\r\n        }\r\n        if(isMinus){\r\n            chineseStr = '负' + chineseStr\r\n        }\r\n        return chineseStr;\r\n    }\r\n})\r\n\n/**\r\n * @author Aniu[2016-11-11 16:54]\r\n * @update Aniu[2016-11-11 16:54]\r\n * @version 1.0.1\r\n * @description 模版引擎\r\n */\r\n\r\nNui[define]('src/core/template', ['src/core/util'], function(util){\r\n\r\n    var template = function(tplid, data, opts){\r\n        if(this.tplid = tplid){\r\n            if(caches[tplid]){\r\n                return render.call(this, caches[tplid], data, opts)\r\n            }\r\n            var ele = document.getElementById(tplid);\r\n            if(ele && ele.nodeName==='SCRIPT' && ele.type === 'text/html'){\r\n                return render.call(this, caches[tplid] = ele.innerHTML, data, opts)\r\n            }\r\n        }\r\n        return ''\r\n    }\r\n\r\n    var caches = {};\r\n\r\n    var options = {\r\n        openTag:'<%',\r\n        closeTag:'%>'\r\n    }\r\n\r\n    var methods = {\r\n        trim:Nui.trim,\r\n        formatDate:util.formatDate,\r\n        formatNumber:util.formatNumber,\r\n        setParam:util.setParam,\r\n        toFixed:util.toFixed,\r\n        numberToCN:util.numberToCN\r\n    }\r\n\r\n    var isstr = !!''.trim;\r\n\r\n    var snippet = ';$that.out = function(){return $that.code';\r\n\r\n    //低版本IE用push拼接字符串效率更高\r\n    snippet = (isstr ? '\"\"'+snippet : '[]'+snippet+'.join(\"\")')+'}';\r\n\r\n    var join = function(iscode){\r\n        if(isstr){\r\n            if(iscode){\r\n                return function(code){\r\n                    return '$that.code += '+code+';'\r\n                }\r\n            }\r\n            return function(code, snippet){\r\n                return code += snippet\r\n            }\r\n        }\r\n        if(iscode){\r\n            return function(code){\r\n                return '$that.code.push('+code+');'\r\n            }\r\n        }\r\n        return function(code, snippet){\r\n            code.push(snippet);\r\n            return code\r\n        }\r\n    }\r\n\r\n    var joinCode = join(true);\r\n\r\n    var joinSnippet = join();\r\n\r\n    var replaceInclude = function(tpl, openTag, closeTag, opts){\r\n        var that = this;\r\n        var regs = openTag.replace(/([^\\s])/g, '\\\\$1');\r\n        var rege = closeTag.replace(/([^\\s])/g, '\\\\$1');\r\n        return tpl.replace(new RegExp(regs+'\\\\s*include\\\\s+[\\'\\\"]([^\\'\\\"]*)[\\'\\\"]\\\\s*'+rege, 'g'), function(str, tid){\r\n            if(tid){\r\n                var tmp = that[tid];\r\n                if(typeof tmp === 'function'){\r\n                    tmp = tmp();\r\n                }\r\n                if(typeof tmp === 'string'){\r\n                    return render.call(that, tmp, null, opts)\r\n                }\r\n                else{\r\n                    return template(tid, null, opts)\r\n                }\r\n            }\r\n            return ''\r\n        })\r\n    }\r\n\r\n    //部分浏览器中表单对象name属性如果和模版中需要使用的变量重名，而这个变量又不存在，返回值就会变成该dom....\r\n    var isNode = typeof HTMLElement === 'object' ? \r\n    function(obj){\r\n        return obj instanceof HTMLElement;\r\n    } : \r\n    function(obj){\r\n        return obj.nodeType === 1 && typeof obj.nodeName === 'string';\r\n    };\r\n    var isDom = function(obj){\r\n        if(obj && typeof obj === 'object'){\r\n            //元素集合\r\n            var ele = obj[0];\r\n            if(ele){\r\n                return isNode(ele)\r\n            }\r\n            //元素\r\n            return isNode(obj)\r\n        }\r\n    }\r\n\r\n    var render = function(tpl, data, opts){\r\n        var that = this;\r\n        if(typeof tpl === 'string'){\r\n            opts = opts || {};\r\n            var openTag = opts.openTag || options.openTag, closeTag = opts.closeTag || options.closeTag;\r\n            tpl = replaceInclude.call(that, tpl, openTag, closeTag);\r\n            if(data && typeof data === 'object'){\r\n                if(Nui.isArray(data)){\r\n                    data = {\r\n                        $list:data\r\n                    }\r\n                }\r\n                var code = isstr ? '' : [];\r\n                tpl = tpl.replace(/\\s+/g, ' ');\r\n                Nui.each(tpl.split(openTag), function(val, key){\r\n                    val = val.split(closeTag);\r\n                    if(key >= 1){\r\n                        code = joinSnippet(code, compile(Nui.trim(val[0]), true))\r\n                    }\r\n                    else{\r\n                        val[1] = val[0];\r\n                    }\r\n                    code = joinSnippet(code, compile(val[1].replace(/'/g, \"\\\\'\").replace(/\"/g, '\\\\\"')))\r\n                });\r\n\r\n                var variables = isstr ? '' : [];\r\n\r\n                for(var k in data){\r\n                    variables = joinSnippet(variables, k+'=$data.'+k+',')\r\n                }\r\n\r\n                if(!isstr){\r\n                    code = code.join('');\r\n                    variables = variables.join('');\r\n                }\r\n\r\n                code = 'var '+ variables +'$that=this,$method=$that.methods; $that.line=4; $that.code='+ snippet +';\\ntry{\\n' + code + ';}\\ncatch(e){\\n$that.error(e, $that.line)\\n};';\r\n                \r\n                try{\r\n                    var Rander = new Function('$data', code);\r\n                    Rander.prototype.methods = methods;\r\n                    Rander.prototype.error = error(code, data, that.tplid);\r\n                    Rander.prototype.dom = isDom;\r\n                    tpl = new Rander(data).out();\r\n                    Rander = null\r\n                }\r\n                catch(e){\r\n                    error(code, data, that.tplid)(e)\r\n                }\r\n                \r\n            }\r\n            return tpl\r\n        }\r\n        return ''\r\n    }\r\n\r\n    var error = function(code, data, tplid){\r\n        return function(e, line){\r\n            var msg = '\\n';\r\n            var codes = [];\r\n            code = 'function anonymous($data){\\n'+code+'\\n}';\r\n            code = code.split('\\n');\r\n            Nui.each(code, function(v, k){\r\n                codes.push((k+1)+ '      ' +v.replace('$that.line++;', ''))\r\n            })\r\n            msg += 'code\\n';\r\n            msg += codes.join('\\n')+'\\n\\n';\r\n            if(typeof JSON !== undefined){\r\n                msg += 'data\\n';\r\n                msg += JSON.stringify(data)+'\\n\\n'\r\n            }\r\n            if(tplid){\r\n                msg += 'templateid\\n';\r\n                msg += tplid+'\\n\\n'\r\n            }\r\n            if(line){\r\n                msg += 'line\\n';\r\n                msg += line+'\\n\\n'\r\n            }\r\n            msg += 'message\\n';\r\n            msg += e.message;\r\n            console.error(msg)\r\n        }\r\n    }\r\n\r\n    var compile = function(tpl, logic){\r\n        if(!tpl){\r\n            return ''\r\n        }\r\n        var code,res;\r\n        if(logic){\r\n            if((res = match(tpl, 'if')) !== undefined){\r\n                code = 'if('+exists(res)+'){'\r\n            }\r\n            else if((res = match(tpl, 'elseif')) !== undefined){\r\n                code = '\\n}\\nelse if('+exists(res)+'){'\r\n            }\r\n            else if(tpl === 'else'){\r\n                code = '\\n}\\nelse{'\r\n            }\r\n            else if(tpl === '/if'){\r\n                code = '}'\r\n            }\r\n            else if((res = match(tpl, 'each ', /\\s+/)) !== undefined){\r\n                code = 'Nui.each('+ res[0] +', function('+(res[1]||'$value')+','+(res[2]||'$index')+'){'\r\n            }\r\n            else if(tpl === '/each'){\r\n                code = '});'\r\n            }\r\n            else if((res = match(tpl, ' | ', /\\s*,\\s*/)) !== undefined){\r\n                var str = res[0];\r\n                var i = str.lastIndexOf('(');\r\n                var _call = '(' +exists(res.slice(1).toString()) +')';\r\n                //赋值操作必须要用括号包裹起来\r\n                if(i !== -1){\r\n                    var start = str.substr(0, i);\r\n                    var end = Nui.trimLeft(str.substr(i+1));\r\n                    code = joinCode(start+'($that.methods.' + end + _call)\r\n                }\r\n                else{\r\n                    code = joinCode('$that.methods.'+ str + _call)\r\n                }\r\n            }\r\n            else if(/^(var|let|const|return|delete)\\s+/.test(tpl)){\r\n                code = exists(tpl)+';'\r\n            }\r\n            else{\r\n                code = joinCode(exists(tpl, true))\r\n            }\r\n        }\r\n        else{\r\n            code = joinCode('\\''+tpl+'\\'')\r\n        }\r\n        return code + '\\n' + '$that.line++;'\r\n    }\r\n\r\n    //判断变量是否存在\r\n    //a.b??  a[b]??  a['b']??  a[b['c']]??\r\n    var exists = function(code, isVal){\r\n        return code.replace(/([\\.\\$\\w]+\\s*(\\[[\\'\\\"\\[\\]\\w\\.\\$\\s]+\\])?)\\?\\?/g, function(a, b){\r\n            var rep = '(typeof '+ b + '!==\"undefined\"&&'+ b +'!==null&&'+ b +'!==undefined&&!$that.dom('+ b +')';\r\n            if(isVal){\r\n                rep += '?' + b + ':' + '\"\"';\r\n            }\r\n            return rep + ')'\r\n        })\r\n    }\r\n\r\n    var match = function(str, syntax, regexp){\r\n        var replace;\r\n        if(str.indexOf(syntax) === 0){\r\n            replace = ''\r\n        }\r\n        else if(syntax === ' | ' && str.indexOf(syntax) > 0){\r\n            replace = ','\r\n        }\r\n        if(replace !== undefined){\r\n            str = Nui.trimLeft(str.replace(syntax, replace));\r\n            return regexp ? str.split(regexp) : str\r\n        }\r\n    }\r\n\r\n    template.method = function(name, callback){\r\n        if(!methods[name]){\r\n            methods[name] = callback\r\n        }\r\n    }\r\n\r\n    template.config = function(){\r\n        var args = arguments;\r\n        if(Nui.type(args[0], 'Object')){\r\n            Nui.each(args[0], function(v, k){\r\n                options[k] = v\r\n            })\r\n        }\r\n        else if(args.length > 1 && typeof args[0] === 'string'){\r\n            options[args[0]] = args[1]\r\n        }\r\n    }\r\n\r\n    template.render = render;\r\n\r\n    return template\r\n})\r\n\nNui[define]('src/core/events', function(){\r\n    return function(opts){\r\n        var self = this, that = opts || self,\r\n            constr = that.constructor,\r\n            isComponent = constr && constr.__component_name,\r\n            elem = self.element || that.element || Nui.doc, \r\n            events = isComponent ? that._events : that.events;\r\n            \r\n        if(!elem || !events){\r\n            return that\r\n        }\r\n\r\n        if(typeof events === 'function'){\r\n            events = events.call(that)\r\n        }\r\n\r\n        if(!(elem instanceof jQuery)){\r\n            elem = jQuery(elem)\r\n        }\r\n\r\n        var evt, ele, ret;\r\n        var callback = function(e, elem, cbs){\r\n            if(typeof cbs === 'function'){\r\n                cbs.call(that, e, elem);\r\n            }\r\n            else{\r\n                var _cb, _that;\r\n                Nui.each(cbs, function(cb, i){\r\n                    if(typeof (_cb = that[cb]) === 'function'){\r\n                        _that = that;\r\n                    }\r\n                    else if(typeof (_cb = self[cb]) === 'function'){\r\n                        _that = self;\r\n                    }\r\n                    if(_that){\r\n                        return ret = _cb.call(_that, e, elem, ret);\r\n                    }\r\n                })\r\n            }\r\n        }\r\n\r\n        Nui.each(events, function(cbs, evts){\r\n            if(cbs && (typeof cbs === 'string' || typeof cbs === 'function')){\r\n                if(typeof cbs === 'string'){\r\n                    cbs = Nui.trim(cbs).split(/\\s+/);\r\n                }\r\n                evts = Nui.trim(evts).split(/\\s+/);\r\n                // keyup:kupdown:focus a => elem.on('keyup kupdown focus', 'a', callback)\r\n                evt = evts.shift().replace(/:/g, ' ');\r\n                ele = evts.join(' ');\r\n                //组件内部处理\r\n                if(isComponent){\r\n                    that._on(evt, elem, ele, function(e, elem){\r\n                        callback(e, elem, cbs)\r\n                    })\r\n                }\r\n                else{\r\n                    elem.on(evt, ele, function(e){\r\n                        callback(e, jQuery(this), cbs)\r\n                    })\r\n                }\r\n            }\r\n        })\r\n        return that\r\n    }\r\n})\n/**\r\n * @author Aniu[2016-11-11 16:54]\r\n * @update Aniu[2016-11-11 16:54]\r\n * @version 1.0.1\r\n * @description 组件基类\r\n */\r\n\r\nNui[define]('src/core/component', ['src/core/template', 'src/core/events'], function(tpl, events){\r\n    var module = this;\r\n    var require = this.require;\r\n    var extend = this.extend;\r\n    var callMethod = function(method, args, obj){\r\n        //实参大于形参，最后一个实参表示id\r\n        if(args.length > method.length){\r\n            var id = args[args.length-1];\r\n            if(id && Nui.type(id, ['String', 'Number']) && obj._options.id !== id && obj.__id !== id){\r\n                return\r\n            }\r\n        }\r\n        method.apply(obj, args)\r\n    }\r\n    //去除IE67按钮点击黑边\r\n    if(Nui.bsie7){\r\n        Nui.doc.on('focus', 'button, input[type=\"button\"]', function(){\r\n            this.blur()\r\n        })\r\n    }\r\n    /**\r\n     * 单和双下划线开头表示私有方法或者属性，只能在内部使用，\r\n     * 单下划线继承后可重写或修改，双下划线为系统预置无法修改\r\n     * 系统预置属性方法：__id, __instances, __eventList, __parent, __component_name, __setMethod\r\n     */\r\n    var statics = {\r\n        //实例对象唯一标记\r\n        __id:0,\r\n        //实例对象容器\r\n        __instances:{},\r\n        /*\r\n        * 将实例方法接口设置为静态方法，这样可以操作多个实例，\r\n        * 默认有 init, option, reset, destroy\r\n        * init表示初始化组件，会查询容器内包含属性为 data-组件名-options的dom元素，并调用组件\r\n        */\r\n        __setMethod:function(apis, components){\r\n            var self = this;\r\n            Nui.each(apis, function(val, methodName){\r\n                if(self[methodName] === undefined){\r\n                    self[methodName] = function(){\r\n                        var self = this, args = arguments, container = args[0], name = self.__component_name;\r\n                        if(name && name !== 'component'){\r\n                            if(container && container instanceof jQuery){\r\n                                if(methodName === 'init'){\r\n                                    var mod = components[name];\r\n                                    if(mod){\r\n                                        container.find('[data-'+name+'-options]').each(function(){\r\n                                            //不能重复调用\r\n                                            if(this.nui && this.nui[name]){\r\n                                                return\r\n                                            }\r\n                                            var elem = jQuery(this);\r\n                                            var options = elem.data(name+'Options');\r\n                                            var _mod;\r\n                                            if(options && typeof options === 'string'){\r\n                                                if(/^{[\\s\\S]*}$/.test(options)){\r\n                                                    options = eval('('+ options +')');\r\n                                                }\r\n                                                else if(_mod = require(options, true)){\r\n                                                    if(typeof _mod.exports === 'function'){\r\n                                                        options = _mod.exports(elem)\r\n                                                    }\r\n                                                    else{\r\n                                                        options = _mod.exports;\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                            if(typeof options !== 'object'){\r\n                                                options = {};\r\n                                            }\r\n                                            mod(extend(options, {\r\n                                                target:elem\r\n                                            }))\r\n                                        })\r\n                                    }\r\n                                }\r\n                                else{\r\n                                    container.find('[nui_component_'+ name +']').each(function(){\r\n                                        var obj, method;\r\n                                        if(this.nui && (obj = this.nui[name]) && typeof (method = obj[methodName]) === 'function'){\r\n                                            callMethod(method, Array.prototype.slice.call(args, 1), obj)\r\n                                        }\r\n                                    })\r\n                                }\r\n                            }\r\n                            else{\r\n                                Nui.each(self.__instances, function(obj){\r\n                                    var method = obj[methodName];\r\n                                    if(typeof method === 'function'){\r\n                                        callMethod(method, args, obj)\r\n                                    }\r\n                                })\r\n                            }\r\n                        }\r\n                        else{\r\n                            Nui.each(components, function(v, k){\r\n                                if(k !== 'component' && typeof v[methodName] === 'function'){\r\n                                    v[methodName].apply(v, args)\r\n                                }\r\n                            })\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n            return self\r\n        },\r\n        //对所有实例设置默认选项\r\n        _options:{},\r\n        //创建组件模块时会调用一次，可用于在document上绑定事件操作实例\r\n        _init:jQuery.noop,\r\n        _jquery:function(elem){\r\n            if(elem instanceof jQuery){\r\n                return elem\r\n            }\r\n            return jQuery(elem)\r\n        },\r\n        _getSize:function(selector, dir, attr){\r\n            var size = 0;\r\n            attr = attr || 'border';\r\n            dir = dir || 'tb';\r\n            if(attr === 'all'){\r\n                return (this._getSize(selector, dir) + \r\n                        this._getSize(selector, dir, 'padding') +\r\n                        this._getSize(selector, dir, 'margin'))\r\n            }\r\n            var group = {\r\n                l:['Left'],\r\n                r:['Right'],\r\n                lr:['Left', 'Right'],\r\n                t:['Top'],\r\n                b:['Bottom'],\r\n                tb:['Top', 'Bottom']\r\n            }\r\n            var arr = [{\r\n                border:{\r\n                    l:['LeftWidth'],\r\n                    r:['RightWidth'],\r\n                    lr:['LeftWidth', 'RightWidth'],\r\n                    t:['TopWidth'],\r\n                    b:['BottomWidth'],\r\n                    tb:['TopWidth', 'BottomWidth']\r\n                }\r\n            }, {\r\n                padding:group\r\n            }, {\r\n                margin:group\r\n            }];\r\n            Nui.each(arr, function(val){\r\n                if(val[attr]){\r\n                    Nui.each(val[attr][dir], function(v){\r\n                        var value = parseFloat(selector.css(attr+v));\r\n                        size += isNaN(value) ? 0 : value\r\n                    });\r\n                }\r\n            });\r\n            return size\r\n        },\r\n        _$fn:function(name, mod){\r\n            jQuery.fn[name] = function(){\r\n                var args = arguments;\r\n                var options = args[0];\r\n                return this.each(function(){\r\n                    if(typeof options !== 'string'){\r\n                        if(Nui.type(options, 'Object')){\r\n                            options.target = this\r\n                        }\r\n                        else{\r\n                            options = {\r\n                                target:this\r\n                            }\r\n                        }\r\n                        mod(options);\r\n                    }\r\n                    else if(options){\r\n                        var object;\r\n                        if(this.nui && (object=this.nui[name]) && options.indexOf('_') !== 0){\r\n                            if(options === 'options'){\r\n                                object.option(args[1], args[2])\r\n                            }\r\n                            else{\r\n                                var attr = object[options];\r\n                                if(typeof attr === 'function'){\r\n                                    attr.apply(object, Array.prototype.slice.call(args, 1))\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        _$ready:function(name, mod){\r\n            if(typeof this.init === 'function'){\r\n                this.init(Nui.doc)\r\n            }\r\n        },\r\n        config:function(){\r\n            var args = arguments;\r\n            var len = args.length;\r\n            var attr = args[0];\r\n            if(Nui.type(attr, 'Object')){\r\n                return this._options = jQuery.extend(true, this._options, attr)\r\n            }\r\n            else if(Nui.type(attr, 'String')){\r\n                if(args.length === 1){\r\n                    return this._options[attr]\r\n                }\r\n                return this._options[attr] = args[1]\r\n            }\r\n        },\r\n        hasInstance:function(id){\r\n            var exist = false;\r\n            var instances = this.__instances;\r\n            if(id){\r\n                Nui.each(instances, function(v){\r\n                    if(v._options.id === id){\r\n                        exist = true;\r\n                        return false\r\n                    }\r\n                })\r\n            }\r\n            else{\r\n                for(i in instances){\r\n                    return true\r\n                }\r\n            }\r\n            return exist\r\n        }\r\n    }\r\n\r\n    return ({\r\n        _static:statics,\r\n        _options:{\r\n            target:null,\r\n            //组件id，element会增加class 组件名-组件id\r\n            id:'',\r\n            //组件皮肤，element会增加class nui-组件名-皮肤名\r\n            skin:'',\r\n            //element增加一个或多个类\r\n            className:'',\r\n            onInit:null,\r\n            onReset:null,\r\n            onDestroy:null\r\n        },\r\n        _template:{},\r\n        _init:function(){\r\n            this._exec()\r\n        },\r\n        _exec:jQuery.noop,\r\n        _getTarget:function(){\r\n            var self = this;\r\n            if(!self.target){\r\n                var target = self._options.target;\r\n                var _class = self.constructor;\r\n                if(!target){\r\n                    return null\r\n                }\r\n                target = _class._jquery(target);\r\n                self.target = self._bindComponentName(target);\r\n            }\r\n            return self.target\r\n        },\r\n        _bindComponentName:function(element){\r\n            var self = this, _class = self.constructor;\r\n            var attr = 'nui_component_'+_class.__component_name;\r\n            element.attr(attr, '').each(function(){\r\n                if(!this.nui){\r\n                    this.nui = {};\r\n                }\r\n                this.nui[_class.__component_name] = self\r\n            })\r\n            return element\r\n        },\r\n        _tplData:function(data){\r\n            var opts = this._options, \r\n                _class = this.constructor,\r\n                name = 'nui-' + _class.__component_name, \r\n                skin = Nui.trim(opts.skin),\r\n                getName = function(_class, arrs){\r\n                    if(_class.__parent){\r\n                        var _pclass = _class.__parent.constructor;\r\n                        var _name = _pclass.__component_name;\r\n                        if(_name !== 'component'){\r\n                            if(skin){\r\n                                arrs.unshift('nui-'+_name+'-'+skin);\r\n                            }\r\n                            arrs.unshift('nui-'+_name);\r\n                            return getName(_pclass, arrs)\r\n                        }\r\n                    }\r\n                    return arrs\r\n                }, className = getName(_class, []);\r\n\r\n            className.push(name);\r\n            if(skin){\r\n                className.push(name+'-'+skin)\r\n            }\r\n            if(opts.id){\r\n                className.push(_class.__component_name + '-' + opts.id)\r\n            }\r\n            if(!data){\r\n                data = {}\r\n            }\r\n            if(opts.className){\r\n                className.push(opts.className)\r\n            }\r\n            data.className = className.join(' ');\r\n            return data\r\n        },\r\n        _event:function(){\r\n            var self = this, opts = self._options;\r\n            if(self.element && opts.events){\r\n                opts.element = self.element;\r\n                events.call(self, opts)\r\n            }\r\n            return events.call(self)\r\n        },\r\n        _on:function(type, dalegate, selector, callback, trigger){\r\n            var self = this;\r\n            if(typeof selector === 'function'){\r\n                trigger = callback;\r\n                callback = selector;\r\n                selector = dalegate;\r\n                dalegate = null;\r\n                selector = self.constructor._jquery(selector)\r\n            }\r\n\r\n            var _callback = function(e){\r\n                return callback.call(this, e, jQuery(this))\r\n            }\r\n\r\n            if(dalegate){\r\n                if(typeof selector !== 'string'){\r\n                    selector = selector.selector;\r\n                    if(!selector){\r\n                        selector = self._options.target\r\n                    }\r\n                }\r\n                dalegate.on(type, selector, _callback);\r\n                if(trigger){\r\n                    dalegate.find(selector).trigger(type)\r\n                }\r\n            }\r\n            else{\r\n                selector.on(type, _callback);\r\n                if(trigger){\r\n                    selector.trigger(type)\r\n                }\r\n            }\r\n\r\n            self.__eventList.push({\r\n                dalegate:dalegate,\r\n                selector:selector,\r\n                type:type,\r\n                callback:_callback\r\n            });\r\n\r\n            return self\r\n        },\r\n        _off:function(){\r\n            var self = this, _eventList = self.__eventList;\r\n            Nui.each(_eventList, function(val, key){\r\n                if(val.dalegate){\r\n                    val.dalegate.off(val.type, val.selector, val.callback)\r\n                }\r\n                else{\r\n                    val.selector.off(val.type, val.callback)\r\n                }\r\n                _eventList[key] = null;\r\n                delete _eventList[key]\r\n            });\r\n            self.__eventList = [];\r\n            return self\r\n        },\r\n        _delete:function(){\r\n            var self = this, _class = self.constructor;\r\n            if(self.target){\r\n                var attr = 'nui_component_'+_class.__component_name;\r\n                self.target.removeAttr(attr).each(function(){\r\n                    if(this.nui){\r\n                        this.nui[_class.__component_name] = null;\r\n                        delete this.nui[_class.__component_name];\r\n                    }\r\n                })\r\n            }\r\n            _class.__instances[self.__id] = null;\r\n            delete _class.__instances[self.__id]\r\n        },\r\n        _reset:function(){\r\n            this._off();\r\n            if(this.element){\r\n                this.element.remove();\r\n                this.element = null;\r\n            }\r\n            return this\r\n        },\r\n        _tpl2html:function(id, data){\r\n            var opts = {\r\n                openTag:'<%',\r\n                closeTag:'%>'\r\n            }\r\n            if(arguments.length === 1){\r\n                return tpl.render(this._template, id, opts)\r\n            }\r\n            return tpl.render.call(this._template, this._template[id], data, opts)\r\n        },\r\n        _callback:function(method, args){\r\n            var self = this, opts = self._options;\r\n            var callback = opts['on'+method];\r\n            if(typeof callback === 'function'){\r\n                if(args){\r\n                    Array.prototype.unshift.call(args, self);\r\n                    return callback.apply(opts, args);\r\n                }\r\n                return callback.call(opts, self)\r\n            }\r\n        },\r\n        option:function(opts, isOriginal){\r\n            var args = arguments;\r\n            var isdef = false;\r\n            var options;\r\n            if(args[0] === true){\r\n                isdef = true\r\n            }\r\n            else if(jQuery.isPlainObject(args[0])){\r\n                options = args[0]\r\n                isdef = args[1]\r\n            }\r\n            else if(args.length > 1 && typeof args[0] === 'string'){\r\n                options = {};\r\n                options[args[0]] = args[1]\r\n                isdef = args[2]\r\n            }\r\n            if(options||isdef){\r\n                this._options = jQuery.extend(true, {}, this[isdef === true ? '_defaultOptions' : '_options'], options)\r\n                this._reset();\r\n                this._exec();\r\n            }\r\n            return this\r\n        },\r\n        reset:function(){\r\n            this.option(true);\r\n            this._callback('Reset');\r\n            return this;\r\n        },\r\n        destroy:function(){\r\n            this._delete();\r\n            this._reset();\r\n            this._callback('Destroy');\r\n        }\r\n    })\r\n})\r\n\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description layer弹出层\r\n */\r\n\r\nNui[define]('src/components/layer/layer',['src/core/component', 'src/core/util', 'src/core/template'], function(component, util, template){\r\n    var module = this;\r\n\r\n    var statics = {\r\n        _maskzIndex:10000,\r\n        _zIndex:10000,\r\n        _init:function(){\r\n            var _class = this;\r\n            var timer = null;\r\n            Nui.win.on('resize', function(){\r\n                clearTimeout(timer);\r\n                timer = setTimeout(function(){\r\n                    Nui.each(_class.__instances, function(val){\r\n                        var opts = val._options;\r\n                        if(opts.position || opts.isCenter === true){\r\n                            val.resize()\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n        },\r\n        _$fn:null,\r\n        _$ready:null,\r\n        init:null\r\n    }\r\n\r\n    var options = {\r\n        //内容\r\n        content:'',\r\n        //内容模版\r\n        template:'',\r\n        //模版数据\r\n        data:{},\r\n        //高度\r\n        width:320,\r\n        //宽度\r\n        height:'auto',\r\n        //弹出层层级\r\n        zIndex:null,\r\n        //最大宽度\r\n        maxWidth:0,\r\n        //最大高度\r\n        maxHeight:0,\r\n        //定时器，N毫秒后自动关闭\r\n        timer:0,\r\n        //弹窗四周距离窗口边缘距离\r\n        edge:0,\r\n        //弹窗容器\r\n        container:'body',\r\n        //弹窗标题\r\n        title:'温馨提示',\r\n        //是否可以拖动\r\n        isMove:false,\r\n        //是否有遮罩\r\n        isMask:true,\r\n        //是否只能在窗口内拖动\r\n        isInnerMove:false,\r\n        //点击遮罩是否关闭弹窗\r\n        isClickMask:false,\r\n        //是否使用遮罩拖动\r\n        isMoveMask:false,\r\n        //是否能用hide方法关闭遮罩\r\n        isHide:true,\r\n        //弹窗是否浏览器改变大小时显示在窗口中央\r\n        isCenter:true,\r\n        //是否全屏显示\r\n        isFull:false,\r\n        //是否在点击弹窗时将其置顶\r\n        isTop:false,\r\n        //是否以提示框展示，没有标题，按钮\r\n        isTips:false,\r\n        //是否拖动滚动条固定位置\r\n        isFixed:true,\r\n        //当内容超过弹出层容器，是否显示滚动条\r\n        scrollbar:true,\r\n        //是否点击弹窗或者点击遮罩层是否阻止事件冒泡\r\n        isStopProp:false,\r\n        //按钮对齐方式\r\n        align:'center',\r\n        //是否以气泡形式展示，弹出层边缘会多出箭头\r\n        bubble:{\r\n            enable:false,\r\n            dir:'top'\r\n        },\r\n        //弹出层内容展示iframe，不建议跨域使用\r\n        iframe:{\r\n            enable:false,\r\n            cache:false,\r\n            src:''\r\n        },\r\n        //关闭按钮\r\n        close:{\r\n            enable:true,\r\n            text:'×'\r\n        },\r\n        //确定按钮\r\n        confirm:{\r\n            enable:false,\r\n            name:'normal',\r\n            text:'确定',\r\n            callback:function(){\r\n                return true\r\n            }\r\n        },\r\n        //取消按钮\r\n        cancel:{\r\n            enable:true,\r\n            text:'取消'\r\n        },\r\n        /*弹出层定位 top/left/right/bottom\r\n        position:{\r\n            top:10,\r\n            left:10\r\n        }\r\n        */\r\n        position:null,\r\n        /*将弹出层置于遮罩层底部\r\n        under:[layer1, layer2]\r\n        */\r\n        under:null,\r\n        /*配置按钮，若id为confirm/cancel/close将会覆盖内置按钮参数\r\n        button:[{\r\n            id:'confirm',\r\n            text:'确定',\r\n            name:'normal',\r\n            callback:function(){\r\n\r\n            }\r\n        }]\r\n        */\r\n        button:null,\r\n        //onInit：弹出层显示时回调\r\n        //onDestroy：弹出层注销时回调\r\n        //当拖动弹出层移动后回调\r\n        onMove:null,\r\n        //窗口改变大小位置时回调\r\n        onResize:null,\r\n        //容器滚动时回调\r\n        onScroll:null,\r\n        //弹窗隐藏前回调，若返回false则不能隐藏\r\n        onHideBefore:null,\r\n        //弹窗销毁前回调，若返回false则不能销毁\r\n        onDestroyBefore:null,\r\n        //定时关闭弹窗回调\r\n        onTimer:null\r\n    }\r\n\r\n    return this.extend(component, {\r\n        _static:statics,\r\n        _options:options,\r\n        _template:{\r\n            layout:\r\n                '<div class=\"<% className %>\" style=\"<% include \\'style\\' %>\">'+\r\n                    '<div class=\"layer-box\">'+\r\n                        '<%if close%>'+\r\n                            '<% var btn = close %>'+\r\n                            '<% include \"button\" %>'+\r\n                        '<%/if%>'+\r\n                        '<%if bubble%>'+\r\n                        '<span class=\"layer-bubble layer-bubble-<%bubble.dir||\"top\"%>\"'+\r\n                        '<%if bubble.style%>'+\r\n                        ' style=\"<%each bubble.style v n%><%n%>:<%v%>;<%/each%>\"'+\r\n                        '<%/if%>'+\r\n                        '><b></b><i></i></span>'+\r\n                        '<%/if%>'+\r\n                        '<%if title%>'+\r\n                        '<div class=\"layer-head\">'+\r\n                            '<span class=\"layer-title\"><%title%></span>'+\r\n                        '</div>'+\r\n                        '<%/if%>'+\r\n                        '<div class=\"layer-body\">'+\r\n                            '<div class=\"layer-main\">'+\r\n                            '<%content%>'+\r\n                            '</div>'+\r\n                        '</div>'+\r\n                        '<%if button && button.length%>'+\r\n                        '<div class=\"layer-foot\" style=\"text-align:<%align%>\">'+\r\n                        '<div class=\"layer-inner\">'+\r\n                        '<%each button btn%>'+\r\n                            '<%include \"button\"%>'+\r\n                        '<%/each%>'+\r\n                        '</div>'+\r\n                        '</div>'+\r\n                        '<%/if%>'+\r\n                    '</div>'+\r\n                '</div>',\r\n            button:\r\n                '<button class=\"ui-button'+\r\n                    '<%if btn.name%>'+\r\n                    '<%each [].concat(btn.name) name%> ui-button-<%name%><%/each%>'+\r\n                    '<%/if%> layer-button-<%btn.id%>\"'+\r\n                    '<%if btn.style%>'+\r\n                    ' style=\"<%each btn.style v n%><%n%>:<%v%>;<%/each%>\"'+\r\n                    '<%/if%>><%btn.text || \"按钮\"%></button>',\r\n            iframe:\r\n                '<iframe<%each attr%> <%$index%>=\"<%$value%>\"<%/each%>></iframe>',\r\n            mask:\r\n                '<div class=\"nui-layer-mask'+\r\n                    '<%if skin%> nui-layer-mask-<%skin%><%/if%>\" style=\"<%include \\'style\\'%>\">'+\r\n                    '<div class=\"layer-mask\"></div>'+\r\n                '</div>',\r\n            movemask:\r\n                '<div class=\"nui-layer-movemask'+\r\n                    '<%if skin%> nui-layer-movemask-<%skin%><%/if%>\" style=\"<%include \\'style\\'%>\">'+\r\n                '</div>',\r\n            style:\r\n                '<%each style%><%$index%>:<%$value%>;<%/each%>'\r\n        },\r\n        /*\r\n        top:弹窗距离窗口顶部距离\r\n        left:弹窗距离窗口左边距离\r\n        width:弹窗宽度\r\n        height:弹窗高度\r\n        */\r\n        data:{},\r\n        _init:function(){\r\n            this._zIndex = ++this.constructor._zIndex;\r\n            this._exec()\r\n        },\r\n        _exec:function(){\r\n            var self = this, opts = self._options, _class = self.constructor;\r\n            self._container = _class._jquery(opts.container);\r\n            if(self._container.length){\r\n                self._containerDOM = self._container.get(0);\r\n                if(self._containerDOM.tagName !== 'BODY'){\r\n                    self._window = self._container;\r\n                    self._isWindow = false;\r\n                    var pos = self._container.css('position');\r\n                    if('absolute relative fixed'.indexOf(pos) === -1){\r\n                        self._container.css('position', 'relative')\r\n                    }\r\n                }\r\n                else{\r\n                    self._window = Nui.win;\r\n                    self._isWindow = true;\r\n                }\r\n                self._isFixed = opts.isFixed && !Nui.bsie6 && self._isWindow;\r\n                self._create();\r\n            }\r\n        },\r\n        _create:function(){\r\n            var self = this, opts = self._options;\r\n            var buttons = self._createButton(), isTitle = false;\r\n            if(opts.isTips !== true){\r\n                isTitle = typeof opts.title === 'string';\r\n            }\r\n            var data = self._tplData({\r\n                content:self._getContent(),\r\n                close:buttons.close,\r\n                button:buttons.button,\r\n                title:isTitle ? (opts.title||'温馨提示') : null,\r\n                bubble:opts.bubble.enable === true ? opts.bubble : null,\r\n                align:opts.align || 'center',\r\n                style:{\r\n                    'z-index':isNaN(parseInt(opts.zIndex)) ? self._zIndex : opts.zIndex,\r\n                    'position':'absolute',\r\n                    'display':'block'\r\n                }\r\n            });\r\n            if(self._isFixed){\r\n                data.style.position = 'fixed';\r\n            }\r\n            self._setTop();\r\n            self.element = self._bindComponentName($(self._tpl2html('layout', data)).appendTo(self._container));\r\n            self._box = self.element.children('.layer-box');\r\n\t\t\tself.head = self._box.children('.layer-head');\r\n\t\t\tself._body = self._box.children('.layer-body');\r\n\t\t\tself.main = self._body.children('.layer-main');\r\n\t\t\tself.foot = self._box.children('.layer-foot');\r\n            if(opts.isTips !== true){\r\n                if(opts.iframe.enable === true){\r\n                    self._iframe = self.main.children('iframe');\r\n                    self._iframeOnload()\r\n                }\r\n                if(opts.isMove === true && isTitle){\r\n                    self._bindMove();\r\n                }\r\n                if(opts.isStopProp === true){\r\n                    self._stopProp();\r\n                }\r\n                if(opts.isTop === true){\r\n                    self._bindTop();\r\n                }\r\n            }\r\n            if(self._button.length){\r\n                self._buttonEvent();\r\n            }\r\n            if(opts.isFixed === true && !self._isFixed === true){\r\n                self._bindScroll()\r\n            }\r\n            self._event();\r\n            self._show()\r\n        },\r\n        _getContent:function(){\r\n            var self = this, opts = self._options, content = '', tpl = opts.template;\r\n            if(opts.isTips !== true && opts.iframe.enable === true){\r\n                content = self._createIframe();\r\n            }\r\n            else{\r\n                if(tpl){\r\n                    if(typeof tpl === 'string'){\r\n                        content = template.render(tpl, opts.data)\r\n                    }\r\n                    else if(Nui.type(opts.template, 'Object')){\r\n                        content = template.render.call(tpl, tpl.main, opts.data)\r\n                    }\r\n                }\r\n                else if(typeof opts.content === 'string'){\r\n                    content = opts.content\r\n                }\r\n                else if(opts.content instanceof jQuery){\r\n                    content = opts.content.prop('outerHTML')\r\n                }\r\n            }\r\n            return content\r\n        },\r\n        _createIframe:function(){\r\n            var self = this, opts = self._options, name = 'layer-iframe'+self.__id, src = opts.iframe.src;\r\n            if(opts.iframe.cache === false){\r\n                src = util.setParam('_', new Date().getTime(), src)\r\n            }\r\n            return self._tpl2html('iframe', {\r\n                attr:{\r\n                    frameborder:'0',\r\n                    name:name,\r\n                    id:name,\r\n                    src:src,\r\n                    scroll:'hidden',\r\n                    style:'width:100%;'\r\n                }\r\n            })\r\n        },\r\n        _iframeOnload:function(){\r\n            var self = this;\r\n            self._iframe.load(function(){\r\n                self._iframeDocument = self._iframe.contents();\r\n                self._resize()\r\n            })\r\n        },\r\n        _createButton:function(){\r\n            var self = this, opts = self._options, defaults = {}, buttons = {}, caches = {};\r\n            var add = function(id, btn){\r\n                self._button[id === 'close' ? 'unshift' : 'push'](btn)\r\n            }\r\n            self._button = [];\r\n            if(opts.isTips !== true){\r\n                Nui.each(['close', 'confirm', 'cancel'], function(id){\r\n                    var btn = opts[id];\r\n                    if(btn && btn.enable === true){\r\n                        defaults[id] = {\r\n                            id:id,\r\n                            name:btn.name,\r\n                            style:btn.style,\r\n                            text:btn.text,\r\n                            callback:btn.callback\r\n                        }\r\n                    }\r\n                });\r\n                if(opts.button && opts.button.length){\r\n                    Nui.each(opts.button, function(val){\r\n                        var id = val.id, btn = val, def;\r\n                        if(!caches[id]){\r\n                            caches[id] = true;\r\n                            if(def = defaults[id]){\r\n                                btn = $.extend(true, {}, def, val);\r\n                                delete defaults[id]\r\n                            }\r\n                            add(id, btn)\r\n                        }\r\n                    })\r\n                }\r\n                Nui.each(defaults, function(val, id){\r\n                    add(id, val)\r\n                });\r\n            }\r\n            if(self._button[0] && self._button[0].id === 'close'){\r\n                buttons.close = self._button[0],\r\n                buttons.button = self._button.slice(1);\r\n            }\r\n            else{\r\n                buttons.button = self._button\r\n            }\r\n            return buttons\r\n        },\r\n        _buttonEvent:function(){\r\n            var self = this, opts = self._options;\r\n            Nui.each(self._button, function(val){\r\n                self._on('click', self.element, '.layer-button-'+val.id, function(e, button){\r\n                    if(!button.hasClass('nui-button-disabled')){\r\n                        var id = val.id, callback = val.callback;\r\n                        var isCall = typeof callback === 'function' ? callback.call(opts, self, e, button) : null;\r\n                        if((id === 'confirm' && isCall === true) || (id !== 'confirm' && isCall !== false)){\r\n                            self.destroy()\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        _stopProp:function(){\r\n            this._on('click', this.element, function(e){\r\n                e.stopPropagation()\r\n            });\r\n        },\r\n        _bindTop:function(){\r\n            var self = this;\r\n            self._on('click', self.element, function(){\r\n                self._setzIndex();\r\n            });\r\n        },\r\n        _bindMove:function(){\r\n            var self = this, opts = self._options, element = self.element;\r\n            var _class = self.constructor, elem = element, isMove = false, x, y, _x, _y;\r\n            self._on('mousedown', self.head, function(e, ele){\r\n                isMove = true;\r\n                self._setzIndex();\r\n                if(opts.isMoveMask === true){\r\n                    elem = self._moveMask = $(self._tpl2html('movemask', {\r\n                        skin:opts.skin,\r\n                        style:{\r\n                            'z-index':self._zIndex+1,\r\n                            'cursor':'move',\r\n                            'position':self._isFixed ? 'fixed' : 'absolute'\r\n                        }\r\n                    })).appendTo(self._container);\r\n                    elem.css({\r\n                        width:self.data.outerWidth - _class._getSize(elem, 'lr', 'all'),\r\n                        height:self.data.outerHeight - _class._getSize(elem, 'tb', 'all'),\r\n                        top:self.data.top,\r\n                        left:self.data.left\r\n                    });\r\n                }\r\n                ele.css('cursor','move');\r\n                x = e.pageX - self.data.left;\r\n                y = e.pageY - self.data.top;\r\n                e.stopPropagation();\r\n            });\r\n            self._on('mousemove', Nui.doc, function(e){\r\n                var width = self._container.outerWidth(), height = self._container.outerHeight();\r\n                if(isMove){\r\n                    _x = e.pageX - x;\r\n                    _y = e.pageY - y;\r\n                    _x < 0 && (_x = 0);\r\n                    _y < 0 && (_y = 0);\r\n                    if(opts.isInnerMove === true){\r\n                        _x + self.data.outerWidth > width && (_x = width - self.data.outerWidth);\r\n                        _y + self.data.outerHeight > height && (_y = height - self.data.outerHeight);\r\n                    }\r\n                    self.data.top = _y;\r\n                    self.data.left = _x;\r\n                    elem.css({top:_y, left:_x});\r\n                    return !isMove;\r\n                }\r\n            });\r\n            self._on('mouseup', Nui.doc, function(e){\r\n                if(isMove){\r\n                    isMove = false;\r\n                    self.head.css('cursor','default');\r\n                    if(opts.isMoveMask === true){\r\n                        element.css(self.data);\r\n                        self._moveMask.remove();\r\n                        self._moveMask = null;\r\n                    }\r\n                    self._callback('Move');\r\n                    self.data.offsetTop = self.data.top - self._window.scrollTop();\r\n                    self.data.offsetLeft = self.data.left - self._window.scrollLeft();\r\n                }\r\n            });\r\n        },\r\n        _bindScroll:function(){\r\n            var self = this, opts = self._options;\r\n            self._on('scroll', self._window, function(e, elem){\r\n                var top = self.data.offsetTop + self._window.scrollTop();\r\n                var left = self.data.offsetLeft + self._window.scrollLeft();\r\n                self.data.top = top;\r\n                self.data.left = left;\r\n                self.element.css(self.data);\r\n                self._callback('Scroll', [e, elem, {top:top, left:left}]);\r\n            })\r\n        },\r\n        //鼠标点击弹出层将弹出层层级设置最大\r\n        _setzIndex:function(){\r\n            var self = this, _class = self.constructor;\r\n            if(self._isTop && self.element){\r\n                self._isTop = false;\r\n                self._zIndex = ++_class._zIndex;\r\n                self.element.css('zIndex', self._zIndex);\r\n                self._setTop();\r\n            }\r\n        },\r\n        _setLower:function(destroy){\r\n            var self = this, _class = self.constructor, opts = self._options, unders = [];\r\n            if(opts.under){\r\n                unders = unders.concat(opts.under);\r\n                if(unders.length){\r\n                    Nui.each(unders, function(obj, k){\r\n                        if(obj && obj.element){\r\n                            obj.element.css('z-index', destroy ? (isNaN(parseInt(obj._options.zIndex)) ? obj._zIndex : obj._options.zIndex) : _class._maskzIndex-1)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        _setTop:function(){\r\n            var self = this, _class = self.constructor;\r\n            Nui.each(_class.__instances, function(val){\r\n                if(val && val !== self && val._options.isTop === true){\r\n                    val._isTop = true;\r\n                }\r\n            });\r\n        },\r\n        _position:function(){\r\n            var self = this, data = self.data, pos = self._options.position;\r\n            var _pos = {\r\n                top:pos.top,\r\n                left:pos.left,\r\n                right:pos.right,\r\n                bottom:pos.bottom\r\n            }, _v;\r\n\r\n            if(_pos.top !== undefined && _pos.bottom !== undefined){\r\n                delete _pos.bottom\r\n            }\r\n\r\n            if(_pos.left !== undefined && _pos.right !== undefined){\r\n                delete _pos.right\r\n            }\r\n\r\n            Nui.each(_pos, function(v, k){\r\n                if(v === undefined){\r\n                    delete _pos[k];\r\n                    return true;\r\n                }\r\n                _v = v;\r\n                if(typeof v === 'string'){\r\n                    if(!v){\r\n                        _v = 0\r\n                    }\r\n                    else{\r\n                        if(k === 'top' || k === 'bottom'){\r\n                            if(v === 'self'){\r\n                                _v = data.outerHeight\r\n                            }\r\n                            else if(/[\\+\\-\\*\\/]/.test(v)){\r\n                                _v = (new Function('var self = '+data.outerHeight+'; return '+v))()\r\n                            }\r\n                        }\r\n                        else{\r\n                            if(v === 'self'){\r\n                                _v = data.outerWidth\r\n                            }\r\n                            else if(/[\\+\\-\\*\\/]/.test(v)){\r\n                                _v = (new Function('var self = '+data.outerWidth+'; return '+v))()\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                _pos[k] = _v === 'auto' ? 'auto' : parseFloat(_v)+'px'\r\n            })\r\n\r\n            return _pos\r\n        },\r\n        _resize:function(type){\r\n            var self = this, _class = self.constructor, opts = self._options, element = self.element;\r\n            var wWidth = self._window.outerWidth();\r\n            var wHeight = self._window.outerHeight();\r\n            var stop = 0;\r\n            var sleft = 0;\r\n            if(!self._isFixed){\r\n                sleft = self._window.scrollLeft();\r\n                stop = self._window.scrollTop();\r\n            }\r\n            self._setSize();\r\n            if(opts.position){\r\n                var pos = element.css(self._position()).position();\r\n                if(Nui.bsie6){\r\n                    sleft = 0;\r\n                    stop = 0;\r\n                }\r\n                self.data.left = pos.left + sleft;\r\n                self.data.top = pos.top + stop;\r\n            }\r\n            else{\r\n                if(type === 'init' || opts.isCenter === true){\r\n                    var left = (wWidth - self.data.outerWidth) / 2 + sleft;\r\n                    var top = (wHeight - self.data.outerHeight) / 2 + stop;\r\n                    var edge = opts.edge > 0 ? opts.edge : 0;\r\n                    self.data.left = left > 0 ? left : edge;\r\n                    self.data.top = top > 0 ? top : edge;\r\n                }\r\n            }\r\n            self.data.offsetTop = self.data.top - self._window.scrollTop();\r\n            self.data.offsetLeft = self.data.left - self._window.scrollLeft();\r\n            element.css(self.data);\r\n        },\r\n        _setSize:function(){\r\n            var self = this, _class = self.constructor, opts = self._options, element = self.element;\r\n            var edge = opts.edge > 0 ? opts.edge*2 : 0;\r\n            var wWidth = self._window.outerWidth() - edge;\r\n            var wHeight = self._window.outerHeight() - edge;\r\n            var scrollbar = opts.scrollbar;\r\n\r\n            self._body.css({height:'auto', overflow:'visible'});\r\n            element.css({top:'auto', left:'auto', width:'auto', height:'auto'});\r\n            \r\n            var edgeSize = _class._getSize(self._box, 'tb', 'all') +\r\n                self.head.outerHeight() + \r\n                _class._getSize(self.head, 'tb', 'margin') + \r\n                _class._getSize(self._body, 'tb', 'all') + \r\n                self.foot.outerHeight() + \r\n                _class._getSize(self.foot, 'tb', 'margin');\r\n\r\n            var width = element.outerWidth();\r\n            if(opts.isFull !== true){\r\n                if(opts.width > 0){\r\n                    width = opts.width\r\n                }\r\n                else if(opts.width === '100%' || (opts.scrollbar === true && width > wWidth)){\r\n                    width = wWidth;\r\n                }\r\n                if(opts.maxWidth > 0 && width >= opts.maxWidth){\r\n                    scrollbar = true;\r\n                    width = opts.maxWidth\r\n                }\r\n            }\r\n            else{\r\n                width = wWidth;\r\n            }\r\n\r\n            var ws = 'nowrap';\r\n            if(opts.width > 0 || width == opts.maxWidth || width == wWidth){\r\n                ws = 'normal';\r\n            }\r\n\r\n            self.data.width = width - _class._getSize(element, 'lr', 'all');\r\n            self.main.css('white-space', ws);\r\n            element.width(self.data.width);\r\n\r\n            var height = element.outerHeight();\r\n            if(self._iframeDocument){\r\n                self._iframeDocument[0].layer = self;\r\n                height = edgeSize + self._iframeDocument.find('body').outerHeight();\r\n            }\r\n\r\n            if(opts.isFull !== true){\r\n                if(opts.height > 0){\r\n                    height = opts.height\r\n                }\r\n                else if(opts.height === '100%' || ((opts.scrollbar === true || self._iframeDocument) && height > wHeight)){\r\n                    height = wHeight\r\n                }\r\n                if(opts.maxHeight > 0 && height >= opts.maxHeight){\r\n                    scrollbar = true;\r\n                    height = opts.maxHeight\r\n                }\r\n            }\r\n            else{\r\n                height = wHeight\r\n            }\r\n\r\n            self.data.outerWidth = width;\r\n            self.data.outerHeight = height;\r\n            self.data.height = height - _class._getSize(element, 'tb', 'all');\r\n            element.height(self.data.height);\r\n            var _height = self.data.height - edgeSize;\r\n\r\n            if(self.main.outerHeight() > _height && !self._iframe && scrollbar === true){\r\n                self._body.css('overflow', 'auto')\r\n            }\r\n            if(self._iframe){\r\n                self._iframe.height(_height);\r\n            }\r\n            self._body.height(self.data.contentHeight = _height)\r\n        },\r\n        _showMask:function(){\r\n            var self = this, _class = self.constructor, opts = self._options;\r\n            if(!self._containerDOM.__layermask__){\r\n                self._containerDOM.__layermask__ = $(self._tpl2html('mask', {\r\n                    skin:opts.skin,\r\n                    style:{\r\n                        'z-index':_class._maskzIndex,\r\n                        'position':self._isFixed ? 'fixed' : 'absolute',\r\n                        'top':'0px',\r\n                        'left':'0px',\r\n                        'width':'100%',\r\n                        'height':self._isFixed ? '100%' : self._container.outerHeight()+'px'\r\n                    }\r\n                })).appendTo(self._container);\r\n            }\r\n            if(opts.isStopProp === true){\r\n                self._on('click', self._containerDOM.__layermask__, function(e){\r\n                    e.stopPropagation()\r\n                })\r\n            }\r\n            if(opts.isClickMask === true){\r\n                self._on('click', self._containerDOM.__layermask__, function(){\r\n                    self.hide()\r\n                })\r\n            }\r\n        },\r\n        _show:function(){\r\n            var self = this, opts = self._options;\r\n            component.init(self.main);\r\n            self._resize('init');\r\n            self._setLower();\r\n            if(opts.isMask === true){\r\n                self._showMask()\r\n            }\r\n            if(opts.timer > 0){\r\n                self._time = opts.timer;\r\n                self._timer();\r\n            }\r\n            self._callback('Init');\r\n            return self\r\n        },\r\n        _timer:function(){\r\n            var self = this, opts = self._options;\r\n            if(self._time > 0){\r\n                self._callback('Timer', [self._time]);\r\n                self._timerid = setTimeout(function(){\r\n                    self._time -= 1000;\r\n                    self._timer();\r\n                }, self._time > 1000 ? 1000 : self._time)\r\n            }\r\n            else{\r\n                self.hide()\r\n            }\r\n        },\r\n        _reset:function(){\r\n            var self = this, _class = self.constructor, noMask = true;\r\n            component.exports._reset.call(this);\r\n            component('destroy', self.main);\r\n            Nui.each(_class.__instances, function(val){\r\n                if(val && val._options.isMask === true && val !== self && val._containerDOM === self._containerDOM){\r\n                    return (noMask = false);\r\n                }\r\n            });\r\n            if(noMask && self._containerDOM.__layermask__){\r\n                self._containerDOM.__layermask__.remove();\r\n                self._containerDOM.__layermask__  = null;\r\n            }\r\n            if(self._options.timer > 0){\r\n                self.timer = 0;\r\n                clearTimeout(self._timerid);\r\n            }\r\n        },\r\n        resize:function(){\r\n            var self = this, opts = self._options, element = self.element;\r\n            self._resize();\r\n            self._callback('Resize');\r\n            return self\r\n        },\r\n        hide:function(){\r\n            if(this._options.isHide === true){\r\n                if(this._callback('HideBefore') === false){\r\n                    return\r\n                }\r\n                this.destroy()\r\n            }\r\n        },\r\n        destroy:function(){\r\n            var self = this, _class = self.constructor, opts = self._options;\r\n            if(self._callback('DestroyBefore') === false){\r\n                return\r\n            }\r\n            self._delete();\r\n            self._reset();\r\n            self._setLower(true);\r\n            if(!self._isdestroy){\r\n                _class._zIndex--;\r\n                self._isdestroy = true;\r\n            }\r\n            self._callback('Destroy');\r\n        }\r\n    })\r\n});\nNui[define]('src/components/layer/confirm',['src/components/layer/layer'], function(layer){\r\n    return function(content, callback, title, width, height, align){\r\n        var opts;\r\n        if(typeof content === 'object'){\r\n            opts = content;\r\n            content = opts.content;\r\n            delete opts.content;\r\n        }\r\n        return layer(Nui.extend(true, {\r\n            content:'<div style=\"padding:10px; line-height:20px;\">'+(content||'')+'</div>',\r\n            title:title,\r\n            width:width,\r\n            height:height,\r\n            align:align || 'right',\r\n            button:[{\r\n                id:'cancel',\r\n                text:'取消',\r\n                enable:true\r\n            }],\r\n            confirm:{\r\n                callback:callback||function(){\r\n                    return true\r\n                }\r\n            }\r\n        }, opts||{}, {\r\n            confirm:{\r\n                enable:true\r\n            }\r\n        }))\r\n    }\r\n})\nNui[define]('./script/events/page',['src/core/template', 'src/core/events', 'src/components/layer/confirm'], function(template, events, confirm){\r\n    var evt = events({\r\n        elem:$('#data'),\r\n        data:['蔬菜', '水果', '苹果'],\r\n        template:this.renders(''+''\r\n            +'<%each $list%>'+''\r\n            +'<li class=\"e-mt5\">'+''\r\n                +'<label>'+''\r\n                    +'<input type=\"checkbox\" value=\"<%$index%>\">'+''\r\n                    +'<span><%$value%></span>'+''\r\n                +'</label>'+''\r\n            +'</li>'+''\r\n            +'<%/each%>'+''\r\n        +''),\r\n        events:{\r\n            'click .j-add':'add render',\r\n            'click .j-del':'checks del remove render',\r\n            'click .j-update':'checks update'\r\n        },\r\n        checks:function(){\r\n            var arr = [], elems = this.elem.find(':checked');\r\n            if(!this.elem.find(':checked').length){\r\n                return false\r\n            }\r\n            this.elem.find(':checked').each(function(){\r\n                arr.push($(this).val())\r\n            })\r\n            return arr\r\n        },\r\n        render:function(){\r\n            this.elem.html(template.render(this.template, this.data))\r\n        },\r\n        add:function(e, elem, data){\r\n            this.data.push('自定义');\r\n        },\r\n        remove:function(){\r\n            var data = [];\r\n            Nui.each(this.data, function(v){\r\n                if(typeof v !== 'undefined'){\r\n                    data.push(v)\r\n                }\r\n            });\r\n            this.data = data;\r\n        },\r\n        del:function(e, elem, data){\r\n            var that = this;\r\n            Nui.each(data, function(v){\r\n                delete that.data[v]\r\n            });\r\n        },\r\n        update:function(e, elem, data){\r\n            var that = this;\r\n            confirm('<input type=\"text\" style=\"border:1px solid #ccc; width:180px; height:24px;\" />', function(e, self){\r\n                var val = Nui.trim(self.main.find('input').val());\r\n                if(val){\r\n                    Nui.each(data, function(v){\r\n                        that.data[v] = val;\r\n                    })\r\n                    that.render();\r\n                    return true\r\n                }\r\n            }, '', 210)\r\n        }\r\n    })\r\n\r\n    evt.render()\r\n})\n\n})('_module_2_define');"]}