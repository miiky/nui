{"version":3,"sources":["demo-debug.js"],"names":["Nui","define","text","color","component","this","extend","_options","animate","equal","restore","onChange","_template","list","wrap","elem","_exec","self","opts","target","_getTarget","_deftext","attr","undefined","_val","trim","val","_text","_create","_class","constructor","document","createElement","_setStyle","removeAttr","data","_tplData","style","position","display","width","outerWidth","overflow","cursor","_tpl2html","element","$","height","outerHeight","isText","is","left","_getSize","top","line-height","insertAfter","_events","className","__id","addClass","_createStyle","_createRules","head","appendChild","sheet","id","deleteRule","e","each","v","selector","rules","addRule","insertRule","pleft","_on","focus","stop","opacity","value","hide","show","_reset","_off","remove","unwrap","removeClass","arguments","length","_callback","template","events","statics","_paths","_init","doc","on","back","forward","_setpaths","rule","paths","_replace","hash","replace","location","protocol","host","_getWrapper","container","appendTo","_split","url","ret","params","match","split","k","arr","_change","_active","isEmptyObject","_hash","query","path","indexOf","object","__instances","param","isRender","_isRender","unWrapper","_wrapper","loaded","_defaultOptions","key","_send","onData","call","wrapper","children","destroy","off","tmpl","html","render","main","onInit","init","siblings","onAfter","_initialize","bsie7","_setHistory","_isEntry","entry","_render","eq","_oldhash","_bindHashchange","hashchange","setInterval","win","_$ready","_$fn","start","temp","_router","RegExp","active","index","history","_history","_isHistory","push","len","i","window","_static","level","onBefore","router","_bind","_jquery","_getpath","sub","shift","join","_event","substr","href","jQuery","trigger","change","callback","preventDefault","option","reset","require","renders","async","a","console","log","detail","title","tpl"],"mappings":"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","file":"demo-min.js.map?v=7ac7ddb","sourcesContent":["Nui.define('pages/components/router/script/options',function(){\r\n    return {\r\n        text:'1111',\r\n        color:'#f60'\r\n    }\r\n})\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description 输入框占位符\r\n */\r\n\r\nNui.define('src/components/placeholder',['component'], function(component){\r\n    return this.extend(component, {\r\n        _options:{\r\n            /**\r\n             * @func 输入框占位提示文本，若元素上含有placeholder属性将会覆盖该值\r\n             * @type <String>\r\n             */\r\n            text:'',\r\n            /**\r\n             * @func 是否启用动画形式展示\r\n             * @type <Boolean>\r\n             */\r\n            animate:false,\r\n            /**\r\n             * @func 输入框值是否可以和占位符相同\r\n             * @type <Boolean>\r\n             */\r\n            equal:false,\r\n            /**\r\n             * @func 销毁或者重置组件是否还原默认值\r\n             * @type <Boolean>\r\n             */\r\n            restore:true,\r\n            /**\r\n             * @func 占位符文本颜色\r\n             * @type <String>\r\n             */\r\n            color:'#ccc',\r\n            /**\r\n             * @func 调用value方法后执行回调\r\n             * @type <Function>\r\n             */\r\n            onChange:null\r\n        },\r\n        _template:{\r\n            list:'<%each style%><%$index%>:<%$value%>;<%/each%>',\r\n            wrap:'<strong class=\"<% className %>\" style=\"<%include \\'list\\'%>\" />',\r\n            elem:'<b style=\"<%include \\'list\\'%>\"><%text%></b>'\r\n        },\r\n        _exec:function(){\r\n            var self = this, opts = self._options, target = self._getTarget();\r\n            if(target){\r\n                var text = self._deftext = target.attr('placeholder');\r\n                if(!self._deftext && opts.text){\r\n                    target.attr('placeholder', text = opts.text)\r\n                }\r\n                if(self._val === undefined){\r\n                    self._val = Nui.trim(target.val());\r\n                }\r\n                if(self._text = Nui.trim(text)){\r\n                    self._create()\r\n                }\r\n            }\r\n        },\r\n        _create:function(){\r\n            var self = this, opts = self._options, _class = self.constructor;\r\n            if(opts.animate || (!opts.animate && !('placeholder' in document.createElement('input')))){\r\n                if(opts.animate){\r\n                    self.target.removeAttr('placeholder')\r\n                }\r\n                var data = self._tplData();\r\n                data.style = {\r\n                    'position':'relative',\r\n                    'display':'inline-block',\r\n                    'width':self.target.outerWidth()+'px',\r\n                    'overflow':'hidden',\r\n                    'cursor':'text'\r\n                }\r\n                self.target.wrap(self._tpl2html('wrap', data))\r\n                self.element = $(self._tpl2html('elem', {\r\n                        text:self._text,\r\n                        style:(function(){\r\n                            var height = self.target.outerHeight();\r\n                            var isText = self.target.is('textarea');\r\n                            return ({\r\n                                'display':Nui.trim(self.target.val()) ? 'none' : 'inline',\r\n                                'position':'absolute',\r\n                                'left':_class._getSize(self.target, 'l', 'padding')+_class._getSize(self.target, 'l')+'px',\r\n                                'top':_class._getSize(self.target, 't', 'padding')+_class._getSize(self.target, 't')+'px',\r\n                                'height':isText ? 'auto' : height+'px',\r\n                                'line-height':isText ? 'normal' : height+'px',\r\n                                'color':opts.color\r\n                            })\r\n                        })()\r\n                    })).insertAfter(self.target)\r\n\r\n                self._events()\r\n            }\r\n            else{\r\n                self._setStyle()\r\n            }\r\n        },\r\n        _setStyle:function(){\r\n            var self = this, opts = self._options;\r\n            self.className = '_placeholder-'+self.__id;\r\n            self.target.addClass(self.className);\r\n            if(!self.constructor.style){\r\n                self._createStyle()\r\n            }\r\n            self._createRules()\r\n        },\r\n        _createStyle:function(){\r\n            var self = this;\r\n            var style = document.createElement('style');\r\n            document.head.appendChild(style);\r\n            self.constructor.style = style.sheet\r\n        },\r\n        _createRules:function(){\r\n            var self = this;\r\n            var sheet = self.constructor.style;\r\n            var id = self.__id;\r\n            try{\r\n                sheet.deleteRule(id)\r\n            }\r\n            catch(e){}\r\n            Nui.each(['::-webkit-input-placeholder', ':-ms-input-placeholder', '::-moz-placeholder'], function(v){\r\n                var selector = '.'+self.className+v;\r\n                var rules = 'opacity:1; color:'+(self._options.color||'');\r\n                try{\r\n                    if('addRule' in sheet){\r\n                        sheet.addRule(selector, rules, id)\r\n                    }\r\n                    else if('insertRule' in sheet){\r\n                        sheet.insertRule(selector + '{' + rules + '}', id)\r\n                    }\r\n                }\r\n                catch(e){}\r\n            })\r\n        },\r\n        _events:function(){\r\n            var self = this, opts = self._options, _class = self.constructor;\r\n            var pleft = _class._getSize(self.target, 'l', 'padding') + _class._getSize(self.target, 'l');\r\n            self._on('click', self.element, function(){\r\n                self.target.focus()\r\n            })\r\n\r\n            self._on('focus', self.target, function(){\r\n                opts.animate && self.element.stop(true, false).animate({left:pleft+10, opacity:'0.5'});\r\n            })\r\n\r\n            self._on('blur change', self.target, function(e, elem){\r\n                self.value();\r\n            })\r\n\r\n            self._on('keyup keydown', self.target, function(e, elem){\r\n                Nui.trim(elem.val()) ? self.element.hide() : self.element.show()\r\n            })\r\n        },\r\n        _reset:function(){\r\n            var self = this;\r\n            self._off();\r\n            if(self.element){\r\n                self.element.remove();\r\n                self.target.unwrap();\r\n            }\r\n            if(self._options.restore === true){\r\n                self.target.val(self._val)\r\n            }\r\n            self.target.removeClass(self.className);\r\n            if(self._deftext){\r\n                self.target.attr('placeholder', self._deftext)\r\n            }\r\n            else{\r\n                self.target.removeAttr('placeholder')\r\n            }\r\n        },\r\n        value:function(val){\r\n            var _class = this.constructor, target = this.target;\r\n            var pleft = _class._getSize(target, 'l', 'padding') + _class._getSize(target, 'l');\r\n            var v = Nui.trim(!arguments.length ? target.val() : target.val(val).val());\r\n            if((!this._options.equal && v === this.text) || !v){\r\n                target.val('');\r\n                this.element && this.element.show();\r\n                if(this._options.animate){\r\n                    this.element.stop(true, false).animate({left:pleft, opacity:'1'})\r\n                }\r\n            }\r\n            else if(this.element){\r\n                this.element.hide()\r\n            }\r\n            this._callback('Change');\r\n        }\r\n    })\r\n})\r\n\n/**\r\n * @author Aniu[2017-02-27 23:46]\r\n * @update Aniu[2017-02-27 23:46]\r\n * @version 1.0.1\r\n * @description 路由\r\n */\r\n\r\nNui.define('src/components/router',['component', 'template', 'events'], function(component, template, events){\r\n    var statics = {\r\n        _paths:{},\r\n        _init:function(){\r\n            var self = this;\r\n            Nui.doc.on('click', '.nui-router-back', function(){\r\n                return self.back()\r\n            }).on('click', '.nui-router-forward', function(){\r\n                return self.forward()\r\n            })\r\n        },\r\n        _setpaths:function(rule, paths){\r\n            if(!this._paths[rule]){\r\n                this._paths[rule] = paths\r\n            }\r\n        },\r\n        _replace:function(hash){\r\n                        //IE8-中 A标签href属性会被添加上域名，将其移除\r\n            return hash.replace(location.protocol+'//'+location.host, '')\r\n                        //移除空白\r\n                       .replace(/\\s+/g, '')\r\n                       //移除 #!前缀\r\n                       .replace(/^\\#\\!?/, '')\r\n                       //开头添加斜杠\r\n                       .replace(/^([^\\/])/, '/$1')\r\n                       //移除末尾斜杠\r\n                       .replace(/\\/$/, '');\r\n        },\r\n        _getWrapper:function(container){\r\n            return $('<div class=\"nui-router-wrapper\"></div>').appendTo(container)\r\n        },\r\n        _split:function(url){\r\n            var ret = {\r\n                url:url,\r\n                params:{}\r\n            }\r\n            var match = url.match(/\\?[^\\/\\s]+$/);\r\n            if(match){\r\n                var params = match[0];\r\n                ret.url = url.replace(params, '');\r\n                params = params.replace('?', '').split('&');\r\n                Nui.each(params, function(v, k){\r\n                    var arr = v.split('=');\r\n                    ret.params[arr[0]] = arr[1]\r\n                })\r\n            }\r\n            return ret;\r\n        },\r\n        _change:function(){\r\n            var self = this;\r\n            delete self._active;\r\n            if(!$.isEmptyObject(self._paths)){\r\n                var _hash = location.hash, ret = this._split(_hash), hash = self._replace(ret.url), query = ret.params;\r\n                Nui.each(self._paths, function(v){\r\n                    if(hash === v.path || hash.indexOf(v.path) === 0){\r\n                        var params = hash.replace(v.path, '').replace(/^\\//, '');\r\n                        var object = self.__instances[v.id], opts = object._options, param = {};\r\n                        params = params ? params.split('/') : [];\r\n                        if(params.length === v.params.length){\r\n                            var isRender = object._isRender === true;\r\n                            var unWrapper = object._isRender !== false && !object._wrapper;\r\n                            var _isRender = !object.loaded || isRender || unWrapper;\r\n                            delete object._isRender;\r\n\r\n                            if(unWrapper || (object._wrapper && isRender)){\r\n                                opts.data = $.extend(true, {}, object._defaultOptions.data);\r\n                            }\r\n\r\n                            Nui.each(v.params, function(val, key){\r\n                                param[val] = params[key]\r\n                            })\r\n\r\n                            Nui.each(query, function(val, key){\r\n                                param[val] = query[key]\r\n                            })\r\n\r\n                            self._active = {\r\n                                path:v.path+'/',\r\n                                url:hash+'/',\r\n                                params:param,\r\n                                query:query\r\n                            }\r\n\r\n                            opts.data = $.extend(true, opts.data, self._active);\r\n\r\n                            if(object._send && object._send.data && typeof opts.onData === 'function'){\r\n                                opts.onData.call(opts, object._send.data);\r\n                                delete object._send;\r\n                            }\r\n\r\n                            if(_isRender){\r\n                                if(opts.wrapper && !object._wrapper){\r\n                                    if(typeof opts.wrapper !== 'boolean'){\r\n                                        object._wrapper = object.container.children(opts.wrapper)\r\n                                    }\r\n                                    else{\r\n                                        object._wrapper = self._getWrapper(object.container)\r\n                                    }\r\n                                }\r\n                                else if(!self._wrapper){\r\n                                    self._wrapper = self._getWrapper(object.container)\r\n                                }\r\n                                component.destroy((object._wrapper||self._wrapper).off());\r\n                            }\r\n\r\n                            var wrapper = opts.element = object._wrapper || self._wrapper;\r\n                            \r\n                            if(typeof opts.onChange === 'function' && opts.onChange.call(opts) === false){\r\n                                return false\r\n                            }\r\n                                \r\n                            if(_isRender){\r\n                                var tmpl = opts.template;\r\n                                if(tmpl){\r\n                                    if(typeof tmpl === 'string'){\r\n                                        wrapper.html(template.render(tmpl, opts.data));\r\n                                    }\r\n                                    else{\r\n                                        wrapper.html(template.render.call(tmpl, tmpl.main, opts.data));\r\n                                    }\r\n                                }\r\n                                if(typeof opts.onInit === 'function'){\r\n                                    opts.onInit.call(opts);\r\n                                }\r\n                                events.call(opts);\r\n                                component.init(wrapper);\r\n                                object.loaded = true;\r\n                            }\r\n\r\n                            wrapper.show().siblings('.nui-router-wrapper').hide();\r\n                            if(typeof opts.onAfter === 'function'){\r\n                                opts.onAfter.call(opts)\r\n                            }\r\n                            self._initialize = true;\r\n                            if(Nui.bsie7){\r\n                                self._setHistory(_hash);\r\n                            }\r\n                            return false\r\n                        }\r\n                    }\r\n                })\r\n\r\n                if(!self._initialize){\r\n                    Nui.each(self.__instances, function(v){\r\n                        if(!self._isEntry && v._options.entry === true){\r\n                            self._isEntry = true;\r\n                            if(v.target){\r\n                                v._render(v.target.eq(0));\r\n                            }\r\n                            else if(v.path){\r\n                                v._render(v.path);\r\n                            }\r\n                            self._initialize = true;\r\n                            return false\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n            self._oldhash = _hash;\r\n        },\r\n        _bindHashchange:function(){\r\n            var self = this;\r\n            if(Nui.bsie7){\r\n                var hashchange = function(ret){\r\n                    var hash = location.hash;\r\n                    if(self._oldhash !== hash){\r\n                        return !ret\r\n                    }\r\n                    return false\r\n                }\r\n                setInterval(function(){\r\n                    if(hashchange()){\r\n                        self._change()\r\n                    }\r\n                }, 100);\r\n                hashchange(true)\r\n            }\r\n            else{\r\n                Nui.win.on('hashchange', function(){\r\n                    self._change()\r\n                })\r\n            }\r\n        },\r\n        _$ready:null,\r\n        _$fn:null,\r\n        init:null,\r\n        start:function(){\r\n            if(!this._initialize){\r\n                this._change();\r\n            }\r\n        },\r\n        location:function(url, data, render){\r\n            var self = this;\r\n            if(url){\r\n                if(arguments.length <=2 && typeof data === 'boolean'){\r\n                    render = data;\r\n                    data = null;\r\n                }\r\n                var temp, _router, query = '';\r\n                var match = url.match(/\\?[^\\/\\s]+$/);\r\n                if(match){\r\n                    query = match[0]\r\n                }\r\n                url = this._replace(url.replace(/\\?[^\\/\\s]+$/, ''));\r\n                Nui.each(this._paths, function(val, rule){\r\n                    if(rule === url || (url.indexOf(val.path) === 0 &&\r\n                                        (temp = url.replace(new RegExp('^'+val.path), '').replace(/^\\//, '')) && \r\n                                        temp.split('/').length === val.params.length)){\r\n                        _router = self.__instances[val.id];\r\n                        return false\r\n                    }\r\n                })\r\n                if(_router){\r\n                    _router._send = {\r\n                        data:data\r\n                    }\r\n                    _router._isRender = render;\r\n                    _router._render(url + query)\r\n                }\r\n            }\r\n            else{\r\n                self.start()\r\n            }\r\n        },\r\n        active:function(){\r\n            return this._active\r\n        },\r\n        forward:function(index){\r\n            history.forward(index);\r\n            return false\r\n        },\r\n        back:function(index){\r\n            history.back(index);\r\n            return false\r\n        }\r\n    }\r\n\r\n    if(Nui.bsie7){\r\n        statics._history = [];\r\n        statics._setHistory = function(hash){\r\n            if(!this._isHistory){\r\n                Nui.each(this._history, function(val){\r\n                    val.active = false\r\n                });\r\n                this._history.push({\r\n                    hash:hash,\r\n                    active:true\r\n                })\r\n            }\r\n            this._isHistory = false;\r\n        },\r\n        Nui.each(['forward', 'back'], function(v){\r\n            var value = v==='forward' ? 1 : -1;\r\n            statics[v] = function(){\r\n                var self = this, len = self._history.length;\r\n                statics._isHistory = true;\r\n                Nui.each(self._history, function(val, i){\r\n                    var index = i + value;\r\n                    if(val.active){\r\n                        //历史记录在起始或者末尾时，调用原生的记录\r\n                        if(index === -1 || index === len){\r\n                            window.history[v]();\r\n                            return false\r\n                        }\r\n                        var _history = self._history[index];\r\n                        if(_history){\r\n                            location.hash = _history.hash;\r\n                            _history.active = true;\r\n                        }\r\n                        val.active = false;\r\n                        return false\r\n                    }\r\n                })\r\n                return false\r\n            }\r\n        })\r\n    }\r\n\r\n    return this.extend(component, {\r\n        _static:statics,\r\n        _options:{\r\n            path:'',\r\n            template:'',\r\n            container:null,\r\n            data:{},\r\n            entry:false,\r\n            wrapper:false,\r\n            level:2,\r\n            onBefore:null,\r\n            onChange:null,\r\n            onData:null,\r\n            onInit:null,\r\n            onAfter:null\r\n        },\r\n        _init:function(){\r\n            var self = this, router = self.constructor;\r\n            if(self._exec() && !router._bind){\r\n                router._bind = true;\r\n                router._bindHashchange();\r\n            }\r\n        },\r\n        _exec:function(){\r\n            var self = this, opts = self._options, router = self.constructor;\r\n            self.container = router._jquery(opts.container);\r\n            if(opts.path && self.container){\r\n                self.path = router._replace(opts.path);\r\n                var paths = self._getpath();\r\n                var len = paths.params.length;\r\n                if((!len && opts.level === 1) || opts.level !== 1){\r\n                    router._setpaths(paths.rule, paths)\r\n                }\r\n                if(len && opts.level > 0){\r\n                    var params = [], split = '/:', param, sub;\r\n                    while(param = paths.params.shift()){\r\n                        params.push(param);\r\n                        sub = params.join(split);\r\n                        router._setpaths(paths.rule+split+sub, $.extend({}, paths, {\r\n                            params:sub.split(split)\r\n                        }))\r\n                    }\r\n                }\r\n                if(self._getTarget()){\r\n                    self._event()\r\n                }\r\n                return self\r\n            }\r\n        },\r\n        _getpath:function(){\r\n            var self = this, path = self.path, opts = self._options, index = path.indexOf('/:');\r\n            var paths = {\r\n                id:self.__id,\r\n                params:[],\r\n                rule:path,\r\n                path:path\r\n            }\r\n            if(index !== -1){\r\n                paths.params = path.substr(index+2).split('/:');\r\n                self.path = paths.path = path.substr(0, index);\r\n                if(opts.level > 0){\r\n                    paths.rule = paths.path;\r\n                }\r\n            }\r\n            return paths\r\n        },\r\n        _render:function(url){\r\n            var self = this, opts = self._options, href = url instanceof jQuery ? url.attr('href') : url;\r\n            if(href){\r\n                var trigger = false;\r\n                var change = function(callback){\r\n                    trigger = true;\r\n                    var hash = '#!'+self.constructor._replace(href);\r\n                    if(typeof callback === 'function'){\r\n                        hash = callback(hash) || hash;\r\n                    }\r\n                    location.hash = hash\r\n                }\r\n                if(typeof opts.onBefore === 'function' && opts.onBefore.call(opts, change) === false){\r\n                    return false\r\n                }\r\n                if(!trigger){\r\n                    change()\r\n                }\r\n            }\r\n        },\r\n        _event:function(){\r\n            var self = this, opts = self._options;\r\n            self._on('click', Nui.doc, self.target, function(e, elem){\r\n                self._render(elem);\r\n                e.preventDefault()\r\n            })\r\n            return self\r\n        },\r\n        _reset:function(){\r\n            var self = this, router = self.constructor;\r\n            self._off();\r\n            Nui.each(router._paths, function(val, i){\r\n                if(val.id === self.__id){\r\n                    delete router._paths[i];\r\n                }\r\n            })\r\n            return self\r\n        },\r\n        option:null,\r\n        reset:null\r\n    })\r\n})\nNui.define('./script/demo',['src/components/router'], function(router){\r\n\tvar renders = this.renders;\r\n\tvar require = this.require;\r\n\tvar placeholder = require('src/components/placeholder');\r\n\r\n\trequire.async('./a?v=1', function(a){\r\n\t\tconsole.log(a)\r\n\t})\r\n\r\n\trouter({\r\n\t\ttarget:'#home',\r\n\t\tentry:true,\r\n\t\tpath:'/home/',\r\n\t\twrapper:'#aa',\r\n\t\tcontainer:'#main'\r\n\t})\r\n\tvar placeholder_opts = require('pages/components/router/script/options', true);\r\n\trouter({\r\n\t\ttarget:'#news, .news',\r\n\t\tentry:true,\r\n\t\tpath:'/news/:id/:title',\r\n\t\tcontainer:'#main',\r\n\t\tlevel:2,\r\n\t\ttemplate:{\r\n\t\t\tlist:'<ul>'+\r\n\t\t\t\t\t'<%each list%>'+\r\n\t\t\t\t\t'<li><a href=\"<%$value.url%>/<%$value.title%>\" class=\"news\"><%$value.title%></a></li>'+\r\n\t\t\t\t\t'<%/each%>'+\r\n\t\t\t\t'</ul>',\r\n\t\t\tdetail:'<div>'+\r\n\t\t\t\t\t\t'<h3><%params.title%></h3>'+\r\n\t\t\t\t\t\t'<p>这是<%params.title%>详情，id是<%params.id%>。<input type=\"text\" data-placeholder-options=\"'+ placeholder_opts.id +'\"></p>'+\r\n\t\t\t\t\t'</div>'\r\n\t\t},\r\n\t\tdata:{\r\n\t\t\tlist:[{\r\n\t\t\t\turl:'/news/1',\r\n\t\t\t\ttitle:'资讯1'\r\n\t\t\t},{\r\n\t\t\t\turl:'/news/2',\r\n\t\t\t\ttitle:'资讯2'\r\n\t\t\t}, {\r\n\t\t\t\turl:'/news/3',\r\n\t\t\t\ttitle:'资讯3'\r\n\t\t\t}]\r\n\t\t},\r\n\t\tonChange:function(){\r\n\t\t\tvar tpl = this.template, params = this.data.params;\r\n\t\t\tif(params.id && params.title){\r\n\t\t\t\t\r\n\t\t\t\ttpl.main = tpl.detail;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\ttpl.main = tpl.list;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonInit:function(){\r\n\t\t\t\r\n\t\t}\r\n\t})\r\n\r\n\trouter.start()\r\n})\n"]}