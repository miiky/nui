!function(define){Nui[define]('src/core/util',{regex:{mobile:/^0?(13|14|15|17|18)[0-9]{9}$/,tel:/^[0-9-()（）]{7,18}$/,email:/^\w+((-w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,idcard:/^\d{17}[\d|x]|\d{15}$/,cn:/^[\u4e00-\u9fa5]+$/,taxnum:/^[a-zA-Z0-9]{15,20}$/},toFixed:function(e,t,i){if(isNaN(e)||''===e)return e;void 0===i&&(i=2),t=t||0;var a=e.toString(),n=function(e){for(var t='';e>0;)t+='0',e--;return t},r='';a<0&&(a=a.replace('-',''),r='-');var l=a.indexOf('.');if(-1!==l&&t>=0){var o=parseInt(a.substr(0,l)),c='0'+a.substr(l),s='1'+n(t);c=(Math.round(c*s)/s).toFixed(t),c>=1&&(o=(o+1).toString()),a=r+o+c.substr(1)}else t>0&&(a=r+a+'.'+n(t));if(null!==i&&i>=0&&i<t){a=a.replace(/0+$/,'');var l=a.indexOf('.'),d=0;for(-1!==l&&(d=a.substr(l+1).length);d<i;)a+='0',d++;a=a.replace(/\.$/,'')}return a},getParam:function(e,t){var i=decodeURI(t||location.href),a={};if(startIndex=i.indexOf('?'),startIndex++>0){var n,r=i.substr(startIndex).split('&');Nui.each(r,function(e){n=e.split('='),a[n[0]]=n[1]})}return'string'==typeof e&&e&&(a=void 0!==(n=a[e])?n:''),a},setParam:function(e,t,i){var a,n=this;if(Nui.type(e,'Object'))a=t||location.href,Nui.each(e,function(e,t){e&&(a=n.setParam(t,e,a))});else if(a=i||location.href,-1===a.indexOf('?')&&(a+='?'),-1!==a.indexOf(e+'=')){var r=new RegExp('('+e+'=)[^&]*');a=a.replace(r,'$1'+t)}else{var l='';-1!==a.indexOf('=')&&(l='&'),a+=l+e+'='+t}return a},supportCss3:function(e){var t,i=['webkit','Moz','ms','o'],a=[],n=document.documentElement.style,r=function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})};for(t in i)a.push(r(i[t]+'-'+e));a.push(r(e));for(t in a)if(a[t]in n)return!0;return!1},supportHtml5:function(e,t){return e in document.createElement(t)},location:function(e,t){e&&jQuery('<a href="'+e+'"'+(t?'target="'+(t||'_self')+'"':'')+'><span></span></a>').appendTo('body').children().click().end().remove()},formatDate:function(e,t){if(e=parseInt(e)){if(!t)return e;var i=new Date(e),a={'M':i.getMonth()+1,'d':i.getDate(),'h':i.getHours(),'m':i.getMinutes(),'s':i.getSeconds()};return t=t.replace(/([yMdhms])+/g,function(e,t){var n=a[t];return void 0!==n?(e.length>1&&(n='0'+n,n=n.substr(n.length-2)),n):'y'===t?(i.getFullYear()+'').substr(4-e.length):e})}return'-'},getData:function(e,t,i){var a=this,n={'result':{},'voids':0,'total':0};if(e.length){var r=e.serializeArray();r.length||(r=e.find('[name]').serializeArray());var l=',';if(t&&'string'==typeof t&&!i&&(l=t),Nui.each(r,function(e,t){var i=Nui.trim(e.value);n.total++,i||n.voids++;var a=e.name;Nui.isArray(n.result[a])||(n.result[a]=[]),n.result[a].push(i)}),Nui.each(n.result,function(e,t){n.result[t]=e.join(l)}),t&&i){var o=!1;n.result[i]=[],e.find(t).each(function(){var e=a.getData($(this).find('[name]')).result;!0===t||o||(Nui.each(e,function(e,t){delete n.result[t]}),o=!0),n.result[i].push(e)})}}return n},getFocusIndex:function(e){var t=Nui.trim(e.value),i=t.length;if(e.setSelectionRange)i=e.selectionStart;else try{var a=document.selection.createRange(),n=e.createTextRange();n.setEndPoint('endtoend',a),i=n.text.length}catch(e){}return i},isTextSelect:function(){var e='';if(document.selection)e=document.selection.createRange().text;else if(-1!==navigator.userAgent.toLowerCase().indexOf('gecko')){var t=document.activeElement;e=t.value.substring(t.selectionStart,t.selectionEnd)}else window.getSelection?e=window.getSelection().toString():document.getSelection&&(e=document.getSelection().toString());return!!e},isInstallPDF:function(){var i,len,flag=!0;if((Nui.browser.webkit||Nui.browser.mozilla&&Nui.browser.version>19)&&(flag=!1),navigator.plugins&&(len=navigator.plugins.length))for(i=0;i<len;i++)if(/Adobe Reader|Adobe PDF|Acrobat|Chrome PDF Viewer/.test(navigator.plugins[i].name)){flag=!1;break}try{if(window.ActiveXObject||window.ActiveXObject.prototype){for(i=1;i<10;i++)try{if(eval('new ActiveXObject(\'PDF.PdfCtrl.'+i+'\');')){flag=!1;break}}catch(e){flag=!0}var arr=['PDF.PdfCtrl','AcroPDF.PDF.1','FoxitReader.Document','Adobe Acrobat','Adobe PDF Plug-in'];for(len=arr.length,i=0;i<len;i++)try{if(new ActiveXObject(arr[i])){flag=!1;break}}catch(e){flag=!0}}}catch(e){}return flag},isInstallFlash:function(){if(void 0!==window.ActiveXObject)try{if(new ActiveXObject('ShockwaveFlash.ShockwaveFlash'))return!1}catch(e){}else if(navigator.plugins['Shockwave Flash'])return!1;return Nui.browser.msie?'http://rj.baidu.com/soft/detail/17153.html':'http://rj.baidu.com/soft/detail/15432.html'},formatNumber:function(e){var t=parseInt(e);if(!isNaN(t)&&t&&(e=e.toString())){var i=e.indexOf('.'),a='';return i>0&&(a=e.substr(i)),t.toLocaleString().replace(/\.\d+$/,'')+a}return e},numberToCN:function(e){var t,i,a,n=new Array('零','壹','贰','叁','肆','伍','陆','柒','捌','玖'),r=new Array('','拾','佰','仟'),l=new Array('','万','亿','兆'),o=new Array('角','分','毫','厘'),c='';if(''==e)return'';var s=e<0;if((e=Math.abs(parseFloat(e)))>=1e15)return'';if(0==e)return c=n[0]+'元整';if(e=e.toString(),-1==e.indexOf('.')?(t=e,i=''):(a=e.split('.'),t=a[0],i=a[1].substr(0,4)),parseInt(t,10)>0){for(var d=0,u=t.length,f=0;f<u;f++){var h=t.substr(f,1),p=u-f-1,v=p/4,_=p%4;'0'==h?d++:(d>0&&(c+=n[0]),d=0,c+=n[parseInt(h)]+r[_]),0==_&&d<4&&(c+=l[v])}c+='元'}if(''!=i)for(var g=i.length,f=0;f<g;f++){var h=i.substr(f,1);'0'!=h&&(c+=n[Number(h)]+o[f])}return''==c?c+=n[0]+'元整':''==i&&(c+='整'),s&&(c='负'+c),c}}),Nui[define]('src/core/events',function(){return function(e){var t=this,i=e||t,a=i.constructor,n=a&&a.__component_name,r=t.element||i.element||Nui.doc,l=n?i._events:i.events;if(!r||!l)return i;'function'==typeof l&&(l=l.call(i)),r instanceof jQuery||(r=jQuery(r));var o,c,s,d=function(e,a,n){if('function'==typeof n)n.call(i,e,a);else{var r,l;Nui.each(n,function(n,o){if('function'==typeof(r=i[n])?l=i:'function'==typeof(r=t[n])&&(l=t),l)return s=r.call(l,e,a,s)})}};return Nui.each(l,function(e,t){!e||'string'!=typeof e&&'function'!=typeof e||('string'==typeof e&&(e=Nui.trim(e).split(/\s+/)),t=Nui.trim(t).split(/\s+/),o=t.shift().replace(/:/g,' '),c=t.join(' '),n?i._on(o,r,c,function(t,i){d(t,i,e)}):r.on(o,c,function(t){d(t,jQuery(this),e)}))}),i}}),Nui[define]('src/core/template',['src/core/util'],function(e){var t=function(e,t,a){if(this.tplid=e){if(i[e])return h.call(this,i[e],t,a);var n=document.getElementById(e);if(n&&'SCRIPT'===n.nodeName&&'text/html'===n.type)return h.call(this,i[e]=n.innerHTML,t,a)}return''},i={},a={openTag:'<%',closeTag:'%>'},n={trim:Nui.trim,formatDate:e.formatDate,formatNumber:e.formatNumber,setParam:e.setParam,toFixed:e.toFixed,numberToCN:e.numberToCN},r=!!''.trim,l=';$that.out = function(){return $that.code';l=(r?'""'+l:'[]'+l+'.join("")')+'}';var o=function(e){return r?e?function(e){return'$that.code += '+e+';'}:function(e,t){return e+=t}:e?function(e){return'$that.code.push('+e+');'}:function(e,t){return e.push(t),e}},c=o(!0),s=o(),d=function(e,i,a,n){var r=this,l=i.replace(/([^\s])/g,'\\$1'),o=a.replace(/([^\s])/g,'\\$1');return e.replace(new RegExp(l+'\\s*include\\s+[\'"]([^\'"]*)[\'"]\\s*'+o,'g'),function(e,i){if(i){var a=r[i];return'function'==typeof a&&(a=a()),'string'==typeof a?h.call(r,a,null,n):t(i,null,n)}return''})},u='object'==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return 1===e.nodeType&&'string'==typeof e.nodeName},f=function(e){if(e&&'object'==typeof e){var t=e[0];return u(t?t:e)}},h=function(e,t,i){var o=this;if('string'==typeof e){i=i||{};var c=i.openTag||a.openTag,u=i.closeTag||a.closeTag;if(e=d.call(o,e,c,u),t&&'object'==typeof t){Nui.isArray(t)&&(t={$list:t});var h=r?'':[];e=e.replace(/\s+/g,' '),Nui.each(e.split(c),function(e,t){e=e.split(u),t>=1?h=s(h,v(Nui.trim(e[0]),!0)):e[1]=e[0],h=s(h,v(e[1].replace(/'/g,'\\\'').replace(/"/g,'\\"')))});var _=r?'':[];for(var g in t)_=s(_,g+'=$data.'+g+',');r||(h=h.join(''),_=_.join('')),h='var '+_+'$that=this,$method=$that.methods; $that.line=4; $that.code='+l+';\ntry{\n'+h+';}\ncatch(e){\n$that.error(e, $that.line)\n};';try{var b=new Function('$data',h);b.prototype.methods=n,b.prototype.error=p(h,t,o.tplid),b.prototype.dom=f,e=new b(t).out(),b=null}catch(e){p(h,t,o.tplid)(e)}}return e}return''},p=function(e,t,i){return function(a,n){var r='\n',l=[];e='function anonymous($data){\n'+e+'\n}',e=e.split('\n'),Nui.each(e,function(e,t){l.push(t+1+'      '+e.replace('$that.line++;',''))}),r+='code\n',r+=l.join('\n')+'\n\n',void 0!==typeof JSON&&(r+='data\n',r+=JSON.stringify(t)+'\n\n'),i&&(r+='templateid\n',r+=i+'\n\n'),n&&(r+='line\n',r+=n+'\n\n'),r+='message\n',r+=a.message,console.error(r)}},v=function(e,t){if(!e)return'';var i,a;if(t)if(void 0!==(a=g(e,'if')))i='if('+_(a)+'){';else if(void 0!==(a=g(e,'elseif')))i='\n}\nelse if('+_(a)+'){';else if('else'===e)i='\n}\nelse{';else if('/if'===e)i='}';else if(void 0!==(a=g(e,'each ',/\s+/)))i='Nui.each('+a[0]+', function('+(a[1]||'$value')+','+(a[2]||'$index')+'){';else if('/each'===e)i='});';else if(void 0!==(a=g(e,' | ',/\s*,\s*/))){var n=a[0],r=n.lastIndexOf('('),l='('+_(a.slice(1).toString())+')';if(-1!==r){var o=n.substr(0,r),s=Nui.trimLeft(n.substr(r+1));i=c(o+'($that.methods.'+s+l)}else i=c('$that.methods.'+n+l)}else i=/^(var|let|const|return|delete)\s+/.test(e)?_(e)+';':c(_(e,!0));else i=c('\''+e+'\'');return i+'\n$that.line++;'},_=function(e,t){return e.replace(/([\.\$\w]+\s*(\[[\'\"\[\]\w\.\$\s]+\])?)\?\?/g,function(e,i){var a='(typeof '+i+'!=="undefined"&&'+i+'!==null&&'+i+'!==undefined&&!$that.dom('+i+')';return t&&(a+='?'+i+':""'),a+')'})},g=function(e,t,i){var a;if(0===e.indexOf(t)?a='':' | '===t&&e.indexOf(t)>0&&(a=','),void 0!==a)return e=Nui.trimLeft(e.replace(t,a)),i?e.split(i):e};return t.method=function(e,t){n[e]||(n[e]=t)},t.config=function(){var e=arguments;Nui.type(e[0],'Object')?Nui.each(e[0],function(e,t){a[t]=e}):e.length>1&&'string'==typeof e[0]&&(a[e[0]]=e[1])},t.render=h,t}),Nui[define]('src/core/component',['src/core/template','src/core/events'],function(tpl,events){var module=this,require=this.require,extend=this.extend,callMethod=function(e,t,i){if(t.length>e.length){var a=t[t.length-1];if(a&&Nui.type(a,['String','Number'])&&i._options.id!==a&&i.__id!==a)return}e.apply(i,t)};Nui.bsie7&&Nui.doc.on('focus','button, input[type="button"]',function(){this.blur()});var statics={__id:0,__instances:{},__setMethod:function(apis,components){var self=this;return Nui.each(apis,function(val,methodName){void 0===self[methodName]&&(self[methodName]=function(){var self=this,args=arguments,container=args[0],name=self.__component_name;if(name&&'component'!==name)if(container&&container instanceof jQuery)if('init'===methodName){var mod=components[name];mod&&container.find('[data-'+name+'-options]').each(function(){if(!this.nui||!this.nui[name]){var elem=jQuery(this),options=elem.data(name+'Options'),_mod;options&&'string'==typeof options&&(/^{[\s\S]*}$/.test(options)?options=eval('('+options+')'):(_mod=require(options,!0))&&(options='function'==typeof _mod.exports?_mod.exports(elem):_mod.exports)),'object'!=typeof options&&(options={}),mod(extend(options,{target:elem}))}})}else container.find('[nui_component_'+name+']').each(function(){var e,t;this.nui&&(e=this.nui[name])&&'function'==typeof(t=e[methodName])&&callMethod(t,Array.prototype.slice.call(args,1),e)});else Nui.each(self.__instances,function(e){var t=e[methodName];'function'==typeof t&&callMethod(t,args,e)});else Nui.each(components,function(e,t){'component'!==t&&'function'==typeof e[methodName]&&e[methodName].apply(e,args)})})}),self},_options:{},_init:jQuery.noop,_jquery:function(e){return e instanceof jQuery?e:jQuery(e)},_getSize:function(e,t,i){var a=0;if(i=i||'border',t=t||'tb','all'===i)return this._getSize(e,t)+this._getSize(e,t,'padding')+this._getSize(e,t,'margin');var n={l:['Left'],r:['Right'],lr:['Left','Right'],t:['Top'],b:['Bottom'],tb:['Top','Bottom']},r=[{border:{l:['LeftWidth'],r:['RightWidth'],lr:['LeftWidth','RightWidth'],t:['TopWidth'],b:['BottomWidth'],tb:['TopWidth','BottomWidth']}},{padding:n},{margin:n}];return Nui.each(r,function(n){n[i]&&Nui.each(n[i][t],function(t){var n=parseFloat(e.css(i+t));a+=isNaN(n)?0:n})}),a},_$fn:function(e,t){jQuery.fn[e]=function(){var i=arguments,a=i[0];return this.each(function(){if('string'!=typeof a)Nui.type(a,'Object')?a.target=this:a={target:this},t(a);else if(a){var n;if(this.nui&&(n=this.nui[e])&&0!==a.indexOf('_'))if('options'===a)n.option(i[1],i[2]);else{var r=n[a];'function'==typeof r&&r.apply(n,Array.prototype.slice.call(i,1))}}})}},_$ready:function(e,t){'function'==typeof this.init&&this.init(Nui.doc)},config:function(){var e=arguments,t=(e.length,e[0]);return Nui.type(t,'Object')?this._options=jQuery.extend(!0,this._options,t):Nui.type(t,'String')?1===e.length?this._options[t]:this._options[t]=e[1]:void 0},hasInstance:function(e){var t=!1,a=this.__instances;if(e)Nui.each(a,function(i){if(i._options.id===e)return t=!0,!1});else for(i in a)return!0;return t}};return{_static:statics,_options:{target:null,id:'',skin:'',className:'',onInit:null,onReset:null,onDestroy:null},_template:{},_init:function(){this._exec()},_exec:jQuery.noop,_getTarget:function(){var e=this;if(!e.target){var t=e._options.target,i=e.constructor;if(!t)return null;t=i._jquery(t),e.target=e._bindComponentName(t)}return e.target},_bindComponentName:function(e){var t=this,i=t.constructor,a='nui_component_'+i.__component_name;return e.attr(a,'').each(function(){this.nui||(this.nui={}),this.nui[i.__component_name]=t}),e},_tplData:function(e){var t=this._options,i=this.constructor,a='nui-'+i.__component_name,n=Nui.trim(t.skin),r=function(e,t){if(e.__parent){var i=e.__parent.constructor,a=i.__component_name;if('component'!==a)return n&&t.unshift('nui-'+a+'-'+n),t.unshift('nui-'+a),r(i,t)}return t},l=r(i,[]);return l.push(a),n&&l.push(a+'-'+n),t.id&&l.push(i.__component_name+'-'+t.id),e||(e={}),t.className&&l.push(t.className),e.className=l.join(' '),e},_event:function(){var e=this,t=e._options;return e.element&&t.events&&(t.element=e.element,events.call(e,t)),events.call(e)},_on:function(e,t,i,a,n){var r=this;'function'==typeof i&&(n=a,a=i,i=t,t=null,i=r.constructor._jquery(i));var l=function(e){return a.call(this,e,jQuery(this))};return t?('string'!=typeof i&&((i=i.selector)||(i=r._options.target)),t.on(e,i,l),n&&t.find(i).trigger(e)):(i.on(e,l),n&&i.trigger(e)),r.__eventList.push({dalegate:t,selector:i,type:e,callback:l}),r},_off:function(){var e=this,t=e.__eventList;return Nui.each(t,function(e,i){e.dalegate?e.dalegate.off(e.type,e.selector,e.callback):e.selector.off(e.type,e.callback),t[i]=null,delete t[i]}),e.__eventList=[],e},_delete:function(){var e=this,t=e.constructor;if(e.target){var i='nui_component_'+t.__component_name;e.target.removeAttr(i).each(function(){this.nui&&(this.nui[t.__component_name]=null,delete this.nui[t.__component_name])})}t.__instances[e.__id]=null,delete t.__instances[e.__id]},_reset:function(){return this._off(),this.element&&(this.element.remove(),this.element=null),this},_tpl2html:function(e,t){var i={openTag:'<%',closeTag:'%>'};return 1===arguments.length?tpl.render(this._template,e,i):tpl.render.call(this._template,this._template[e],t,i)},_callback:function(e,t){var i=this,a=i._options,n=a['on'+e];if('function'==typeof n)return t?(Array.prototype.unshift.call(t,i),n.apply(a,t)):n.call(a,i)},option:function(e,t){var i,a=arguments,n=!1;return!0===a[0]?n=!0:jQuery.isPlainObject(a[0])?(i=a[0],n=a[1]):a.length>1&&'string'==typeof a[0]&&(i={},i[a[0]]=a[1],n=a[2]),(i||n)&&(this._options=jQuery.extend(!0,{},this[!0===n?'_defaultOptions':'_options'],i),this._reset(),this._exec()),this},reset:function(){return this.option(!0),this._callback('Reset'),this},destroy:function(){this._delete(),this._reset(),this._callback('Destroy')}}}),Nui[define]('src/components/datagrid',function(){var e=this,t=e.require('src/core/component'),i=e.require('src/core/util'),a=function(){var e,t,i=document.createElement('div');return i.style.cssText='position:absolute; top:-10000em; left:-10000em; width:100px; height:100px; overflow:hidden;',e=document.body.appendChild(i).clientWidth,i.style.overflowY='scroll',t=i.clientWidth,document.body.removeChild(i),e-t}();return e.extend(t,{_static:{_init:function(){var e=this;Nui.doc.on('click',function(t){var i=$(t.target).closest('tr').hasClass('table-row');Nui.each(e.__instances,function(e){!i&&e.element&&e._activeElem&&(e._callback('CancelActive',[t,e._activeElem]),e._activeElem.removeClass('s-crt'),delete e._activeElem,e._activeFixedElem&&(e._activeFixedElem.removeClass('s-crt'),delete e._activeFixedElem))})});var t=null;Nui.win.on('resize',function(){clearTimeout(t),t=setTimeout(function(){Nui.each(e.__instances,function(e){'100%'===e._options.height&&e.resize()})},80)})},_hasChildren:function(e){return Nui.isArray(e.children)&&e.children.length},_colspan:function(e,t){var i=this;return void 0===t&&(t=0),Nui.each(e,function(e){i._hasChildren(e)?t+=i._colspan(e.children):t+=1}),t}},_options:{container:null,data:null,columns:null,isFixed:!0,isLine:!1,isActive:!0,isBorder:!0,isPaging:!0,isDir:!1,keyCode:[9,13],url:null,paging:null,fields:null,dataField:'list',width:'100%',height:'100%',footer:'',placeholder:'',onFocusin:null,onFocusout:null,onFocus:null,onBlur:null,stringify:null,rowRender:null,onActive:null,onCancelActive:null,onRowRender:null,onRowClick:null,onRowDblclick:null,onCheckboxChange:null,onRender:null,onRenderBefore:null,onScroll:null},_template:{layout:'<div class="<% className %>"><div class="datagrid-body<%if isFixed%> datagrid-fixed<%/if%>"><%include "table"%></div><%if footer || paging%><div class="datagrid-foot"><%if footer%><%footer%><%/if%><%if paging%><div class="datagrid-paging"></div><%/if%></div><%/if%></div>',table:'<%each rows v k%><%if v.length%><div class="datagrid-table<%if k === "left" || k === "right"%> datagrid-table-fixed<%/if%> datagrid-table-<%k%>"><%if !isFixed%><div class="datagrid-box"><table class="ui-table<%if !isBorder%> ui-table-nobd<%/if%>"><%include "thead"%><tbody class="table-tbody datagrid-tbody"></tbody></table></div><%else%><div class="datagrid-title"><div class="datagrid-thead"><table class="ui-table<%if !isBorder%> ui-table-nobd<%/if%>"><%include "thead"%></table></div></div><div class="datagrid-box"><table class="ui-table<%if !isBorder%> ui-table-nobd<%/if%>"><tbody class="table-tbody datagrid-tbody"></tbody></table></div><%/if%></div><%/if%><%/each%>',thead:'<thead class="table-thead"><%each v%><tr class="table-row"><%var cellLastIndex = $value.length-1%><%each $value val key%><%var isTitle = true%><%var _classNames = val.className%><%if typeof _classNames === "function"%><%if _classNames = Nui.trim(val.className()||"")%><%var _classNames = " " + _classNames%><%/if%><%/if%><th class="table-cell<%_classNames%> table-cell-<%key%><%if cellLastIndex === key%> table-cell-last<%/if%>"<%include "attr"%>><span class="cell-wrap"<%if val.width > 0 && (val.fixed === "left" || val.fixed === "right")%> style="width:<%val.width%>px"<%/if%>><span class="cell-text"><%if val.title%><%val.title%><%if typeof val.order === "object"%><%var asc = Nui.type(val.order.asc, ["String", "Number"]), desc = Nui.type(val.order.desc, ["String", "Number"])%><em class="datagrid-order<%if asc && desc%> datagrid-order-both<%/if%>" field="<%val.order.field%>"><%if asc%><b class="datagrid-order-asc" type="asc" value="<%val.order.asc%>"><i></i><s></s></b><%/if%><%if desc%><b class="datagrid-order-desc" value="<%val.order.desc%>"><i></i><s></s></b><%/if%></em><%/if%><%elseif val.content === "checkbox"%><span class="ui-checkradio"><input type="checkbox" name="datagrid-checkbox-all" class="datagrid-checkbox datagrid-checkbox-choose"></span><%/if%></span></span></th><%/each%></tr><%/each%></thead>',rows:'<%if list && list.length%><%var toLower = function(str){return str.replace(/([A-Z])/g, function(a){return "-"+a.toLowerCase()})}%><%each list%><%var rowData = rowRender($value, $index)||{}%><%var className = (rowData.className ? " "+rowData.className : "")%><%delete rowData.className%><tr class="table-row table-row-<%$index%><%className%>" row-pagenum="<%pageNum??%>" row-index="<%$index%>"<%include "data"%><%each rowData _v _n%> <%_n%>="<%_v%>"<%/each%>><%var colLastIndex = cols.length-1%><%each cols val key%><%var _value%><%if val.field && (!val.content || "number checkbox input".indexOf(val.content)===-1)%><%var _value=$value[val.field]%><%elseif val.content === "number"%><%var _value=$index+1%><%elseif val.content === "checkbox"%><%var _value={"name":val.field ? val.field : "datagrid-checkbox", "class":"datagrid-checkbox"+(!val.title ? " datagrid-checkbox-choose" : ""), "value":$value[val.field]!==undefined?$value[val.field]:""}%><%elseif val.content === "input"%><%var _value={"name":val.field ? val.field : "datagrid-input", "class":"datagrid-input", "value":$value[val.field]!==undefined?$value[val.field]:""}%><%else%><%var _value=val.content%><%/if%><%var _classNames = val.className%><%if typeof _classNames === "function"%><%if _classNames = Nui.trim(val.className(_value, val.field, $value, $index)||"")%><%var _classNames = " " + _classNames%><%/if%><%/if%><td class="table-cell<%_classNames%> table-cell-<%key%><%if colLastIndex === key%> table-cell-last<%/if%>"<%include "attr"%>><%if typeof val.filter === "function"%><%var _value = val.filter(_value, val.field, $value, $index)%><%/if%><span class="cell-wrap<%if val.nowrap === true%> cell-nowrap<%/if%>"<%if val.width > 0 && (val.fixed === "left" || val.fixed === "right")%> style="width:<%val.width%>px"<%/if%>><span class="cell-text<%if val.content === "checkbox"%> cell-text-checkbox<%/if%><%if val.content === "input"%> cell-text-input<%/if%>"<%if val.showtitle === true%> title="<%_value%>"<%/if%>><%if val.content === "checkbox" && typeof _value === "object"%><%if checked === true && !val.title && (_value["checked"]=checked)%><%/if%><span class="ui-checkradio"><input type="checkbox"<%include "_attr"%>></span><%elseif val.content === "input" && typeof _value === "object"%><input type="text" autocomplete="off"<%include "_attr"%>><%else%><%include "content"%><%/if%></span></span></td><%/each%></tr><%/each%><%elseif type === "all"%><tr><td class="table-cell table-cell-void" colspan="<%cols.length%>"><span class="ui-void"><%placeholder??%></span></td></tr><%/if%>',_attr:'<%if !_value["class"]%><%var _class = _value["class"] = ""%><%/if%><%if _value.className%><%var _class = (_value["class"]+=" "+Nui.trim(_value.className))%><%delete _value.className%><%/if%><%each _value _v _k%> <%_k%>="<%_v%>"<%/each%>',attr:'<%each val value name%><%if !isTitle?? && name === "style"%>style="<%each value _v _k%><%_k%>:<%_v%>;<%/each%>"<%elseif "width field colspan rowspan cellid".indexOf(name) !== -1%> <%name%>="<%value%>"<%/if%><%/each%>',data:'<%if fields%><%each $value value field%><%if fields === true || $.inArray(field, fields) !== -1%><%var _value = stringify(value)%> data-<%toLower(field)%>=<%if typeof _value !== "undefined"%><%_value%><%else%>"<%value%>"<%/if%><%/if%><%/each%><%/if%>'},_exec:function(){var e=this,t=e._options,i=e.constructor,a=t.container;a&&Nui.isArray(t.columns)&&t.columns.length&&(e._container=i._jquery(a),e._columns={all:[],left:[],right:[]},e._checked=!1,Nui.each(t.columns,function(t,i){'left'===t.fixed||!0===t.fixed?e._columns.left.push(t):'right'===t.fixed&&e._columns.right.push(t),e._columns.all.push(t)}),e._keyCode=[],!0===t.isDir&&(e._keyCode=e._keyCode.concat([37,38,39,40])),t.keyCode&&(e._keyCode=e._keyCode.concat(t.keyCode)),e._create())},_create:function(){var e=this,t=e._options;e.constructor;e._rows={},e._cols={},e._colTemplates={},e._rowNumber=e._getRowNumber(t.columns,0,[]),e._setTemplate(),Nui.each(e._columns,function(t,i){e._setRowCol(t,i)}),e._hasLeftRight=this._cols.left.length||this._cols.right.length,e.element=e._bindComponentName($(e._tpl2html('layout',e._tplData({rows:e._rows,isFixed:!0===t.isFixed,isBorder:!0===t.isBorder,paging:t.paging&&'object'==typeof t.paging&&!1!==t.paging.isPage,footer:t.footer}))).appendTo(e._container)),e.element.find('.table-thead .datagrid-checkbox').checkradio(e._checkradio()),e._body=e.element.children('.datagrid-body'),e._tableAll=e._body.children('.datagrid-table-all'),e._tableAllBox=e._tableAll.find('.datagrid-box'),e._tableAllTitle=e._tableAll.children('.datagrid-title'),e._tableAllThead=e._tableAll.find('.datagrid-thead'),e._tableLeft=e._body.children('.datagrid-table-left'),e._tableRight=e._body.children('.datagrid-table-right'),e._tableFixed=e._body.children('.datagrid-table-fixed'),e._tableFixedBox=e._tableFixed.find('.datagrid-box'),e._foot=e.element.children('.datagrid-foot'),e._tableTbody=e._body.find('.datagrid-tbody'),t.width&&(e._tableAllThead.children().css('width',t.width),e._tableAllBox.children().css('width',t.width)),e._theadHeight(),e._initList(),e._bindEvent()},_setTemplate:function(){var e=this,t='';Nui.each(e._colTemplates,function(e,i){t+='<%'+(t?'else':'')+'if ("content_"+val.cellid) === "'+i+'"%><%include "'+i+'"%>'}),t?t+='<%else%><%_value??%><%/if%>':t='<%_value??%>',e._template.content=t},_getRowNumber:function(e,t,i,a,n){var r=this,l=r.constructor;return i[t]||(i[t]=!0),void 0===a&&(a=0),Nui.each(e,function(e){e.cellid=a++;var o=e.order,c=e.className;if(!0===o&&(o='desc'),'asc'!==o&&'desc'!==o||(e.order={},e.order[o]=1),e.order&&!e.order.field&&(e.order.field=e.field),!0===e.template){var s='content_'+e.cellid;r._template[s]=r._colTemplates[s]=e.filter||e.content}e.style||(e.style={}),e.align&&(e.style['text-align']=e.align),e.valign&&(e.style['vertical-align']=e.valign),e.width&&(e.width=e.width.toString().replace(/px$/,'')),'function'!=typeof c&&(c||(c=''),c&&(c=' '+Nui.trim(c)),e.className=c),$.isEmptyObject(e.style)&&delete e.style,n&&n.fixed&&(e.fixed=n.fixed),l._hasChildren(e)&&(a=r._getRowNumber(e.children,t+1,i,a,e))}),n?a:i.length},_initList:function(){var e=this,t=e._options;if(t.paging){delete t.paging.wrap,t.paging.wrap=e._foot.children('.datagrid-paging'),t.paging.container=e._tableAllBox;var i='paging_'+e.__id,a=t.paging.echoData;t.paging.echoData=function(i,n){e.element&&(e.data=i,e._render(n),'function'==typeof a&&a.call(t,i,n))},e.paging=window[i]=new Paging(t.paging),!0===t.isPaging&&e.paging.query(!0)}else t.data&&(e.data=t.data,e._render())},_bindEvent:function(){var e=this;e._options;e._on('scroll',e._tableAllBox,function(t,i){e._scroll(i),e._callback('Scroll',[t,i,{left:i.scrollLeft(),top:i.scrollTop()}])}),e._event()},_getList:function(){var e,t=this,i=t._options,a=i.dataField,n=t.data;return a&&Nui.type(n,'Object')&&Nui.each(a.split('.'),function(e){if(!n[e])return n=null,!1;n=n[e]}),(e=t._callback('RenderBefore',[n]))&&Nui.type(e,'Array')&&(n=e),n||[]},_render:function(e){var t=this,i=t._options,a='',n=i.paging.scroll&&!0===i.paging.scroll.enable;t.list=t._getList(),n&&'reload'===e&&t.element.find('.datagrid-tbody [row-pagenum="'+t.paging.current+'"]').nextAll().addBack().remove(),Nui.each(t._cols,function(r,l){if(r.length){a=t.list.length&&'function'==typeof i.rowRender?i.rowRender.call(i,t,t.list,r,l):t._tpl2html('rows',{type:l,isFixed:!0===i.isFixed,cols:r,fields:i.fields?!0===i.fields?i.fields:[].concat(i.fields):null,list:t.list,placeholder:i.placeholder,pageNum:t.paging.current,checked:t._checked,stringify:function(e){if('function'==typeof i.stringify)return i.stringify.call(i,e)},rowRender:function(e,a){return'function'==typeof i.onRowRender?i.onRowRender.call(i,t,e,a):i.onRowRender}});var o,c=t.element.find('.datagrid-table-'+l+' .datagrid-tbody');o=!n||'jump'!==e&&'reload'!==e?c.html(a):$(a).appendTo(c),o.find('.datagrid-checkbox').checkradio(t._checkradio())}}),t._resetSize(),t._callback('Render')},_checkradio:function(){var e=this;e._options;return{callback:function(t,i){var a='datagrid-checkbox-choose';if(t.hasClass(a)){var n=t.prop('checked');if(t.closest('.datagrid-table').hasClass('datagrid-table-all')||e._tableAllBox.find('.table-row[row-index="'+t.closest('.table-row').attr('row-index')+'"]').find('.'+a).checkradio('checked',n),'datagrid-checkbox-all'===t.attr('name'))e._checked=n,e._tableTbody.find('.'+a+':enabled').checkradio('checked',n);else{var n=e._tableTbody.find('.'+a+':checked').length===e._tableTbody.find('.'+a).length;e._checked=n,e._body.find('.table-thead .'+a).checkradio('checked',n)}}e._callback('CheckboxChange',[i,t])}}},_resetSize:function(){var e=this,t=e._options,i=e.constructor;if(e._rowHeight(),'auto'!==t.height){var n=e._tableAllBox.scrollTop();e._tableAllBox.css('height','auto');var r=e._container.height();t.height>0&&(r=t.height);var l=r-e._tableAllTitle.outerHeight()-i._getSize(e._tableAllTitle,'tb','margin')-e._foot.outerHeight()-i._getSize(e._foot,'tb','margin');if(e._tableAllBox.height(l),!0===t.isFixed){var o=e._tableAllBox.children(),c=e._tableAllBox.height()>=o.outerHeight()?0:a,s=l;o.outerWidth()>e._tableAllBox.width()&&(s-=a),Nui.browser.msie&&Nui.browser.version<=7&&'100%'===t.width&&o.width(e._tableAllBox.width()-c),e._tableFixedBox.height(s),e._tableAllTitle.css({'margin-right':c}),e._tableRight.css('right',c)}e._tableAllBox.scrollTop(n)}},_theadHeight:function(){var e=this;e._hasLeftRight&&e._tableFixed.find('.table-thead .table-cell').each(function(t){var i=$(this),a=i.attr('cellid'),n=e._tableAll.find('.table-thead .table-cell[cellid="'+a+'"]'),r=n.height(),l=i.height(r).height()-r;i.height(r-l)})},_rowHeight:function(){var e=this;if(e._hasLeftRight){var t=e._tableLeft.find('.table-tbody .table-row'),i=e._tableLeft.find('.table-tbody .table-row');e._tableAll.find('.table-tbody .table-row').each(function(e){var a=$(this).outerHeight();t.eq(e).height(a),i.eq(e).height(a)})}},_setRowCol:function(e,t,i){var a=this,n=(a._options,a.constructor);void 0===i&&(i=0),a._rows[t]||(a._rows[t]=[]),a._cols[t]||(a._cols[t]=[]),e.length&&!a._rows[t][i]&&(a._rows[t][i]=[]),Nui.each(e,function(e){var r=n._hasChildren(e),l={};r&&(l.colspan=n._colspan(e.children),a._setRowCol(e.children,t,i+1)),Nui.each(e,function(e,t){'children'!==t&&(l[t]=e)}),r||(l.rowspan=a._rowNumber-i,a._cols[t].push(e)),a._rows[t][i].push(l)})},_editInput:function(e,t){var a=t.get(0),n=e.keyCode;if(37===n||39===n){var r,l=i.getFocusIndex(a);if(r=37===n?0!==l:l!==a.value.length,i.isTextSelect()||r)return!1}},_horzFocus:function(e,t,i,a){var n=t.closest('td.table-cell'),r=n[i]();if(a&&e.preventDefault(),r.length){var l=r.find('.datagrid-input');!l.length||l.prop('readonly')||l.prop('disabled')?this._horzFocus(e,r.children(),i,a):(l.focus(),setTimeout(function(){l.select()}))}else{var l,o=n.closest('.table-row').children('td.table-cell');'prev'===i?$.each($.makeArray(o).reverse(),function(e,t){var i=$(t).find('.datagrid-input');if(i.length)return l=i,!1}):o.each(function(){var e=$(this).find('.datagrid-input');if(e.length)return l=e,!1}),l&&this._verticalFocus(e,l,i)}},_verticalFocus:function(e,t,i){var a=t.closest('td.table-cell'),n=a.index(),r=a.closest('.table-row')[i]();if(r.length){var l=r.children('td.table-cell').eq(n),o=l.find('.datagrid-input');!o.length||o.prop('readonly')||o.prop('disabled')?this._verticalFocus(e,l.children(),i):(o.focus(),setTimeout(function(){o.select()}))}e.preventDefault()},_dirFocus:function(e,t){var i=this,a=e.keyCode;if(-1!==$.inArray(a,i._keyCode))switch(a){case 37:i._horzFocus(e,t,'prev');break;case 38:i._verticalFocus(e,t,'prev');break;case 39:i._horzFocus(e,t,'next');break;case 40:i._verticalFocus(e,t,'next');break;default:i._horzFocus(e,t,'next',!0)}},_events:{'click .table-tbody .table-row':'_getRowData _active','mouseenter .table-tbody .table-row':function(e,t){this._tableFixed.length&&this._tableFixed.find('.datagrid-tbody .table-row[row-index="'+t.attr('row-index')+'"]').addClass('s-hover'),t.addClass('s-hover'),this._callback('RowMouseover',[e,t])},'mouseleave .table-tbody .table-row':function(e,t){this._tableFixed.length&&this._tableFixed.find('.datagrid-tbody .table-row[row-index="'+t.attr('row-index')+'"]').removeClass('s-hover'),t.removeClass('s-hover'),this._callback('RowMouseout',[e,t])},'dblclick .table-tbody .table-row':'_getRowData _rowdblclick',
'focus .datagrid-input':'_enable _getRowData _focus','blur .datagrid-input':'_enable _getRowData _blur','focusin .table-tbody .table-cell':'_focusin','focusout .table-tbody .table-cell':'_focusout','click .datagrid-order > b':'_order','keydown .datagrid-input':'_editInput _dirFocus'},_order:function(e,t){t.toggleClass('s-crt'),t.siblings().removeClass('s-crt');var i=t.parent(),a=i.attr('field'),n=i.children('b.s-crt').attr('value');this.paging&&(this.paging.condition[a]=n,this.paging.query(!0))},_enable:function(e,t){if(t.prop('readonly')||t.prop('disabled'))return e.stopPropagation(),!1},_active:function(e,t,i){var a=this;a._callback('RowClick',[e,t,i]),!0===a._options.isActive&&(a.cancelActive(),a._activeElem=t.addClass('s-crt'),a._tableFixed.length&&(a._activeFixedElem=a._tableFixed.find('.datagrid-tbody .table-row[row-index="'+t.attr('row-index')+'"]').addClass('s-crt')),a._callback('Active',[e,t,i]))},_getRowData:function(e,t){return t.hasClass('table-row')?t.data():t.closest('.table-row').data()},_focus:function(e,t,i){return this._active(e,t.closest('.table-row'),i),this._callback('Focus',arguments)},_blur:function(e,t,i){return this._callback('Blur',arguments)},_focusin:function(e,t){return t.addClass('s-focus'),this._callback('Focusin',arguments)},_focusout:function(e,t){return t.removeClass('s-focus'),this._callback('Focusout',arguments)},_rowdblclick:function(e,t,i){return this._callback('RowDblclick',arguments)},_scroll:function(e){var t=this,i=e.scrollTop(),a=e.scrollLeft();t._tableFixedBox.scrollTop(i),t._tableAllThead.scrollLeft(a)},resize:function(){this._theadHeight(),this._resetSize(),this._callback('Resize')},scrollTo:function(e,t){var i=this._tableAllBox;i.scrollTop(t||0),i.scrollLeft(e||0)},cancelActive:function(){!0===this._options.isActive&&this._activeElem&&(this._activeElem.removeClass('s-crt'),delete this._activeElem)},checkedData:function(e){var t=this,i=[];return t._tableAllBox.find('.datagrid-checkbox-choose:checked').each(function(){var t=$(this).closest('.table-row').data();e?i.push(t[e]):i.push(t)}),i}})}),Nui[define]('pages/components/datagrid/script/checkradio',function(require,imports,renders,extend){!function(e,t){e.fn.checkradio=function(t,i){if(!t||e.isPlainObject(t)){var a=e.extend({switches:{off:'',on:''},beforeCallback:e.noop,callback:e.noop},t||{});return this.each(function(){var t=e(this),i=t.closest('.ui-checkradio');if(i.length){var n=t.prop('checked')?' s-checked':'',r=t.prop('disabled')?' s-dis':'',l=t.attr('name'),o=e.extend({},a.switches,t.data()||{}),c=i.find('.text'),s='radio';t.is(':checkbox')&&(s='checkbox'),i.children().attr('checkname')?i.children().attr('class','ui-'+s+n+r):(o.off&&o.on&&(i.addClass('ui-switches'),c=e('<s class="text">'+(t.prop('checked')?o.on:o.off)+'</s>').insertBefore(t)),t.css({position:'absolute',top:'-999em',left:'-999em',opacity:0}).wrap('<i></i>'),i.wrapInner('<em class="ui-'+s+n+r+'" checkname="'+l+'"></em>').children().click(function(i){var n=e(this);if(!t.is(':disabled')&&!1!==a.beforeCallback(t,i)){if(t.is(':checkbox')){var r=t.prop('checked');t.prop('checked',!r),n[(r?'remove':'add')+'Class']('s-checked'),c.length&&c.text(r?o.off:o.on)}else{if(t.prop('checked'))return;t.prop('checked',!0),e('.ui-radio[checkname="'+l+'"]').removeClass('s-checked'),n.addClass('s-checked')}a.callback(t,i)}})),a.init&&!t.is(':disabled')&&!1!==a.beforeCallback(t)&&a.callback(t,'init')}})}return e(this).prop(t,1==i).checkradio()}}(jQuery)}),Nui[define]('pages/components/datagrid/script/paging',function(require,imports,renders,extend){!function(e,t,i,a){function n(a){var r=this;r.load=!1,r.instance=function(){for(var t in e)if(e[t]==r)return t.toString()},i.extend(r,i.extend(!0,{url:'',wrap:null,paramJSON:'',pCount:10,current:1,aCount:0,last:!1,allData:!1,isFull:!0,container:e,scroll:{enable:!1},ajax:{},condition:{},loading:{wrap:null,show:function(){var e=this;e.hide();var t=e.wrap;t&&t.append('<i class="ui-loading" style="position:absolute;">正在加载数据...</i>').css({position:'relative'})},hide:function(){i('.ui-loading').remove()}},button:{prev:'«',next:'»',first:'',last:''},extPage:{wrap:null,desc:'',prev:'上一页',next:'下一页'},refreshCallback:null,endCallback:i.noop,jumpCallback:i.noop,echoData:i.noop},n.options,a||{})),r.container=i(r.container||e),!0===r.scroll.enable&&(r.wrap=null,r.children=r.container[0]===e?i(t.body):r.container.children(),r.container.scroll(function(){r.resize()}).resize(function(){r.resize()}))}var r=function(e){return e.dataType='json',i.ajax(e)};n.options={},n.config=function(e){i.extend(!0,n.options,e||{})},n.prototype={constructor:n,jump:function(e){var t,a=this,n=Math.ceil(a.aCount/a.pCount);if(a.showload=!0,a.aCount>0)if('object'==typeof e){var r=i(e).prevAll('input').val();t=r<=n&&r!=a.current?parseInt(r):a.current}else t=e>0&&e<=n?e:e<0?n+e+1:n;else t=e;if(a.current=a.condition.current=t,a.jumpCallback(t),'function'==typeof a.refreshCallback)return a.refreshCallback(t),void a.create();a.getData('jump')},query:function(e){var t=this;t.showload=!0,t.load=!1,'function'!=typeof t.refreshCallback||'refresh'!==e?(e?('noloading'===e?t.showload=!1:'reload'!==e&&(t.current=1),t.filter(),t.condition.current=t.current):t.condition={current:t.current=1},t.getData(e||'')):t.create()},filter:function(){var e=this;for(var t in e.condition)e.condition[t]||delete e.condition[t]},getData:function(t){var a=this;a.condition.pCount=a.pCount,!0===a.allData&&(delete a.condition.pCount,delete a.condition.current);var n=a.condition;if(a.paramJSON){n=[],i.each(a.condition,function(e,t){n.push(e+':'+t)});var l=n.length?'{'+n.join(',')+'}':'';n={},n[a.paramJSON]=l}var o='function'==typeof a.ajax?a.ajax():a.ajax;delete o.success,a.load||(a.load=!0,r(i.extend({},!0,{url:a.url,data:n,success:function(i){try{i.current=a.current}catch(e){}var n,r=0;if(a.container[0]===e||'reload'===t||'noloading'===t||'jump'===t&&('jump'!==t||a.scroll.enable)||(a.container.scrollTop(0),a.container.scrollLeft(0)),'reload'===t){var l=a.container;a.selector?(l=a.container.find(a.selector),r=l.scrollTop()):r=l.scrollTop(),n=l.find('tr.rows.s-crt').index()}if(a.echoData(i,t),a.aCount=i.aCount,a.load=!1,!0===a.scroll.enable&&a.resize(),r>0){var l=a.container;a.selector?(l=a.container.find(a.selector),l.scrollTop(r)):l.scrollTop(r),n>=0&&l.find('tr.rows').eq(n).addClass('s-crt')}if(!0===a.last)return a.last=!1,void a.jump(-1);a.create(),a.endCallback(i)},error:function(){a.showload&&a.loading.hide(),a.load=!1}},o||{})))},trim:function(e){var t=Math.abs(parseInt(i(e).val()));!t&&(t=1),i(e).val(t)},echoList:function(e,t,i){return this.current==t?'<li><span class="s-crt">'+t+'</span></li>':'<li><a href="javascript:'+i+'.jump('+t+');" target="_self">'+t+'</a></li>'},resize:function(){var e=this;try{var t=e.container.scrollTop(),i=e.container.height(),a=e.children.outerHeight();!e.load&&Math.ceil(e.aCount/e.pCount)>e.current&&(0===t&&a<=i||i+t>=a)&&e.jump(++e.current)}catch(e){}},create:function(){var e=this,t=e.button,i=Math.ceil(e.aCount/e.pCount),a=e.current,n='',r=i==a?1:a+1,l=e.instance(),o=e.extPage;if(o.wrap){var c='<div>';c+=a==i||0==i?'<span>'+o.next+'</span>':'<a href="javascript:'+l+'.jump('+(a+1)+');" target="_self">'+o.next+'</a>',c+=1==a?'<span>'+o.prev+'</span>':'<a href="javascript:'+l+'.jump('+(a-1)+');" target="_self">'+o.prev+'</a>',c+='</div><em>'+(0!==i?a:0)+'/'+i+'</em><strong>共'+e.aCount+o.desc+'</strong>',o.wrap.html(c)}if(e.wrap){if(!i)return void e.wrap.empty();if(n+=function(){var i='';return 1==a?(t.first&&(i+='<li><span>'+t.first+'</span></li>'),i+='<li><span>'+t.prev+'</span></li>'):(e.button.first&&(i+='<li><a href="javascript:'+l+'.jump(1);" target="_self">'+t.first+'</a></li>'),i+='<li><a href="javascript:'+l+'.jump('+(a-1)+');" target="_self">'+t.prev+'</a></li>'),i}(),i<=7)for(var s=1;s<=i;s++)n+=e.echoList(n,s,l);else if(a-3>1&&a+3<i){n+='<li><a href="javascript:'+l+'.jump(1);" target="_self">1</a></li>',n+='<li><em>...</em></li>';for(var s=a-2;s<=a+2;s++)n+=e.echoList(n,s,l);n+='<li><em>...</em></li>',n+='<li><a href="javascript:'+l+'.jump('+i+');" target="_self">'+i+'</a></li>'}else if(a-3<=1&&a+3<i){for(var s=1;s<=5;s++)n+=e.echoList(n,s,l);n+='<li><em>...</em></li>',n+='<li><a href="javascript:'+l+'.jump('+i+');" target="_self">'+i+'</a></li>'}else if(a-3>1&&a+3>=i){n+='<li><a href="javascript:'+l+'.jump(1);" target="_self">1</a></li>',n+='<li><em>...</em></li>';for(var s=i-5;s<=i;s++)n+=e.echoList(n,s,l)}n+=function(){var e='';return a==i?(e+='<li><span>'+t.next+'</span></li>',t.last&&(e+='<li><span>'+t.last+'</span></li>')):(e+='<li><a href="javascript:'+l+'.jump('+(a+1)+');" target="_self">'+t.next+'</a></li>',t.last&&(e+='<li><a href="javascript:'+l+'.jump('+i+');" target="_self">'+t.last+'</a></li>')),e}(),e.isFull&&(n+='<li><em>跳转到第</em><input type="text" onblur="'+l+'.trim(this);" value="'+r+'" /><em>页</em><button type="button" onclick="'+l+'.jump(this);">确定</button></li>'),n='<ul class="ui-paging">'+n+'</ul>',e.wrap.html(n)}}},i.extend({paging:function(t,i){void 0===i&&(i=t,t='paging');var a=e[t]=new n(i);return'function'!=typeof e[t].refreshCallback?(a.query(!0),a):(a.query('refresh'),a)}}),e.Paging=n}(window,document,jQuery)}),Nui[define]('./script/demo',function(require,imports,renders,extend){var e=(require('pages/components/datagrid/script/paging'),require('pages/components/datagrid/script/checkradio'),require('src/core/template')),t=require('src/components/datagrid'),i=t({container:'#data',paging:{url:'http://127.0.0.1:8001/data/',pCount:20},width:'110%',columns:[{title:'名称',width:100,field:'buname',fixed:'left'},{title:'名称',width:100,field:'buname1',fixed:'left'},{title:'名称',width:200,field:'buname',children:[{children:[{title:'名称',width:100,field:'buname'},{title:'名称',width:100,field:'buname'}]}]},{title:'名称',width:100,field:'buname',children:[{title:'名称',width:100,field:'buname',children:[{title:'名称',width:100,field:'buname'}]}]},{title:'名称',width:100,field:'buname'}],rowRender:function(t,i,a,n){return e.render(renders('<%each list%><tr class="table-row"><%each cols col%><td class="table-cell" width="<%col.width%>"></td><%/each%></tr><%/each%>'),{cols:a,list:i})}});$('h1').click(function(){i.option('isBorder',!0)})})}('_module_2_define');
//# sourceMappingURL=demo-min.js.map?v=7838c1b